
NDK_PATH ?= /opt/android-ndk-r4

TOOLCHAIN_PREFIX=ccache $(NDK_PATH)/build/prebuilt/linux-x86/arm-eabi-4.4.0/bin/arm-eabi-
ARCH_FLAGS += -fpic -mthumb-interwork -ffunction-sections -funwind-tables -fstack-protector -fno-short-enums\
-Wno-psabi -march=armv7-a -msoft-float -fno-exceptions -fno-rtti -fomit-frame-pointer -fno-strict-aliasing -finline-limit=64  
CFLAGS += -I$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/include
CFLAGS += -D__linux__ -DANDROID 

LDFLAGS += \
	--verbose -nostdlib -Bdynamic -Wl,-dynamic-linker,/system/bin/linker -Wl,--gc-sections -Wl,-z,nocopyreloc \
	$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/lib/crtbegin_dynamic.o \
	$(NDK_PATH)/build/prebuilt/linux-x86/arm-eabi-4.4.0/bin/../lib/gcc/arm-eabi/4.4.0/libgcc.a\
	$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/lib/libc.so \
	$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/lib/libstdc++.so \
	$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/lib/libm.so \
	-L$(NDK_PATH)/eclair/out/target/product/generic/system/lib \
	-L$(NDK_PATH)/eclair/out/target/product/generic/system/lib -Wl,--no-undefined \
	-Wl,-z,noexecstack  -Wl,-rpath-link=$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/lib \
	$(NDK_PATH)/build/platforms/android-8/arch-arm/usr/lib/crtend_android.o

include $(SID_DIR)/buildfiles/arch/_common-linux-arm.mk
