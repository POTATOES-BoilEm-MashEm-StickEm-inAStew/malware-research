<HTML>
<BODY BGCOLOR="white">
<PRE>
<FONT color="green">001</FONT>    package com.skype.api;<a name="line.1"></a>
<FONT color="green">002</FONT>    <a name="line.2"></a>
<FONT color="green">003</FONT>    import java.io.IOException;<a name="line.3"></a>
<FONT color="green">004</FONT>    import java.util.Collections;<a name="line.4"></a>
<FONT color="green">005</FONT>    import java.util.EnumSet;<a name="line.5"></a>
<FONT color="green">006</FONT>    import java.util.HashMap;<a name="line.6"></a>
<FONT color="green">007</FONT>    import java.util.Iterator;<a name="line.7"></a>
<FONT color="green">008</FONT>    import java.util.Map;<a name="line.8"></a>
<FONT color="green">009</FONT>    import java.util.Vector;<a name="line.9"></a>
<FONT color="green">010</FONT>    <a name="line.10"></a>
<FONT color="green">011</FONT>    import com.skype.api.Account.AccountListener;<a name="line.11"></a>
<FONT color="green">012</FONT>    import com.skype.api.Contact.ContactListener;<a name="line.12"></a>
<FONT color="green">013</FONT>    import com.skype.api.ContactGroup.ContactGroupListener;<a name="line.13"></a>
<FONT color="green">014</FONT>    import com.skype.api.ContactSearch.ContactSearchListener;<a name="line.14"></a>
<FONT color="green">015</FONT>    import com.skype.api.Conversation.ConversationListener;<a name="line.15"></a>
<FONT color="green">016</FONT>    import com.skype.api.Message.MessageListener;<a name="line.16"></a>
<FONT color="green">017</FONT>    import com.skype.api.Participant.DTMF;<a name="line.17"></a>
<FONT color="green">018</FONT>    import com.skype.api.Participant.ParticipantListener;<a name="line.18"></a>
<FONT color="green">019</FONT>    import com.skype.api.Sms.SmsListener;<a name="line.19"></a>
<FONT color="green">020</FONT>    import com.skype.api.Transfer.TransferListener;<a name="line.20"></a>
<FONT color="green">021</FONT>    import com.skype.api.Video.VideoListener;<a name="line.21"></a>
<FONT color="green">022</FONT>    import com.skype.api.Voicemail.VoicemailListener;<a name="line.22"></a>
<FONT color="green">023</FONT>    import com.skype.ipc.AbstractDecoder;<a name="line.23"></a>
<FONT color="green">024</FONT>    import com.skype.ipc.Event;<a name="line.24"></a>
<FONT color="green">025</FONT>    import com.skype.ipc.PropertyChange;<a name="line.25"></a>
<FONT color="green">026</FONT>    import com.skype.ipc.Request;<a name="line.26"></a>
<FONT color="green">027</FONT>    import com.skype.ipc.Response;<a name="line.27"></a>
<FONT color="green">028</FONT>    import com.skype.ipc.RootObject;<a name="line.28"></a>
<FONT color="green">029</FONT>    import com.skype.ipc.XCallRequest;<a name="line.29"></a>
<FONT color="green">030</FONT>    <a name="line.30"></a>
<FONT color="green">031</FONT>    public class Skype extends RootObject {<a name="line.31"></a>
<FONT color="green">032</FONT>    <a name="line.32"></a>
<FONT color="green">033</FONT>            <a name="line.33"></a>
<FONT color="green">034</FONT>            public interface SkypeListener {<a name="line.34"></a>
<FONT color="green">035</FONT>                    public void OnNewCustomContactGroup(ContactGroup group);<a name="line.35"></a>
<FONT color="green">036</FONT>                    <a name="line.36"></a>
<FONT color="green">037</FONT>                    /**This contact has appeared online. display alert*/<a name="line.37"></a>
<FONT color="green">038</FONT>                    public void OnContactOnlineAppearance(Contact contact);<a name="line.38"></a>
<FONT color="green">039</FONT>                    <a name="line.39"></a>
<FONT color="green">040</FONT>                    /**This contact has gone offline. display alert*/<a name="line.40"></a>
<FONT color="green">041</FONT>                    public void OnContactGoneOffline(Contact contact);<a name="line.41"></a>
<FONT color="green">042</FONT>                    <a name="line.42"></a>
<FONT color="green">043</FONT>                    /**This event gets fired when a Conversation item is added or removed from the list specified in the type argument. The primary use of this event is to detect creation of new Conversation objects. It can also be used for detecting occurance of live sessions - by monitoring added = true in Conversation.LIVE_CONVERSATIONS. Note that this method is not entirely sufficient for detecting live session termination (added = false and type = Conversation.LIVE_CONVERSATIONS). When the live session goes down, the default behaviour is that the Conversation object remains in the LIVE_CONVERSATIONS list for approximately 10 seconds. When another live session comes up within the same Conversation, the OnConversationListChange event will not fire - because the conversation was already in that list. There are two ways of getting around that. Firstly you can have all the conversations referenced at all times and then monitor Conversation.P_LOCAL_LIVESTATUS property changes, in which case you can pick up incoming live sessions from there. Alternatively, you can remove the delay between live session termination and conversation's removal from the LIVE_CONVERSATIONS list. This delay is controlled by the SETUPKEY_RECENTLY_LIVE_TIMEOUT setup key. To remove the delay, use Skype.SetInt(SETUPKEY_RECENTLY_LIVE_TIMEOUT, 0). Note that this setup key is account-based. You will need to have an account logged in in order to modify its value. &lt;br&gt;*/<a name="line.43"></a>
<FONT color="green">044</FONT>                    public void OnConversationListChange(Conversation conversation, Conversation.LIST_TYPE type, boolean added);<a name="line.44"></a>
<FONT color="green">045</FONT>                    <a name="line.45"></a>
<FONT color="green">046</FONT>                    public void OnMessage(Message message, boolean changesInboxTimestamp, Message supersedesHistoryMessage, Conversation conversation);<a name="line.46"></a>
<FONT color="green">047</FONT>                    <a name="line.47"></a>
<FONT color="green">048</FONT>                    /**This callback gets fired when there are changes in the system video device list (USB webcam gets plugged in or is detached.) &lt;br&gt;*/<a name="line.48"></a>
<FONT color="green">049</FONT>                    public void OnAvailableVideoDeviceListChange();<a name="line.49"></a>
<FONT color="green">050</FONT>                    <a name="line.50"></a>
<FONT color="green">051</FONT>                    /**This callback gets fired when there are changes in the system audio device list (USB headset gets plugged in or is detached.) &lt;br&gt;*/<a name="line.51"></a>
<FONT color="green">052</FONT>                    public void OnAvailableDeviceListChange();<a name="line.52"></a>
<FONT color="green">053</FONT>                    <a name="line.53"></a>
<FONT color="green">054</FONT>                    /**This callback gets fired when the audio strength changes in either playback or recording audio streams. Useful for providing visual indicators of audio activity in your UI. &lt;br&gt;*/<a name="line.54"></a>
<FONT color="green">055</FONT>                    public void OnNrgLevelsChange();<a name="line.55"></a>
<FONT color="green">056</FONT>                    <a name="line.56"></a>
<FONT color="green">057</FONT>                    public void OnProxyAuthFailure(PROXYTYPE type);<a name="line.57"></a>
<FONT color="green">058</FONT>                    <a name="line.58"></a>
<FONT color="green">059</FONT>            }<a name="line.59"></a>
<FONT color="green">060</FONT>            <a name="line.60"></a>
<FONT color="green">061</FONT>            public HashMap&lt;Integer, SkypeObject&gt; object_list_base;<a name="line.61"></a>
<FONT color="green">062</FONT>            public HashMap&lt;Integer, Object&gt; listeners_base;<a name="line.62"></a>
<FONT color="green">063</FONT>            public Map&lt;Integer, SkypeObject&gt; object_list;<a name="line.63"></a>
<FONT color="green">064</FONT>            public Map&lt;Integer, Object&gt; listeners;<a name="line.64"></a>
<FONT color="green">065</FONT>            <a name="line.65"></a>
<FONT color="green">066</FONT>            private Skype skype;<a name="line.66"></a>
<FONT color="green">067</FONT>            <a name="line.67"></a>
<FONT color="green">068</FONT>            public Skype() {<a name="line.68"></a>
<FONT color="green">069</FONT>                    object_list_base = new HashMap&lt;Integer, SkypeObject&gt;();<a name="line.69"></a>
<FONT color="green">070</FONT>                    listeners_base = new HashMap&lt;Integer, Object&gt;();<a name="line.70"></a>
<FONT color="green">071</FONT>                    <a name="line.71"></a>
<FONT color="green">072</FONT>                    object_list = Collections.synchronizedMap(object_list_base);<a name="line.72"></a>
<FONT color="green">073</FONT>                    listeners = Collections.synchronizedMap(listeners_base);<a name="line.73"></a>
<FONT color="green">074</FONT>                    skype = this;<a name="line.74"></a>
<FONT color="green">075</FONT>            }<a name="line.75"></a>
<FONT color="green">076</FONT>            <a name="line.76"></a>
<FONT color="green">077</FONT>            private static final int module_id = 0;<a name="line.77"></a>
<FONT color="green">078</FONT>            <a name="line.78"></a>
<FONT color="green">079</FONT>            public static final int getmoduleid() {<a name="line.79"></a>
<FONT color="green">080</FONT>                    return module_id;<a name="line.80"></a>
<FONT color="green">081</FONT>            }<a name="line.81"></a>
<FONT color="green">082</FONT>            <a name="line.82"></a>
<FONT color="green">083</FONT>            /** Register listener interface, need to pass module id as first param*/<a name="line.83"></a>
<FONT color="green">084</FONT>            public void RegisterListener(int modid, Object listener)<a name="line.84"></a>
<FONT color="green">085</FONT>            {<a name="line.85"></a>
<FONT color="green">086</FONT>                    listeners.put(modid, listener);<a name="line.86"></a>
<FONT color="green">087</FONT>            }<a name="line.87"></a>
<FONT color="green">088</FONT>            <a name="line.88"></a>
<FONT color="green">089</FONT>            /** Remove listener interface, need to pass module id as first param*/<a name="line.89"></a>
<FONT color="green">090</FONT>            public void UnRegisterListener(int modid, Object listener)<a name="line.90"></a>
<FONT color="green">091</FONT>            {<a name="line.91"></a>
<FONT color="green">092</FONT>                    if (listeners.containsKey(modid))<a name="line.92"></a>
<FONT color="green">093</FONT>                            listeners.remove(modid);<a name="line.93"></a>
<FONT color="green">094</FONT>            }<a name="line.94"></a>
<FONT color="green">095</FONT>            <a name="line.95"></a>
<FONT color="green">096</FONT>            public void HandlePropertyChange(PropertyChange pc){<a name="line.96"></a>
<FONT color="green">097</FONT>                    SkypeObject obj = null;<a name="line.97"></a>
<FONT color="green">098</FONT>                    Object val = null;<a name="line.98"></a>
<FONT color="green">099</FONT>                    Object prop = null;<a name="line.99"></a>
<FONT color="green">100</FONT>                    <a name="line.100"></a>
<FONT color="green">101</FONT>                    //check object exists in list and get value <a name="line.101"></a>
<FONT color="green">102</FONT>                    if (object_list.containsKey(pc.oid))<a name="line.102"></a>
<FONT color="green">103</FONT>                    {<a name="line.103"></a>
<FONT color="green">104</FONT>                            obj = object_list.get(pc.oid);<a name="line.104"></a>
<FONT color="green">105</FONT>                            int kind = pc.GetKind();<a name="line.105"></a>
<FONT color="green">106</FONT>                            <a name="line.106"></a>
<FONT color="green">107</FONT>                            switch (kind) {<a name="line.107"></a>
<FONT color="green">108</FONT>                                    case 'i':<a name="line.108"></a>
<FONT color="green">109</FONT>                                    case 'u':<a name="line.109"></a>
<FONT color="green">110</FONT>                                    case 'e':<a name="line.110"></a>
<FONT color="green">111</FONT>                                            try {<a name="line.111"></a>
<FONT color="green">112</FONT>                                                    val = new Integer(pc.GetAsInt());<a name="line.112"></a>
<FONT color="green">113</FONT>                                            } catch (IOException e) {<a name="line.113"></a>
<FONT color="green">114</FONT>                                                    e.printStackTrace();<a name="line.114"></a>
<FONT color="green">115</FONT>                                                    if (errorListener!=null)<a name="line.115"></a>
<FONT color="green">116</FONT>                                                            errorListener.OnSkypeKitFatalError();<a name="line.116"></a>
<FONT color="green">117</FONT>                                            }<a name="line.117"></a>
<FONT color="green">118</FONT>                                            break;<a name="line.118"></a>
<FONT color="green">119</FONT>                                    case 'T':<a name="line.119"></a>
<FONT color="green">120</FONT>                                    case 'F':<a name="line.120"></a>
<FONT color="green">121</FONT>                                            try {<a name="line.121"></a>
<FONT color="green">122</FONT>                                                    val = new Boolean(pc.GetAsBoolean());<a name="line.122"></a>
<FONT color="green">123</FONT>                                            } catch (IOException e) {<a name="line.123"></a>
<FONT color="green">124</FONT>                                                    e.printStackTrace();<a name="line.124"></a>
<FONT color="green">125</FONT>                                                    if (errorListener!=null)<a name="line.125"></a>
<FONT color="green">126</FONT>                                                            errorListener.OnSkypeKitFatalError();<a name="line.126"></a>
<FONT color="green">127</FONT>                                            }<a name="line.127"></a>
<FONT color="green">128</FONT>                                            break;<a name="line.128"></a>
<FONT color="green">129</FONT>                                    case 'S':<a name="line.129"></a>
<FONT color="green">130</FONT>                                    case 'X':<a name="line.130"></a>
<FONT color="green">131</FONT>                                    case 'f':<a name="line.131"></a>
<FONT color="green">132</FONT>                                            try {<a name="line.132"></a>
<FONT color="green">133</FONT>                                                    val = new String(pc.GetAsString());<a name="line.133"></a>
<FONT color="green">134</FONT>                                            } catch (IOException e) {<a name="line.134"></a>
<FONT color="green">135</FONT>                                                    e.printStackTrace();<a name="line.135"></a>
<FONT color="green">136</FONT>                                                    if (errorListener!=null)<a name="line.136"></a>
<FONT color="green">137</FONT>                                                            errorListener.OnSkypeKitFatalError();<a name="line.137"></a>
<FONT color="green">138</FONT>                                            }<a name="line.138"></a>
<FONT color="green">139</FONT>                                            break;<a name="line.139"></a>
<FONT color="green">140</FONT>                                    case 'B':<a name="line.140"></a>
<FONT color="green">141</FONT>                                            if (pc.hasValue()){<a name="line.141"></a>
<FONT color="green">142</FONT>                                                    try {<a name="line.142"></a>
<FONT color="green">143</FONT>                                                            val = new String(pc.GetAsBinary(0));<a name="line.143"></a>
<FONT color="green">144</FONT>                                                    } catch (IOException e) {<a name="line.144"></a>
<FONT color="green">145</FONT>                                                            e.printStackTrace();<a name="line.145"></a>
<FONT color="green">146</FONT>                                                            if (errorListener!=null)<a name="line.146"></a>
<FONT color="green">147</FONT>                                                                    errorListener.OnSkypeKitFatalError();<a name="line.147"></a>
<FONT color="green">148</FONT>                                                    }<a name="line.148"></a>
<FONT color="green">149</FONT>                                            }<a name="line.149"></a>
<FONT color="green">150</FONT>                                            break;<a name="line.150"></a>
<FONT color="green">151</FONT>                                    default:<a name="line.151"></a>
<FONT color="green">152</FONT>                                            break;<a name="line.152"></a>
<FONT color="green">153</FONT>                            }<a name="line.153"></a>
<FONT color="green">154</FONT>                            <a name="line.154"></a>
<FONT color="green">155</FONT>                            //update the property cache<a name="line.155"></a>
<FONT color="green">156</FONT>                            if (val!=null) {<a name="line.156"></a>
<FONT color="green">157</FONT>                                    obj.mPropCache.put(pc.propid, val);<a name="line.157"></a>
<FONT color="green">158</FONT>                            }<a name="line.158"></a>
<FONT color="green">159</FONT>                            else {<a name="line.159"></a>
<FONT color="green">160</FONT>                                    obj.mPropCache.remove(pc.propid);<a name="line.160"></a>
<FONT color="green">161</FONT>                            }<a name="line.161"></a>
<FONT color="green">162</FONT>                            //call listener if this exists?<a name="line.162"></a>
<FONT color="green">163</FONT>                            if (listeners.containsKey(pc.moid))<a name="line.163"></a>
<FONT color="green">164</FONT>                             {<a name="line.164"></a>
<FONT color="green">165</FONT>                                    Object listener = listeners.get(pc.moid);<a name="line.165"></a>
<FONT color="green">166</FONT>                                    if (listener != null){<a name="line.166"></a>
<FONT color="green">167</FONT>                                            prop = obj.GetPropertyAsEnum(pc.propid);<a name="line.167"></a>
<FONT color="green">168</FONT>                                            <a name="line.168"></a>
<FONT color="green">169</FONT>                                            switch (pc.moid)<a name="line.169"></a>
<FONT color="green">170</FONT>                                            {<a name="line.170"></a>
<FONT color="green">171</FONT>                                            case 5: //Account<a name="line.171"></a>
<FONT color="green">172</FONT>                                                    ((AccountListener) listener).OnPropertyChange(obj, (Account.PROPERTY)prop, val);<a name="line.172"></a>
<FONT color="green">173</FONT>                                                    break;<a name="line.173"></a>
<FONT color="green">174</FONT>                                                    <a name="line.174"></a>
<FONT color="green">175</FONT>                                            case 2: //Contact<a name="line.175"></a>
<FONT color="green">176</FONT>                                                    ((ContactListener) listener).OnPropertyChange(obj, (Contact.PROPERTY)prop, val);<a name="line.176"></a>
<FONT color="green">177</FONT>                                                    break;<a name="line.177"></a>
<FONT color="green">178</FONT>                                                    <a name="line.178"></a>
<FONT color="green">179</FONT>                                            case 10: //ContactGroup<a name="line.179"></a>
<FONT color="green">180</FONT>                                                    ((ContactGroupListener) listener).OnPropertyChange(obj, (ContactGroup.PROPERTY)prop, val);<a name="line.180"></a>
<FONT color="green">181</FONT>                                                    break;<a name="line.181"></a>
<FONT color="green">182</FONT>                                                    <a name="line.182"></a>
<FONT color="green">183</FONT>                                            case 1: //ContactSearch<a name="line.183"></a>
<FONT color="green">184</FONT>                                                    ((ContactSearchListener) listener).OnPropertyChange(obj, (ContactSearch.PROPERTY)prop, val);<a name="line.184"></a>
<FONT color="green">185</FONT>                                                    break;<a name="line.185"></a>
<FONT color="green">186</FONT>                                                    <a name="line.186"></a>
<FONT color="green">187</FONT>                                            case 18: //Conversation<a name="line.187"></a>
<FONT color="green">188</FONT>                                                    ((ConversationListener) listener).OnPropertyChange(obj, (Conversation.PROPERTY)prop, val);<a name="line.188"></a>
<FONT color="green">189</FONT>                                                    break;<a name="line.189"></a>
<FONT color="green">190</FONT>                                                    <a name="line.190"></a>
<FONT color="green">191</FONT>                                            case 9: //Message<a name="line.191"></a>
<FONT color="green">192</FONT>                                                    ((MessageListener) listener).OnPropertyChange(obj, (Message.PROPERTY)prop, val);<a name="line.192"></a>
<FONT color="green">193</FONT>                                                    break;<a name="line.193"></a>
<FONT color="green">194</FONT>                                                    <a name="line.194"></a>
<FONT color="green">195</FONT>                                            case 19: //Participant<a name="line.195"></a>
<FONT color="green">196</FONT>                                                    ((ParticipantListener) listener).OnPropertyChange(obj, (Participant.PROPERTY)prop, val);<a name="line.196"></a>
<FONT color="green">197</FONT>                                                    break;<a name="line.197"></a>
<FONT color="green">198</FONT>                                                    <a name="line.198"></a>
<FONT color="green">199</FONT>                                            case 12: //Sms<a name="line.199"></a>
<FONT color="green">200</FONT>                                                    ((SmsListener) listener).OnPropertyChange(obj, (Sms.PROPERTY)prop, val);<a name="line.200"></a>
<FONT color="green">201</FONT>                                                    break;<a name="line.201"></a>
<FONT color="green">202</FONT>                                                    <a name="line.202"></a>
<FONT color="green">203</FONT>                                            case 6: //Transfer<a name="line.203"></a>
<FONT color="green">204</FONT>                                                    ((TransferListener) listener).OnPropertyChange(obj, (Transfer.PROPERTY)prop, val);<a name="line.204"></a>
<FONT color="green">205</FONT>                                                    break;<a name="line.205"></a>
<FONT color="green">206</FONT>                                                    <a name="line.206"></a>
<FONT color="green">207</FONT>                                            case 11: //Video<a name="line.207"></a>
<FONT color="green">208</FONT>                                                    ((VideoListener) listener).OnPropertyChange(obj, (Video.PROPERTY)prop, val);<a name="line.208"></a>
<FONT color="green">209</FONT>                                                    break;<a name="line.209"></a>
<FONT color="green">210</FONT>                                                    <a name="line.210"></a>
<FONT color="green">211</FONT>                                            case 7: //Voicemail<a name="line.211"></a>
<FONT color="green">212</FONT>                                                    ((VoicemailListener) listener).OnPropertyChange(obj, (Voicemail.PROPERTY)prop, val);<a name="line.212"></a>
<FONT color="green">213</FONT>                                                    break;<a name="line.213"></a>
<FONT color="green">214</FONT>                                                    <a name="line.214"></a>
<FONT color="green">215</FONT>                                            default:<a name="line.215"></a>
<FONT color="green">216</FONT>                                                    break;<a name="line.216"></a>
<FONT color="green">217</FONT>                                            }<a name="line.217"></a>
<FONT color="green">218</FONT>                                    }<a name="line.218"></a>
<FONT color="green">219</FONT>                            }<a name="line.219"></a>
<FONT color="green">220</FONT>                    }<a name="line.220"></a>
<FONT color="green">221</FONT>            }<a name="line.221"></a>
<FONT color="green">222</FONT>            <a name="line.222"></a>
<FONT color="green">223</FONT>            @Override<a name="line.223"></a>
<FONT color="green">224</FONT>            public void Close() throws IOException {<a name="line.224"></a>
<FONT color="green">225</FONT>                    FlushObjects();<a name="line.225"></a>
<FONT color="green">226</FONT>                    super.Close();<a name="line.226"></a>
<FONT color="green">227</FONT>            }<a name="line.227"></a>
<FONT color="green">228</FONT>            <a name="line.228"></a>
<FONT color="green">229</FONT>            /**Clear all Skypekit Objects and PROPERTIES in object cache */<a name="line.229"></a>
<FONT color="green">230</FONT>            public void FlushObjects()<a name="line.230"></a>
<FONT color="green">231</FONT>            {<a name="line.231"></a>
<FONT color="green">232</FONT>                    Iterator&lt;Integer&gt; iter = object_list.keySet().iterator();<a name="line.232"></a>
<FONT color="green">233</FONT>                    while (iter.hasNext()) {<a name="line.233"></a>
<FONT color="green">234</FONT>                            Integer key = iter.next();<a name="line.234"></a>
<FONT color="green">235</FONT>                            SkypeObject obj  = object_list.get(key);<a name="line.235"></a>
<FONT color="green">236</FONT>                            obj.flush_cache();<a name="line.236"></a>
<FONT color="green">237</FONT>                    }<a name="line.237"></a>
<FONT color="green">238</FONT>                    object_list.clear();<a name="line.238"></a>
<FONT color="green">239</FONT>            }<a name="line.239"></a>
<FONT color="green">240</FONT>            <a name="line.240"></a>
<FONT color="green">241</FONT>            /** Mobile Mode related keys for Skypekit runtime*/<a name="line.241"></a>
<FONT color="green">242</FONT>            private static final String mobileModeEnabled        = "*Lib/PM/MobileModeEnabled";<a name="line.242"></a>
<FONT color="green">243</FONT>            private static final String superNodeKeepalivePeriod = "*Lib/Connection/SupernodeKeepalivePeriod";<a name="line.243"></a>
<FONT color="green">244</FONT>            private static final String statsUpdatePeriod        = "*Lib/Connection/StatsUpdatePeriod";<a name="line.244"></a>
<FONT color="green">245</FONT>            <a name="line.245"></a>
<FONT color="green">246</FONT>            private static final String IgnoreReadChatMsg     = "*Lib/Chat/IgnoreReadChatMsg";<a name="line.246"></a>
<FONT color="green">247</FONT>            <a name="line.247"></a>
<FONT color="green">248</FONT>            /** Turn on Mobile Optimisations in Skypekit runtime and configure Skypekit not to send already read messages*/<a name="line.248"></a>
<FONT color="green">249</FONT>            public void SetMobileMode () {<a name="line.249"></a>
<FONT color="green">250</FONT>                    SetInt(mobileModeEnabled, 1);<a name="line.250"></a>
<FONT color="green">251</FONT>                    SetInt(superNodeKeepalivePeriod, 600);<a name="line.251"></a>
<FONT color="green">252</FONT>                    SetInt(statsUpdatePeriod, 600);<a name="line.252"></a>
<FONT color="green">253</FONT>                    SetInt(IgnoreReadChatMsg, 1);}<a name="line.253"></a>
<FONT color="green">254</FONT>            <a name="line.254"></a>
<FONT color="green">255</FONT>            /**Static method to retrieve Voicemail object from object id*/<a name="line.255"></a>
<FONT color="green">256</FONT>            public Voicemail GetVoiceMailFromId(int oid, Skype skype)<a name="line.256"></a>
<FONT color="green">257</FONT>            {<a name="line.257"></a>
<FONT color="green">258</FONT>                    Voicemail vm = null;<a name="line.258"></a>
<FONT color="green">259</FONT>                    if (skype.object_list.containsKey(oid))<a name="line.259"></a>
<FONT color="green">260</FONT>                    {<a name="line.260"></a>
<FONT color="green">261</FONT>                            vm = (Voicemail) skype.object_list.get(oid);<a name="line.261"></a>
<FONT color="green">262</FONT>                    }<a name="line.262"></a>
<FONT color="green">263</FONT>                    else<a name="line.263"></a>
<FONT color="green">264</FONT>                    {<a name="line.264"></a>
<FONT color="green">265</FONT>                            vm = new Voicemail(oid,skype);<a name="line.265"></a>
<FONT color="green">266</FONT>                    }<a name="line.266"></a>
<FONT color="green">267</FONT>                    return vm;<a name="line.267"></a>
<FONT color="green">268</FONT>            }<a name="line.268"></a>
<FONT color="green">269</FONT>            <a name="line.269"></a>
<FONT color="green">270</FONT>            <a name="line.270"></a>
<FONT color="green">271</FONT>            @Override<a name="line.271"></a>
<FONT color="green">272</FONT>            public void HandleEvent(Event e) {<a name="line.272"></a>
<FONT color="green">273</FONT>            <a name="line.273"></a>
<FONT color="green">274</FONT>                    HandleEvent_inner(e);<a name="line.274"></a>
<FONT color="green">275</FONT>            <a name="line.275"></a>
<FONT color="green">276</FONT>            }<a name="line.276"></a>
<FONT color="green">277</FONT>            public void HandleEvent_inner(Event e) {<a name="line.277"></a>
<FONT color="green">278</FONT>                    if (listeners.containsKey(e.getModuleId())) {<a name="line.278"></a>
<FONT color="green">279</FONT>                    <a name="line.279"></a>
<FONT color="green">280</FONT>                            switch (e.getModuleId()) {<a name="line.280"></a>
<FONT color="green">281</FONT>                            case 0: // Skype Listener Events<a name="line.281"></a>
<FONT color="green">282</FONT>                                    SkypeListener skypelistener = (SkypeListener) listeners.get(e.getModuleId());<a name="line.282"></a>
<FONT color="green">283</FONT>                                    if (skypelistener != null) {<a name="line.283"></a>
<FONT color="green">284</FONT>                                    <a name="line.284"></a>
<FONT color="green">285</FONT>                                            switch (e.getEventId()) {<a name="line.285"></a>
<FONT color="green">286</FONT>                                            case 1:  // OnNewCustomContactGroup<a name="line.286"></a>
<FONT color="green">287</FONT>                                                    int  group01_oid = 0;<a name="line.287"></a>
<FONT color="green">288</FONT>                                                    ContactGroup group01 = null;<a name="line.288"></a>
<FONT color="green">289</FONT>                                                    group01_oid = e.GetOid(1);<a name="line.289"></a>
<FONT color="green">290</FONT>                                                    if (group01_oid != AbstractDecoder.NULL_VALUE) {<a name="line.290"></a>
<FONT color="green">291</FONT>                                                            group01 = (ContactGroup)skype.factory(ContactGroup.moduleID(), group01_oid, skype);<a name="line.291"></a>
<FONT color="green">292</FONT>                                                    }<a name="line.292"></a>
<FONT color="green">293</FONT>                                                    skypelistener.OnNewCustomContactGroup(group01);<a name="line.293"></a>
<FONT color="green">294</FONT>                                                    break;<a name="line.294"></a>
<FONT color="green">295</FONT>                                                    <a name="line.295"></a>
<FONT color="green">296</FONT>                                            case 2:  // OnContactOnlineAppearance<a name="line.296"></a>
<FONT color="green">297</FONT>                                                    int  contact02_oid = 0;<a name="line.297"></a>
<FONT color="green">298</FONT>                                                    Contact contact02 = null;<a name="line.298"></a>
<FONT color="green">299</FONT>                                                    contact02_oid = e.GetOid(1);<a name="line.299"></a>
<FONT color="green">300</FONT>                                                    if (contact02_oid != AbstractDecoder.NULL_VALUE) {<a name="line.300"></a>
<FONT color="green">301</FONT>                                                            contact02 = (Contact)skype.factory(Contact.moduleID(), contact02_oid, skype);<a name="line.301"></a>
<FONT color="green">302</FONT>                                                    }<a name="line.302"></a>
<FONT color="green">303</FONT>                                                    skypelistener.OnContactOnlineAppearance(contact02);<a name="line.303"></a>
<FONT color="green">304</FONT>                                                    break;<a name="line.304"></a>
<FONT color="green">305</FONT>                                                    <a name="line.305"></a>
<FONT color="green">306</FONT>                                            case 3:  // OnContactGoneOffline<a name="line.306"></a>
<FONT color="green">307</FONT>                                                    int  contact03_oid = 0;<a name="line.307"></a>
<FONT color="green">308</FONT>                                                    Contact contact03 = null;<a name="line.308"></a>
<FONT color="green">309</FONT>                                                    contact03_oid = e.GetOid(1);<a name="line.309"></a>
<FONT color="green">310</FONT>                                                    if (contact03_oid != AbstractDecoder.NULL_VALUE) {<a name="line.310"></a>
<FONT color="green">311</FONT>                                                            contact03 = (Contact)skype.factory(Contact.moduleID(), contact03_oid, skype);<a name="line.311"></a>
<FONT color="green">312</FONT>                                                    }<a name="line.312"></a>
<FONT color="green">313</FONT>                                                    skypelistener.OnContactGoneOffline(contact03);<a name="line.313"></a>
<FONT color="green">314</FONT>                                                    break;<a name="line.314"></a>
<FONT color="green">315</FONT>                                                    <a name="line.315"></a>
<FONT color="green">316</FONT>                                            case 4:  // OnConversationListChange<a name="line.316"></a>
<FONT color="green">317</FONT>                                                    int  conversation04_oid = 0;<a name="line.317"></a>
<FONT color="green">318</FONT>                                                    Conversation conversation04 = null;<a name="line.318"></a>
<FONT color="green">319</FONT>                                                    conversation04_oid = e.GetOid(1);<a name="line.319"></a>
<FONT color="green">320</FONT>                                                    if (conversation04_oid != AbstractDecoder.NULL_VALUE) {<a name="line.320"></a>
<FONT color="green">321</FONT>                                                            conversation04 = (Conversation)skype.factory(Conversation.moduleID(), conversation04_oid, skype);<a name="line.321"></a>
<FONT color="green">322</FONT>                                                    }<a name="line.322"></a>
<FONT color="green">323</FONT>                                                    Conversation.LIST_TYPE type04 = null;<a name="line.323"></a>
<FONT color="green">324</FONT>                                                    type04 = Conversation.LIST_TYPE.get(e.GetAsInt(2));<a name="line.324"></a>
<FONT color="green">325</FONT>                                                    boolean added04 = false;<a name="line.325"></a>
<FONT color="green">326</FONT>                                                    added04 = e.GetAsBoolean(3);<a name="line.326"></a>
<FONT color="green">327</FONT>                                                    skypelistener.OnConversationListChange(conversation04, type04, added04);<a name="line.327"></a>
<FONT color="green">328</FONT>                                                    break;<a name="line.328"></a>
<FONT color="green">329</FONT>                                                    <a name="line.329"></a>
<FONT color="green">330</FONT>                                            case 5:  // OnMessage<a name="line.330"></a>
<FONT color="green">331</FONT>                                                    int  message05_oid = 0;<a name="line.331"></a>
<FONT color="green">332</FONT>                                                    Message message05 = null;<a name="line.332"></a>
<FONT color="green">333</FONT>                                                    message05_oid = e.GetOid(1);<a name="line.333"></a>
<FONT color="green">334</FONT>                                                    if (message05_oid != AbstractDecoder.NULL_VALUE) {<a name="line.334"></a>
<FONT color="green">335</FONT>                                                            message05 = (Message)skype.factory(Message.moduleID(), message05_oid, skype);<a name="line.335"></a>
<FONT color="green">336</FONT>                                                    }<a name="line.336"></a>
<FONT color="green">337</FONT>                                                    boolean changesInboxTimestamp05 = false;<a name="line.337"></a>
<FONT color="green">338</FONT>                                                    changesInboxTimestamp05 = e.GetAsBoolean(2);<a name="line.338"></a>
<FONT color="green">339</FONT>                                                    int  supersedesHistoryMessage05_oid = 0;<a name="line.339"></a>
<FONT color="green">340</FONT>                                                    Message supersedesHistoryMessage05 = null;<a name="line.340"></a>
<FONT color="green">341</FONT>                                                    supersedesHistoryMessage05_oid = e.GetOid(3);<a name="line.341"></a>
<FONT color="green">342</FONT>                                                    if (supersedesHistoryMessage05_oid != AbstractDecoder.NULL_VALUE) {<a name="line.342"></a>
<FONT color="green">343</FONT>                                                            supersedesHistoryMessage05 = (Message)skype.factory(Message.moduleID(), supersedesHistoryMessage05_oid, skype);<a name="line.343"></a>
<FONT color="green">344</FONT>                                                    }<a name="line.344"></a>
<FONT color="green">345</FONT>                                                    int  conversation05_oid = 0;<a name="line.345"></a>
<FONT color="green">346</FONT>                                                    Conversation conversation05 = null;<a name="line.346"></a>
<FONT color="green">347</FONT>                                                    conversation05_oid = e.GetOid(4);<a name="line.347"></a>
<FONT color="green">348</FONT>                                                    if (conversation05_oid != AbstractDecoder.NULL_VALUE) {<a name="line.348"></a>
<FONT color="green">349</FONT>                                                            conversation05 = (Conversation)skype.factory(Conversation.moduleID(), conversation05_oid, skype);<a name="line.349"></a>
<FONT color="green">350</FONT>                                                    }<a name="line.350"></a>
<FONT color="green">351</FONT>                                                    skypelistener.OnMessage(message05, changesInboxTimestamp05, supersedesHistoryMessage05, conversation05);<a name="line.351"></a>
<FONT color="green">352</FONT>                                                    ConversationListener cl = (ConversationListener)listeners.get(18);<a name="line.352"></a>
<FONT color="green">353</FONT>                                                    if (cl != null) {<a name="line.353"></a>
<FONT color="green">354</FONT>                                                            cl.OnMessage(conversation05, message05);<a name="line.354"></a>
<FONT color="green">355</FONT>                                                    };<a name="line.355"></a>
<FONT color="green">356</FONT>                                                    break;<a name="line.356"></a>
<FONT color="green">357</FONT>                                                    <a name="line.357"></a>
<FONT color="green">358</FONT>                                            case 7:  // OnAvailableVideoDeviceListChange<a name="line.358"></a>
<FONT color="green">359</FONT>                                                    skypelistener.OnAvailableVideoDeviceListChange();<a name="line.359"></a>
<FONT color="green">360</FONT>                                                    break;<a name="line.360"></a>
<FONT color="green">361</FONT>                                                    <a name="line.361"></a>
<FONT color="green">362</FONT>                                            case 10:  // OnAvailableDeviceListChange<a name="line.362"></a>
<FONT color="green">363</FONT>                                                    skypelistener.OnAvailableDeviceListChange();<a name="line.363"></a>
<FONT color="green">364</FONT>                                                    break;<a name="line.364"></a>
<FONT color="green">365</FONT>                                                    <a name="line.365"></a>
<FONT color="green">366</FONT>                                            case 11:  // OnNrgLevelsChange<a name="line.366"></a>
<FONT color="green">367</FONT>                                                    skypelistener.OnNrgLevelsChange();<a name="line.367"></a>
<FONT color="green">368</FONT>                                                    break;<a name="line.368"></a>
<FONT color="green">369</FONT>                                                    <a name="line.369"></a>
<FONT color="green">370</FONT>                                            case 12:  // OnProxyAuthFailure<a name="line.370"></a>
<FONT color="green">371</FONT>                                                    PROXYTYPE type012 = null;<a name="line.371"></a>
<FONT color="green">372</FONT>                                                    type012 = PROXYTYPE.get(e.GetAsInt(1));<a name="line.372"></a>
<FONT color="green">373</FONT>                                                    skypelistener.OnProxyAuthFailure(type012);<a name="line.373"></a>
<FONT color="green">374</FONT>                                                    break;<a name="line.374"></a>
<FONT color="green">375</FONT>                                                    <a name="line.375"></a>
<FONT color="green">376</FONT>                                            default:<a name="line.376"></a>
<FONT color="green">377</FONT>                                                    break;<a name="line.377"></a>
<FONT color="green">378</FONT>                                                    <a name="line.378"></a>
<FONT color="green">379</FONT>                                            }<a name="line.379"></a>
<FONT color="green">380</FONT>                                    }<a name="line.380"></a>
<FONT color="green">381</FONT>                                    break;<a name="line.381"></a>
<FONT color="green">382</FONT>                                    <a name="line.382"></a>
<FONT color="green">383</FONT>                                    case 10: // Module ContactGroup<a name="line.383"></a>
<FONT color="green">384</FONT>                                            ContactGroupListener contactgrouplistener = (ContactGroupListener)listeners.get(e.getModuleId());<a name="line.384"></a>
<FONT color="green">385</FONT>                                            if (contactgrouplistener != null) {<a name="line.385"></a>
<FONT color="green">386</FONT>                                                    int contactgroup_oid = e.GetOid(0);<a name="line.386"></a>
<FONT color="green">387</FONT>                                                    SkypeObject obj = skype.factory(e.getModuleId(), contactgroup_oid, skype);<a name="line.387"></a>
<FONT color="green">388</FONT>                                                    <a name="line.388"></a>
<FONT color="green">389</FONT>                                                    switch (e.getEventId()){ <a name="line.389"></a>
<FONT color="green">390</FONT>                                                    case 1: // Event OnChangeConversation<a name="line.390"></a>
<FONT color="green">391</FONT>                                                            int conversation101_oid = 0;<a name="line.391"></a>
<FONT color="green">392</FONT>                                                            Conversation conversation101 = null;<a name="line.392"></a>
<FONT color="green">393</FONT>                                                            conversation101_oid = e.GetOid(1);<a name="line.393"></a>
<FONT color="green">394</FONT>                                                            if (conversation101_oid != AbstractDecoder.NULL_VALUE) { <a name="line.394"></a>
<FONT color="green">395</FONT>                                                                    conversation101 = (Conversation)skype.factory(Conversation.moduleID(), conversation101_oid, skype);<a name="line.395"></a>
<FONT color="green">396</FONT>                                                            }<a name="line.396"></a>
<FONT color="green">397</FONT>                                                            contactgrouplistener.OnChangeConversation(obj, conversation101);<a name="line.397"></a>
<FONT color="green">398</FONT>                                                            break;<a name="line.398"></a>
<FONT color="green">399</FONT>                                                            <a name="line.399"></a>
<FONT color="green">400</FONT>                                                    case 2: // Event OnChange<a name="line.400"></a>
<FONT color="green">401</FONT>                                                            int contact102_oid = 0;<a name="line.401"></a>
<FONT color="green">402</FONT>                                                            Contact contact102 = null;<a name="line.402"></a>
<FONT color="green">403</FONT>                                                            contact102_oid = e.GetOid(1);<a name="line.403"></a>
<FONT color="green">404</FONT>                                                            if (contact102_oid != AbstractDecoder.NULL_VALUE) { <a name="line.404"></a>
<FONT color="green">405</FONT>                                                                    contact102 = (Contact)skype.factory(Contact.moduleID(), contact102_oid, skype);<a name="line.405"></a>
<FONT color="green">406</FONT>                                                            }<a name="line.406"></a>
<FONT color="green">407</FONT>                                                            contactgrouplistener.OnChange(obj, contact102);<a name="line.407"></a>
<FONT color="green">408</FONT>                                                            break;<a name="line.408"></a>
<FONT color="green">409</FONT>                                                            <a name="line.409"></a>
<FONT color="green">410</FONT>                                                    default:<a name="line.410"></a>
<FONT color="green">411</FONT>                                                            break;<a name="line.411"></a>
<FONT color="green">412</FONT>                                                            <a name="line.412"></a>
<FONT color="green">413</FONT>                                                    }<a name="line.413"></a>
<FONT color="green">414</FONT>                                            }<a name="line.414"></a>
<FONT color="green">415</FONT>                                            break;<a name="line.415"></a>
<FONT color="green">416</FONT>                                            <a name="line.416"></a>
<FONT color="green">417</FONT>                                    case 1: // Module ContactSearch<a name="line.417"></a>
<FONT color="green">418</FONT>                                            ContactSearchListener contactsearchlistener = (ContactSearchListener)listeners.get(e.getModuleId());<a name="line.418"></a>
<FONT color="green">419</FONT>                                            if (contactsearchlistener != null) {<a name="line.419"></a>
<FONT color="green">420</FONT>                                                    int contactsearch_oid = e.GetOid(0);<a name="line.420"></a>
<FONT color="green">421</FONT>                                                    SkypeObject obj = skype.factory(e.getModuleId(), contactsearch_oid, skype);<a name="line.421"></a>
<FONT color="green">422</FONT>                                                    <a name="line.422"></a>
<FONT color="green">423</FONT>                                                    switch (e.getEventId()){ <a name="line.423"></a>
<FONT color="green">424</FONT>                                                    case 1: // Event OnNewResult<a name="line.424"></a>
<FONT color="green">425</FONT>                                                            int contact11_oid = 0;<a name="line.425"></a>
<FONT color="green">426</FONT>                                                            Contact contact11 = null;<a name="line.426"></a>
<FONT color="green">427</FONT>                                                            contact11_oid = e.GetOid(1);<a name="line.427"></a>
<FONT color="green">428</FONT>                                                            if (contact11_oid != AbstractDecoder.NULL_VALUE) { <a name="line.428"></a>
<FONT color="green">429</FONT>                                                                    contact11 = (Contact)skype.factory(Contact.moduleID(), contact11_oid, skype);<a name="line.429"></a>
<FONT color="green">430</FONT>                                                            }<a name="line.430"></a>
<FONT color="green">431</FONT>                                                            int rankValue11 = 0;<a name="line.431"></a>
<FONT color="green">432</FONT>                                                            rankValue11 = e.GetAsInt(2);<a name="line.432"></a>
<FONT color="green">433</FONT>                                                            contactsearchlistener.OnNewResult(obj, contact11, rankValue11);<a name="line.433"></a>
<FONT color="green">434</FONT>                                                            break;<a name="line.434"></a>
<FONT color="green">435</FONT>                                                            <a name="line.435"></a>
<FONT color="green">436</FONT>                                                    default:<a name="line.436"></a>
<FONT color="green">437</FONT>                                                            break;<a name="line.437"></a>
<FONT color="green">438</FONT>                                                            <a name="line.438"></a>
<FONT color="green">439</FONT>                                                    }<a name="line.439"></a>
<FONT color="green">440</FONT>                                            }<a name="line.440"></a>
<FONT color="green">441</FONT>                                            break;<a name="line.441"></a>
<FONT color="green">442</FONT>                                            <a name="line.442"></a>
<FONT color="green">443</FONT>                                    case 19: // Module Participant<a name="line.443"></a>
<FONT color="green">444</FONT>                                            ParticipantListener participantlistener = (ParticipantListener)listeners.get(e.getModuleId());<a name="line.444"></a>
<FONT color="green">445</FONT>                                            if (participantlistener != null) {<a name="line.445"></a>
<FONT color="green">446</FONT>                                                    int participant_oid = e.GetOid(0);<a name="line.446"></a>
<FONT color="green">447</FONT>                                                    SkypeObject obj = skype.factory(e.getModuleId(), participant_oid, skype);<a name="line.447"></a>
<FONT color="green">448</FONT>                                                    <a name="line.448"></a>
<FONT color="green">449</FONT>                                                    switch (e.getEventId()){ <a name="line.449"></a>
<FONT color="green">450</FONT>                                                    case 1: // Event OnIncomingDTMF<a name="line.450"></a>
<FONT color="green">451</FONT>                                                            DTMF dtmf191 = null;<a name="line.451"></a>
<FONT color="green">452</FONT>                                                            dtmf191 = DTMF.get(e.GetAsInt(1));<a name="line.452"></a>
<FONT color="green">453</FONT>                                                            participantlistener.OnIncomingDTMF(obj, dtmf191);<a name="line.453"></a>
<FONT color="green">454</FONT>                                                            break;<a name="line.454"></a>
<FONT color="green">455</FONT>                                                            <a name="line.455"></a>
<FONT color="green">456</FONT>                                                    default:<a name="line.456"></a>
<FONT color="green">457</FONT>                                                            break;<a name="line.457"></a>
<FONT color="green">458</FONT>                                                            <a name="line.458"></a>
<FONT color="green">459</FONT>                                                    }<a name="line.459"></a>
<FONT color="green">460</FONT>                                            }<a name="line.460"></a>
<FONT color="green">461</FONT>                                            break;<a name="line.461"></a>
<FONT color="green">462</FONT>                                            <a name="line.462"></a>
<FONT color="green">463</FONT>                                    case 18: // Module Conversation<a name="line.463"></a>
<FONT color="green">464</FONT>                                            ConversationListener conversationlistener = (ConversationListener)listeners.get(e.getModuleId());<a name="line.464"></a>
<FONT color="green">465</FONT>                                            if (conversationlistener != null) {<a name="line.465"></a>
<FONT color="green">466</FONT>                                                    int conversation_oid = e.GetOid(0);<a name="line.466"></a>
<FONT color="green">467</FONT>                                                    SkypeObject obj = skype.factory(e.getModuleId(), conversation_oid, skype);<a name="line.467"></a>
<FONT color="green">468</FONT>                                                    <a name="line.468"></a>
<FONT color="green">469</FONT>                                                    switch (e.getEventId()){ <a name="line.469"></a>
<FONT color="green">470</FONT>                                                    case 1: // Event OnParticipantListChange<a name="line.470"></a>
<FONT color="green">471</FONT>                                                            conversationlistener.OnParticipantListChange(obj);<a name="line.471"></a>
<FONT color="green">472</FONT>                                                            break;<a name="line.472"></a>
<FONT color="green">473</FONT>                                                            <a name="line.473"></a>
<FONT color="green">474</FONT>                                                    case 2: // Event OnMessage<a name="line.474"></a>
<FONT color="green">475</FONT>                                                            int message182_oid = 0;<a name="line.475"></a>
<FONT color="green">476</FONT>                                                            Message message182 = null;<a name="line.476"></a>
<FONT color="green">477</FONT>                                                            message182_oid = e.GetOid(1);<a name="line.477"></a>
<FONT color="green">478</FONT>                                                            if (message182_oid != AbstractDecoder.NULL_VALUE) { <a name="line.478"></a>
<FONT color="green">479</FONT>                                                                    message182 = (Message)skype.factory(Message.moduleID(), message182_oid, skype);<a name="line.479"></a>
<FONT color="green">480</FONT>                                                            }<a name="line.480"></a>
<FONT color="green">481</FONT>                                                            conversationlistener.OnMessage(obj, message182);<a name="line.481"></a>
<FONT color="green">482</FONT>                                                            break;<a name="line.482"></a>
<FONT color="green">483</FONT>                                                            <a name="line.483"></a>
<FONT color="green">484</FONT>                                                    case 3: // Event OnSpawnConference<a name="line.484"></a>
<FONT color="green">485</FONT>                                                            int spawned183_oid = 0;<a name="line.485"></a>
<FONT color="green">486</FONT>                                                            Conversation spawned183 = null;<a name="line.486"></a>
<FONT color="green">487</FONT>                                                            spawned183_oid = e.GetOid(1);<a name="line.487"></a>
<FONT color="green">488</FONT>                                                            if (spawned183_oid != AbstractDecoder.NULL_VALUE) { <a name="line.488"></a>
<FONT color="green">489</FONT>                                                                    spawned183 = (Conversation)skype.factory(Conversation.moduleID(), spawned183_oid, skype);<a name="line.489"></a>
<FONT color="green">490</FONT>                                                            }<a name="line.490"></a>
<FONT color="green">491</FONT>                                                            conversationlistener.OnSpawnConference(obj, spawned183);<a name="line.491"></a>
<FONT color="green">492</FONT>                                                            break;<a name="line.492"></a>
<FONT color="green">493</FONT>                                                            <a name="line.493"></a>
<FONT color="green">494</FONT>                                                    default:<a name="line.494"></a>
<FONT color="green">495</FONT>                                                            break;<a name="line.495"></a>
<FONT color="green">496</FONT>                                                            <a name="line.496"></a>
<FONT color="green">497</FONT>                                                    }<a name="line.497"></a>
<FONT color="green">498</FONT>                                            }<a name="line.498"></a>
<FONT color="green">499</FONT>                                            break;<a name="line.499"></a>
<FONT color="green">500</FONT>                                            <a name="line.500"></a>
<FONT color="green">501</FONT>                                    case 11: // Module Video<a name="line.501"></a>
<FONT color="green">502</FONT>                                            VideoListener videolistener = (VideoListener)listeners.get(e.getModuleId());<a name="line.502"></a>
<FONT color="green">503</FONT>                                            if (videolistener != null) {<a name="line.503"></a>
<FONT color="green">504</FONT>                                                    int video_oid = e.GetOid(0);<a name="line.504"></a>
<FONT color="green">505</FONT>                                                    SkypeObject obj = skype.factory(e.getModuleId(), video_oid, skype);<a name="line.505"></a>
<FONT color="green">506</FONT>                                                    <a name="line.506"></a>
<FONT color="green">507</FONT>                                                    switch (e.getEventId()){ <a name="line.507"></a>
<FONT color="green">508</FONT>                                                    case 2: // Event OnCaptureRequestCompleted<a name="line.508"></a>
<FONT color="green">509</FONT>                                                            int requestId112 = 0;<a name="line.509"></a>
<FONT color="green">510</FONT>                                                            requestId112 = e.GetAsInt(1);<a name="line.510"></a>
<FONT color="green">511</FONT>                                                            boolean isSuccessful112 = false;<a name="line.511"></a>
<FONT color="green">512</FONT>                                                            isSuccessful112 = e.GetAsBoolean(2);<a name="line.512"></a>
<FONT color="green">513</FONT>                                                            byte[] image112 = null;<a name="line.513"></a>
<FONT color="green">514</FONT>                                                            image112 = e.GetAsBinary(3);<a name="line.514"></a>
<FONT color="green">515</FONT>                                                            int width112 = 0;<a name="line.515"></a>
<FONT color="green">516</FONT>                                                            width112 = e.GetAsInt(4);<a name="line.516"></a>
<FONT color="green">517</FONT>                                                            int height112 = 0;<a name="line.517"></a>
<FONT color="green">518</FONT>                                                            height112 = e.GetAsInt(5);<a name="line.518"></a>
<FONT color="green">519</FONT>                                                            videolistener.OnCaptureRequestCompleted(obj, requestId112, isSuccessful112, image112, width112, height112);<a name="line.519"></a>
<FONT color="green">520</FONT>                                                            break;<a name="line.520"></a>
<FONT color="green">521</FONT>                                                            <a name="line.521"></a>
<FONT color="green">522</FONT>                                                    case 1: // Event OnLastFrameCapture<a name="line.522"></a>
<FONT color="green">523</FONT>                                                            byte[] image111 = null;<a name="line.523"></a>
<FONT color="green">524</FONT>                                                            image111 = e.GetAsBinary(1);<a name="line.524"></a>
<FONT color="green">525</FONT>                                                            int width111 = 0;<a name="line.525"></a>
<FONT color="green">526</FONT>                                                            width111 = e.GetAsInt(2);<a name="line.526"></a>
<FONT color="green">527</FONT>                                                            int height111 = 0;<a name="line.527"></a>
<FONT color="green">528</FONT>                                                            height111 = e.GetAsInt(3);<a name="line.528"></a>
<FONT color="green">529</FONT>                                                            videolistener.OnLastFrameCapture(obj, image111, width111, height111);<a name="line.529"></a>
<FONT color="green">530</FONT>                                                            break;<a name="line.530"></a>
<FONT color="green">531</FONT>                                                            <a name="line.531"></a>
<FONT color="green">532</FONT>                                                    default:<a name="line.532"></a>
<FONT color="green">533</FONT>                                                            break;<a name="line.533"></a>
<FONT color="green">534</FONT>                                                            <a name="line.534"></a>
<FONT color="green">535</FONT>                                                    }<a name="line.535"></a>
<FONT color="green">536</FONT>                                            }<a name="line.536"></a>
<FONT color="green">537</FONT>                                            break;<a name="line.537"></a>
<FONT color="green">538</FONT>                                            <a name="line.538"></a>
<FONT color="green">539</FONT>                                    default:<a name="line.539"></a>
<FONT color="green">540</FONT>                                            break;<a name="line.540"></a>
<FONT color="green">541</FONT>                                            <a name="line.541"></a>
<FONT color="green">542</FONT>                            }<a name="line.542"></a>
<FONT color="green">543</FONT>                    }<a name="line.543"></a>
<FONT color="green">544</FONT>            }<a name="line.544"></a>
<FONT color="green">545</FONT>            <a name="line.545"></a>
<FONT color="green">546</FONT>            /**<a name="line.546"></a>
<FONT color="green">547</FONT>             * @return started<a name="line.547"></a>
<FONT color="green">548</FONT>             */<a name="line.548"></a>
<FONT color="green">549</FONT>            public boolean Start() {<a name="line.549"></a>
<FONT color="green">550</FONT>            <a name="line.550"></a>
<FONT color="green">551</FONT>                    Request request = null;<a name="line.551"></a>
<FONT color="green">552</FONT>                    try {<a name="line.552"></a>
<FONT color="green">553</FONT>                            request = new XCallRequest(0,145);<a name="line.553"></a>
<FONT color="green">554</FONT>                    } catch (IOException e) {<a name="line.554"></a>
<FONT color="green">555</FONT>                            e.printStackTrace();<a name="line.555"></a>
<FONT color="green">556</FONT>                            if (errorListener != null)<a name="line.556"></a>
<FONT color="green">557</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.557"></a>
<FONT color="green">558</FONT>                    }<a name="line.558"></a>
<FONT color="green">559</FONT>                    <a name="line.559"></a>
<FONT color="green">560</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.560"></a>
<FONT color="green">561</FONT>                    <a name="line.561"></a>
<FONT color="green">562</FONT>                    if (r.isErrCall())<a name="line.562"></a>
<FONT color="green">563</FONT>                            return false;<a name="line.563"></a>
<FONT color="green">564</FONT>                            <a name="line.564"></a>
<FONT color="green">565</FONT>                    boolean started = false;<a name="line.565"></a>
<FONT color="green">566</FONT>                    started = r.GetAsBoolean(1);<a name="line.566"></a>
<FONT color="green">567</FONT>                    return started;<a name="line.567"></a>
<FONT color="green">568</FONT>            }<a name="line.568"></a>
<FONT color="green">569</FONT>            <a name="line.569"></a>
<FONT color="green">570</FONT>            /** Setupkey SETUPKEY_DB_STORAGE_QUOTA_KB type:int default value:"0" &lt;br&gt;Use this key to limit the size of the main.db file. Value is in KB. Quota are disabled by default. &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.570"></a>
<FONT color="green">571</FONT>            public static final String DB_STORAGE_QUOTA_KB = "*Lib/DbManager/StorageQuotaKb";<a name="line.571"></a>
<FONT color="green">572</FONT>            <a name="line.572"></a>
<FONT color="green">573</FONT>            /**<a name="line.573"></a>
<FONT color="green">574</FONT>             *returns the runtime version as a string<a name="line.574"></a>
<FONT color="green">575</FONT>             * @return version<a name="line.575"></a>
<FONT color="green">576</FONT>             */<a name="line.576"></a>
<FONT color="green">577</FONT>            public String GetVersionString() {<a name="line.577"></a>
<FONT color="green">578</FONT>            <a name="line.578"></a>
<FONT color="green">579</FONT>                    Request request = null;<a name="line.579"></a>
<FONT color="green">580</FONT>                    try {<a name="line.580"></a>
<FONT color="green">581</FONT>                            request = new XCallRequest(0,28);<a name="line.581"></a>
<FONT color="green">582</FONT>                    } catch (IOException e) {<a name="line.582"></a>
<FONT color="green">583</FONT>                            e.printStackTrace();<a name="line.583"></a>
<FONT color="green">584</FONT>                            if (errorListener != null)<a name="line.584"></a>
<FONT color="green">585</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.585"></a>
<FONT color="green">586</FONT>                    }<a name="line.586"></a>
<FONT color="green">587</FONT>                    <a name="line.587"></a>
<FONT color="green">588</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.588"></a>
<FONT color="green">589</FONT>                    <a name="line.589"></a>
<FONT color="green">590</FONT>                    if (r.isErrCall())<a name="line.590"></a>
<FONT color="green">591</FONT>                            return null;<a name="line.591"></a>
<FONT color="green">592</FONT>                            <a name="line.592"></a>
<FONT color="green">593</FONT>                    String version = null;<a name="line.593"></a>
<FONT color="green">594</FONT>                    version = r.GetAsString(1);<a name="line.594"></a>
<FONT color="green">595</FONT>                    return version;<a name="line.595"></a>
<FONT color="green">596</FONT>            }<a name="line.596"></a>
<FONT color="green">597</FONT>            <a name="line.597"></a>
<FONT color="green">598</FONT>            /**<a name="line.598"></a>
<FONT color="green">599</FONT>             *Takes TYPE argument (TYPE comes from ContactGroup class) and returns reference to the corresponding hardwired contact group. For example (C++): skype-&gt;GetHardwiredContactGroup(ContactGroup.ONLINE_BUDDIES, GroupRef) would return the list of all contacts that are currently online. &lt;br&gt;<a name="line.599"></a>
<FONT color="green">600</FONT>             * @param type<a name="line.600"></a>
<FONT color="green">601</FONT>             * @return contactGroup<a name="line.601"></a>
<FONT color="green">602</FONT>             */<a name="line.602"></a>
<FONT color="green">603</FONT>            public ContactGroup GetHardwiredContactGroup( ContactGroup.TYPE type) {<a name="line.603"></a>
<FONT color="green">604</FONT>            <a name="line.604"></a>
<FONT color="green">605</FONT>                    Request request = null;<a name="line.605"></a>
<FONT color="green">606</FONT>                    try {<a name="line.606"></a>
<FONT color="green">607</FONT>                            request = new XCallRequest(0,1);<a name="line.607"></a>
<FONT color="green">608</FONT>                    } catch (IOException e) {<a name="line.608"></a>
<FONT color="green">609</FONT>                            e.printStackTrace();<a name="line.609"></a>
<FONT color="green">610</FONT>                            if (errorListener != null)<a name="line.610"></a>
<FONT color="green">611</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.611"></a>
<FONT color="green">612</FONT>                    }<a name="line.612"></a>
<FONT color="green">613</FONT>                    request.addParm('e',1,type.getId());<a name="line.613"></a>
<FONT color="green">614</FONT>                    <a name="line.614"></a>
<FONT color="green">615</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.615"></a>
<FONT color="green">616</FONT>                    <a name="line.616"></a>
<FONT color="green">617</FONT>                    if (r.isErrCall())<a name="line.617"></a>
<FONT color="green">618</FONT>                            return null;<a name="line.618"></a>
<FONT color="green">619</FONT>                            <a name="line.619"></a>
<FONT color="green">620</FONT>                    int oid = 0;<a name="line.620"></a>
<FONT color="green">621</FONT>                    ContactGroup contactGroup = null;<a name="line.621"></a>
<FONT color="green">622</FONT>                    oid = r.GetOid(1);<a name="line.622"></a>
<FONT color="green">623</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.623"></a>
<FONT color="green">624</FONT>                            contactGroup = (ContactGroup)skype.factory(ContactGroup.moduleID(), oid, skype);<a name="line.624"></a>
<FONT color="green">625</FONT>                    }<a name="line.625"></a>
<FONT color="green">626</FONT>                    return contactGroup;<a name="line.626"></a>
<FONT color="green">627</FONT>            }<a name="line.627"></a>
<FONT color="green">628</FONT>            <a name="line.628"></a>
<FONT color="green">629</FONT>            /**<a name="line.629"></a>
<FONT color="green">630</FONT>             *Returns a list of custom contact group references, i.e. all contact groups that are not hardwired. &lt;br&gt;<a name="line.630"></a>
<FONT color="green">631</FONT>             * @return groups<a name="line.631"></a>
<FONT color="green">632</FONT>             */<a name="line.632"></a>
<FONT color="green">633</FONT>            public ContactGroup [] GetCustomContactGroups() {<a name="line.633"></a>
<FONT color="green">634</FONT>            <a name="line.634"></a>
<FONT color="green">635</FONT>                    Request request = null;<a name="line.635"></a>
<FONT color="green">636</FONT>                    try {<a name="line.636"></a>
<FONT color="green">637</FONT>                            request = new XCallRequest(0,2);<a name="line.637"></a>
<FONT color="green">638</FONT>                    } catch (IOException e) {<a name="line.638"></a>
<FONT color="green">639</FONT>                            e.printStackTrace();<a name="line.639"></a>
<FONT color="green">640</FONT>                            if (errorListener != null)<a name="line.640"></a>
<FONT color="green">641</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.641"></a>
<FONT color="green">642</FONT>                    }<a name="line.642"></a>
<FONT color="green">643</FONT>                    <a name="line.643"></a>
<FONT color="green">644</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.644"></a>
<FONT color="green">645</FONT>                    <a name="line.645"></a>
<FONT color="green">646</FONT>                    if (r.isErrCall())<a name="line.646"></a>
<FONT color="green">647</FONT>                            return null;<a name="line.647"></a>
<FONT color="green">648</FONT>                            <a name="line.648"></a>
<FONT color="green">649</FONT>                    Vector&lt;ContactGroup&gt; groups = new Vector&lt;ContactGroup&gt;();<a name="line.649"></a>
<FONT color="green">650</FONT>                    while (r.HasMore(1))<a name="line.650"></a>
<FONT color="green">651</FONT>                    {<a name="line.651"></a>
<FONT color="green">652</FONT>                            int oid = 0;<a name="line.652"></a>
<FONT color="green">653</FONT>                            ContactGroup contactgroup = null;<a name="line.653"></a>
<FONT color="green">654</FONT>                            oid = r.GetOid(1);<a name="line.654"></a>
<FONT color="green">655</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) { <a name="line.655"></a>
<FONT color="green">656</FONT>                                    contactgroup = (ContactGroup)skype.factory(ContactGroup.moduleID(), oid, skype);<a name="line.656"></a>
<FONT color="green">657</FONT>                            }<a name="line.657"></a>
<FONT color="green">658</FONT>                            groups.add(contactgroup);<a name="line.658"></a>
<FONT color="green">659</FONT>                    }<a name="line.659"></a>
<FONT color="green">660</FONT>                    return groups.toArray(new ContactGroup[groups.size()]);<a name="line.660"></a>
<FONT color="green">661</FONT>                    <a name="line.661"></a>
<FONT color="green">662</FONT>            }<a name="line.662"></a>
<FONT color="green">663</FONT>            <a name="line.663"></a>
<FONT color="green">664</FONT>            /**<a name="line.664"></a>
<FONT color="green">665</FONT>             *Creates a new empty contact group object and returns a reference to it. The group will then show up in the custom group list that you can get with Skype class GetCustomContactGroups method. Existing contacts can be added to the new group with ContactGroup class AddContact method and a custom name can be given to it with GiveDisplayName method. &lt;br&gt;Note that no check is made for existing of displaynames with the same name - if you wish to force uniqueness in custom group names you will have to check that yourself before creating the group. &lt;br&gt;<a name="line.665"></a>
<FONT color="green">666</FONT>             * @return group<a name="line.666"></a>
<FONT color="green">667</FONT>             */<a name="line.667"></a>
<FONT color="green">668</FONT>            public ContactGroup CreateCustomContactGroup() {<a name="line.668"></a>
<FONT color="green">669</FONT>            <a name="line.669"></a>
<FONT color="green">670</FONT>                    Request request = null;<a name="line.670"></a>
<FONT color="green">671</FONT>                    try {<a name="line.671"></a>
<FONT color="green">672</FONT>                            request = new XCallRequest(0,3);<a name="line.672"></a>
<FONT color="green">673</FONT>                    } catch (IOException e) {<a name="line.673"></a>
<FONT color="green">674</FONT>                            e.printStackTrace();<a name="line.674"></a>
<FONT color="green">675</FONT>                            if (errorListener != null)<a name="line.675"></a>
<FONT color="green">676</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.676"></a>
<FONT color="green">677</FONT>                    }<a name="line.677"></a>
<FONT color="green">678</FONT>                    <a name="line.678"></a>
<FONT color="green">679</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.679"></a>
<FONT color="green">680</FONT>                    <a name="line.680"></a>
<FONT color="green">681</FONT>                    if (r.isErrCall())<a name="line.681"></a>
<FONT color="green">682</FONT>                            return null;<a name="line.682"></a>
<FONT color="green">683</FONT>                            <a name="line.683"></a>
<FONT color="green">684</FONT>                    int oid = 0;<a name="line.684"></a>
<FONT color="green">685</FONT>                    ContactGroup group = null;<a name="line.685"></a>
<FONT color="green">686</FONT>                    oid = r.GetOid(1);<a name="line.686"></a>
<FONT color="green">687</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.687"></a>
<FONT color="green">688</FONT>                            group = (ContactGroup)skype.factory(ContactGroup.moduleID(), oid, skype);<a name="line.688"></a>
<FONT color="green">689</FONT>                    }<a name="line.689"></a>
<FONT color="green">690</FONT>                    return group;<a name="line.690"></a>
<FONT color="green">691</FONT>            }<a name="line.691"></a>
<FONT color="green">692</FONT>            <a name="line.692"></a>
<FONT color="green">693</FONT>            /**<a name="line.693"></a>
<FONT color="green">694</FONT>             *analyzes the identity for contact type<a name="line.694"></a>
<FONT color="green">695</FONT>             * @param identity<a name="line.695"></a>
<FONT color="green">696</FONT>             * @return type<a name="line.696"></a>
<FONT color="green">697</FONT>             */<a name="line.697"></a>
<FONT color="green">698</FONT>            public Contact.TYPE GetContactType( String identity) {<a name="line.698"></a>
<FONT color="green">699</FONT>            <a name="line.699"></a>
<FONT color="green">700</FONT>                    Request request = null;<a name="line.700"></a>
<FONT color="green">701</FONT>                    try {<a name="line.701"></a>
<FONT color="green">702</FONT>                            request = new XCallRequest(0,5);<a name="line.702"></a>
<FONT color="green">703</FONT>                    } catch (IOException e) {<a name="line.703"></a>
<FONT color="green">704</FONT>                            e.printStackTrace();<a name="line.704"></a>
<FONT color="green">705</FONT>                            if (errorListener != null)<a name="line.705"></a>
<FONT color="green">706</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.706"></a>
<FONT color="green">707</FONT>                    }<a name="line.707"></a>
<FONT color="green">708</FONT>                    request.addParm('S',1,identity);<a name="line.708"></a>
<FONT color="green">709</FONT>                    <a name="line.709"></a>
<FONT color="green">710</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.710"></a>
<FONT color="green">711</FONT>                    <a name="line.711"></a>
<FONT color="green">712</FONT>                    if (r.isErrCall())<a name="line.712"></a>
<FONT color="green">713</FONT>                            return null;<a name="line.713"></a>
<FONT color="green">714</FONT>                            <a name="line.714"></a>
<FONT color="green">715</FONT>                    Contact.TYPE type = null;<a name="line.715"></a>
<FONT color="green">716</FONT>                    type = Contact.TYPE.get(r.GetAsInt(1));<a name="line.716"></a>
<FONT color="green">717</FONT>                    return type;<a name="line.717"></a>
<FONT color="green">718</FONT>            }<a name="line.718"></a>
<FONT color="green">719</FONT>            <a name="line.719"></a>
<FONT color="green">720</FONT>            /**<a name="line.720"></a>
<FONT color="green">721</FONT>             *Returns a Contact object reference. If a matching contact is not found in the existing contact list, a new Contact object will be created. Note that if you pass in a phone number in the identity argument, the type for the newly created Contact will be automatically set to Contact.PSTN (Contact.SKYPE otherwise). &lt;br&gt;<a name="line.721"></a>
<FONT color="green">722</FONT>             * @param identity Either skypename or a phone number &lt;br&gt;<a name="line.722"></a>
<FONT color="green">723</FONT>             * @return contact Returns a contact object. &lt;br&gt;<a name="line.723"></a>
<FONT color="green">724</FONT>             */<a name="line.724"></a>
<FONT color="green">725</FONT>            public Contact GetContact( String identity) {<a name="line.725"></a>
<FONT color="green">726</FONT>            <a name="line.726"></a>
<FONT color="green">727</FONT>                    Request request = null;<a name="line.727"></a>
<FONT color="green">728</FONT>                    try {<a name="line.728"></a>
<FONT color="green">729</FONT>                            request = new XCallRequest(0,6);<a name="line.729"></a>
<FONT color="green">730</FONT>                    } catch (IOException e) {<a name="line.730"></a>
<FONT color="green">731</FONT>                            e.printStackTrace();<a name="line.731"></a>
<FONT color="green">732</FONT>                            if (errorListener != null)<a name="line.732"></a>
<FONT color="green">733</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.733"></a>
<FONT color="green">734</FONT>                    }<a name="line.734"></a>
<FONT color="green">735</FONT>                    request.addParm('S',1,identity);<a name="line.735"></a>
<FONT color="green">736</FONT>                    <a name="line.736"></a>
<FONT color="green">737</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.737"></a>
<FONT color="green">738</FONT>                    <a name="line.738"></a>
<FONT color="green">739</FONT>                    if (r.isErrCall())<a name="line.739"></a>
<FONT color="green">740</FONT>                            return null;<a name="line.740"></a>
<FONT color="green">741</FONT>                            <a name="line.741"></a>
<FONT color="green">742</FONT>                    int oid = 0;<a name="line.742"></a>
<FONT color="green">743</FONT>                    Contact contact = null;<a name="line.743"></a>
<FONT color="green">744</FONT>                    oid = r.GetOid(2);<a name="line.744"></a>
<FONT color="green">745</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.745"></a>
<FONT color="green">746</FONT>                            contact = (Contact)skype.factory(Contact.moduleID(), oid, skype);<a name="line.746"></a>
<FONT color="green">747</FONT>                    }<a name="line.747"></a>
<FONT color="green">748</FONT>                    return contact;<a name="line.748"></a>
<FONT color="green">749</FONT>            }<a name="line.749"></a>
<FONT color="green">750</FONT>            <a name="line.750"></a>
<FONT color="green">751</FONT>            /**<a name="line.751"></a>
<FONT color="green">752</FONT>             * @param number<a name="line.752"></a>
<FONT color="green">753</FONT>             * @return FindContactByPstnNumberResult<a name="line.753"></a>
<FONT color="green">754</FONT>             */<a name="line.754"></a>
<FONT color="green">755</FONT>            public FindContactByPstnNumberResult FindContactByPstnNumber( String number) {<a name="line.755"></a>
<FONT color="green">756</FONT>            <a name="line.756"></a>
<FONT color="green">757</FONT>                    Request request = null;<a name="line.757"></a>
<FONT color="green">758</FONT>                    try {<a name="line.758"></a>
<FONT color="green">759</FONT>                            request = new XCallRequest(0,8);<a name="line.759"></a>
<FONT color="green">760</FONT>                    } catch (IOException e) {<a name="line.760"></a>
<FONT color="green">761</FONT>                            e.printStackTrace();<a name="line.761"></a>
<FONT color="green">762</FONT>                            if (errorListener != null)<a name="line.762"></a>
<FONT color="green">763</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.763"></a>
<FONT color="green">764</FONT>                    }<a name="line.764"></a>
<FONT color="green">765</FONT>                    request.addParm('S',1,number);<a name="line.765"></a>
<FONT color="green">766</FONT>                    <a name="line.766"></a>
<FONT color="green">767</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.767"></a>
<FONT color="green">768</FONT>                    <a name="line.768"></a>
<FONT color="green">769</FONT>                    if (r.isErrCall())<a name="line.769"></a>
<FONT color="green">770</FONT>                            return null;<a name="line.770"></a>
<FONT color="green">771</FONT>                            <a name="line.771"></a>
<FONT color="green">772</FONT>                    FindContactByPstnNumberResult result = new FindContactByPstnNumberResult();<a name="line.772"></a>
<FONT color="green">773</FONT>                    <a name="line.773"></a>
<FONT color="green">774</FONT>                    boolean found = false;<a name="line.774"></a>
<FONT color="green">775</FONT>                    found = r.GetAsBoolean(1);<a name="line.775"></a>
<FONT color="green">776</FONT>                    result.found = found;<a name="line.776"></a>
<FONT color="green">777</FONT>                    <a name="line.777"></a>
<FONT color="green">778</FONT>                    int oid = 0;<a name="line.778"></a>
<FONT color="green">779</FONT>                    Contact contact = null;<a name="line.779"></a>
<FONT color="green">780</FONT>                    oid = r.GetOid(2);<a name="line.780"></a>
<FONT color="green">781</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.781"></a>
<FONT color="green">782</FONT>                            contact = (Contact)skype.factory(Contact.moduleID(), oid, skype);<a name="line.782"></a>
<FONT color="green">783</FONT>                    }<a name="line.783"></a>
<FONT color="green">784</FONT>                    result.contact = contact;<a name="line.784"></a>
<FONT color="green">785</FONT>                    <a name="line.785"></a>
<FONT color="green">786</FONT>                    int foundInKey = 0;<a name="line.786"></a>
<FONT color="green">787</FONT>                    foundInKey = r.GetAsInt(3);<a name="line.787"></a>
<FONT color="green">788</FONT>                    result.foundInKey = foundInKey;<a name="line.788"></a>
<FONT color="green">789</FONT>                    <a name="line.789"></a>
<FONT color="green">790</FONT>                    return result;<a name="line.790"></a>
<FONT color="green">791</FONT>            }<a name="line.791"></a>
<FONT color="green">792</FONT>            <a name="line.792"></a>
<FONT color="green">793</FONT>            public class FindContactByPstnNumberResult {<a name="line.793"></a>
<FONT color="green">794</FONT>                    public boolean found;<a name="line.794"></a>
<FONT color="green">795</FONT>                    public Contact contact;<a name="line.795"></a>
<FONT color="green">796</FONT>                    public int foundInKey; /** type is actually PROPKEY */<a name="line.796"></a>
<FONT color="green">797</FONT>            }<a name="line.797"></a>
<FONT color="green">798</FONT>            <a name="line.798"></a>
<FONT color="green">799</FONT>            /**<a name="line.799"></a>
<FONT color="green">800</FONT>             */<a name="line.800"></a>
<FONT color="green">801</FONT>            public enum IDENTITYTYPE {<a name="line.801"></a>
<FONT color="green">802</FONT>            <a name="line.802"></a>
<FONT color="green">803</FONT>                    /** */<a name="line.803"></a>
<FONT color="green">804</FONT>                    UNRECOGNIZED(0),<a name="line.804"></a>
<FONT color="green">805</FONT>                    <a name="line.805"></a>
<FONT color="green">806</FONT>                    /** */<a name="line.806"></a>
<FONT color="green">807</FONT>                    SKYPE(1),<a name="line.807"></a>
<FONT color="green">808</FONT>                    <a name="line.808"></a>
<FONT color="green">809</FONT>                    /** */<a name="line.809"></a>
<FONT color="green">810</FONT>                    SKYPE_MYSELF(2),<a name="line.810"></a>
<FONT color="green">811</FONT>                    <a name="line.811"></a>
<FONT color="green">812</FONT>                    /** */<a name="line.812"></a>
<FONT color="green">813</FONT>                    SKYPE_UNDISCLOSED(3),<a name="line.813"></a>
<FONT color="green">814</FONT>                    <a name="line.814"></a>
<FONT color="green">815</FONT>                    /** */<a name="line.815"></a>
<FONT color="green">816</FONT>                    PSTN(4),<a name="line.816"></a>
<FONT color="green">817</FONT>                    <a name="line.817"></a>
<FONT color="green">818</FONT>                    /** */<a name="line.818"></a>
<FONT color="green">819</FONT>                    PSTN_EMERGENCY(5),<a name="line.819"></a>
<FONT color="green">820</FONT>                    <a name="line.820"></a>
<FONT color="green">821</FONT>                    /** */<a name="line.821"></a>
<FONT color="green">822</FONT>                    PSTN_FREE(6),<a name="line.822"></a>
<FONT color="green">823</FONT>                    <a name="line.823"></a>
<FONT color="green">824</FONT>                    /** */<a name="line.824"></a>
<FONT color="green">825</FONT>                    PSTN_UNDISCLOSED(7),<a name="line.825"></a>
<FONT color="green">826</FONT>                    <a name="line.826"></a>
<FONT color="green">827</FONT>                    /** */<a name="line.827"></a>
<FONT color="green">828</FONT>                    CONFERENCE(8),<a name="line.828"></a>
<FONT color="green">829</FONT>                    <a name="line.829"></a>
<FONT color="green">830</FONT>                    /** */<a name="line.830"></a>
<FONT color="green">831</FONT>                    EXTERNAL(9);<a name="line.831"></a>
<FONT color="green">832</FONT>                    <a name="line.832"></a>
<FONT color="green">833</FONT>                    private static final Map&lt;Integer,IDENTITYTYPE&gt; lookup = new HashMap&lt;Integer,IDENTITYTYPE&gt;();<a name="line.833"></a>
<FONT color="green">834</FONT>                    <a name="line.834"></a>
<FONT color="green">835</FONT>                    static {<a name="line.835"></a>
<FONT color="green">836</FONT>                            for(IDENTITYTYPE s : EnumSet.allOf(IDENTITYTYPE.class))<a name="line.836"></a>
<FONT color="green">837</FONT>                                    lookup.put(s.getId(), s);<a name="line.837"></a>
<FONT color="green">838</FONT>                    }<a name="line.838"></a>
<FONT color="green">839</FONT>                    <a name="line.839"></a>
<FONT color="green">840</FONT>                    private final int id;<a name="line.840"></a>
<FONT color="green">841</FONT>                    <a name="line.841"></a>
<FONT color="green">842</FONT>                    private IDENTITYTYPE(int value) {<a name="line.842"></a>
<FONT color="green">843</FONT>                            this.id = value;<a name="line.843"></a>
<FONT color="green">844</FONT>                    }<a name="line.844"></a>
<FONT color="green">845</FONT>                    <a name="line.845"></a>
<FONT color="green">846</FONT>                    public int getId() { return id; }<a name="line.846"></a>
<FONT color="green">847</FONT>                    <a name="line.847"></a>
<FONT color="green">848</FONT>                    public static IDENTITYTYPE get(int code) {<a name="line.848"></a>
<FONT color="green">849</FONT>                            return lookup.get(code);<a name="line.849"></a>
<FONT color="green">850</FONT>                    }<a name="line.850"></a>
<FONT color="green">851</FONT>                    <a name="line.851"></a>
<FONT color="green">852</FONT>                    public static IDENTITYTYPE fromString(String s) {<a name="line.852"></a>
<FONT color="green">853</FONT>                            for (IDENTITYTYPE p : lookup.values()) {<a name="line.853"></a>
<FONT color="green">854</FONT>                                    if (p.toString() == s) {<a name="line.854"></a>
<FONT color="green">855</FONT>                                            return p;<a name="line.855"></a>
<FONT color="green">856</FONT>                                    }<a name="line.856"></a>
<FONT color="green">857</FONT>                            }<a name="line.857"></a>
<FONT color="green">858</FONT>                            return null;<a name="line.858"></a>
<FONT color="green">859</FONT>                    }<a name="line.859"></a>
<FONT color="green">860</FONT>            }<a name="line.860"></a>
<FONT color="green">861</FONT>            <a name="line.861"></a>
<FONT color="green">862</FONT>            /**<a name="line.862"></a>
<FONT color="green">863</FONT>             *This takes skypename or a phone number string as argument and returns corresponding identity type (SKYPE, SKYPE_MYSELF, PSTN, etc.) &lt;br&gt;<a name="line.863"></a>
<FONT color="green">864</FONT>             * @param identity<a name="line.864"></a>
<FONT color="green">865</FONT>             * @return type<a name="line.865"></a>
<FONT color="green">866</FONT>             */<a name="line.866"></a>
<FONT color="green">867</FONT>            public IDENTITYTYPE GetIdentityType( String identity) {<a name="line.867"></a>
<FONT color="green">868</FONT>            <a name="line.868"></a>
<FONT color="green">869</FONT>                    Request request = null;<a name="line.869"></a>
<FONT color="green">870</FONT>                    try {<a name="line.870"></a>
<FONT color="green">871</FONT>                            request = new XCallRequest(0,19);<a name="line.871"></a>
<FONT color="green">872</FONT>                    } catch (IOException e) {<a name="line.872"></a>
<FONT color="green">873</FONT>                            e.printStackTrace();<a name="line.873"></a>
<FONT color="green">874</FONT>                            if (errorListener != null)<a name="line.874"></a>
<FONT color="green">875</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.875"></a>
<FONT color="green">876</FONT>                    }<a name="line.876"></a>
<FONT color="green">877</FONT>                    request.addParm('S',1,identity);<a name="line.877"></a>
<FONT color="green">878</FONT>                    <a name="line.878"></a>
<FONT color="green">879</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.879"></a>
<FONT color="green">880</FONT>                    <a name="line.880"></a>
<FONT color="green">881</FONT>                    if (r.isErrCall())<a name="line.881"></a>
<FONT color="green">882</FONT>                            return null;<a name="line.882"></a>
<FONT color="green">883</FONT>                            <a name="line.883"></a>
<FONT color="green">884</FONT>                    IDENTITYTYPE identitytype = null;<a name="line.884"></a>
<FONT color="green">885</FONT>                    identitytype = IDENTITYTYPE.get(r.GetAsInt(1));<a name="line.885"></a>
<FONT color="green">886</FONT>                    return identitytype;<a name="line.886"></a>
<FONT color="green">887</FONT>            }<a name="line.887"></a>
<FONT color="green">888</FONT>            <a name="line.888"></a>
<FONT color="green">889</FONT>            /**<a name="line.889"></a>
<FONT color="green">890</FONT>             */<a name="line.890"></a>
<FONT color="green">891</FONT>            public enum NORMALIZERESULT {<a name="line.891"></a>
<FONT color="green">892</FONT>            <a name="line.892"></a>
<FONT color="green">893</FONT>                    /** */<a name="line.893"></a>
<FONT color="green">894</FONT>                    IDENTITY_OK(0),<a name="line.894"></a>
<FONT color="green">895</FONT>                    <a name="line.895"></a>
<FONT color="green">896</FONT>                    /** */<a name="line.896"></a>
<FONT color="green">897</FONT>                    IDENTITY_EMPTY(1),<a name="line.897"></a>
<FONT color="green">898</FONT>                    <a name="line.898"></a>
<FONT color="green">899</FONT>                    /** */<a name="line.899"></a>
<FONT color="green">900</FONT>                    IDENTITY_TOO_LONG(2),<a name="line.900"></a>
<FONT color="green">901</FONT>                    <a name="line.901"></a>
<FONT color="green">902</FONT>                    /** */<a name="line.902"></a>
<FONT color="green">903</FONT>                    IDENTITY_CONTAINS_INVALID_CHAR(3),<a name="line.903"></a>
<FONT color="green">904</FONT>                    <a name="line.904"></a>
<FONT color="green">905</FONT>                    /** */<a name="line.905"></a>
<FONT color="green">906</FONT>                    PSTN_NUMBER_TOO_SHORT(4),<a name="line.906"></a>
<FONT color="green">907</FONT>                    <a name="line.907"></a>
<FONT color="green">908</FONT>                    /** identity looks like pstn number but does not start with +/00/011*/<a name="line.908"></a>
<FONT color="green">909</FONT>                    PSTN_NUMBER_HAS_INVALID_PREFIX(5),<a name="line.909"></a>
<FONT color="green">910</FONT>                    <a name="line.910"></a>
<FONT color="green">911</FONT>                    /** */<a name="line.911"></a>
<FONT color="green">912</FONT>                    SKYPENAME_STARTS_WITH_NONALPHA(6),<a name="line.912"></a>
<FONT color="green">913</FONT>                    <a name="line.913"></a>
<FONT color="green">914</FONT>                    /** returned only when isNewSkypeName*/<a name="line.914"></a>
<FONT color="green">915</FONT>                    SKYPENAME_SHORTER_THAN_6_CHARS(7);<a name="line.915"></a>
<FONT color="green">916</FONT>                    <a name="line.916"></a>
<FONT color="green">917</FONT>                    private static final Map&lt;Integer,NORMALIZERESULT&gt; lookup = new HashMap&lt;Integer,NORMALIZERESULT&gt;();<a name="line.917"></a>
<FONT color="green">918</FONT>                    <a name="line.918"></a>
<FONT color="green">919</FONT>                    static {<a name="line.919"></a>
<FONT color="green">920</FONT>                            for(NORMALIZERESULT s : EnumSet.allOf(NORMALIZERESULT.class))<a name="line.920"></a>
<FONT color="green">921</FONT>                                    lookup.put(s.getId(), s);<a name="line.921"></a>
<FONT color="green">922</FONT>                    }<a name="line.922"></a>
<FONT color="green">923</FONT>                    <a name="line.923"></a>
<FONT color="green">924</FONT>                    private final int id;<a name="line.924"></a>
<FONT color="green">925</FONT>                    <a name="line.925"></a>
<FONT color="green">926</FONT>                    private NORMALIZERESULT(int value) {<a name="line.926"></a>
<FONT color="green">927</FONT>                            this.id = value;<a name="line.927"></a>
<FONT color="green">928</FONT>                    }<a name="line.928"></a>
<FONT color="green">929</FONT>                    <a name="line.929"></a>
<FONT color="green">930</FONT>                    public int getId() { return id; }<a name="line.930"></a>
<FONT color="green">931</FONT>                    <a name="line.931"></a>
<FONT color="green">932</FONT>                    public static NORMALIZERESULT get(int code) {<a name="line.932"></a>
<FONT color="green">933</FONT>                            return lookup.get(code);<a name="line.933"></a>
<FONT color="green">934</FONT>                    }<a name="line.934"></a>
<FONT color="green">935</FONT>                    <a name="line.935"></a>
<FONT color="green">936</FONT>                    public static NORMALIZERESULT fromString(String s) {<a name="line.936"></a>
<FONT color="green">937</FONT>                            for (NORMALIZERESULT p : lookup.values()) {<a name="line.937"></a>
<FONT color="green">938</FONT>                                    if (p.toString() == s) {<a name="line.938"></a>
<FONT color="green">939</FONT>                                            return p;<a name="line.939"></a>
<FONT color="green">940</FONT>                                    }<a name="line.940"></a>
<FONT color="green">941</FONT>                            }<a name="line.941"></a>
<FONT color="green">942</FONT>                            return null;<a name="line.942"></a>
<FONT color="green">943</FONT>                    }<a name="line.943"></a>
<FONT color="green">944</FONT>            }<a name="line.944"></a>
<FONT color="green">945</FONT>            <a name="line.945"></a>
<FONT color="green">946</FONT>            /**<a name="line.946"></a>
<FONT color="green">947</FONT>             *compares two identities to see if they match<a name="line.947"></a>
<FONT color="green">948</FONT>             * @param identityA<a name="line.948"></a>
<FONT color="green">949</FONT>             * @param identityB<a name="line.949"></a>
<FONT color="green">950</FONT>             * @return result<a name="line.950"></a>
<FONT color="green">951</FONT>             */<a name="line.951"></a>
<FONT color="green">952</FONT>            public boolean IdentitiesMatch( String identityA, String identityB) {<a name="line.952"></a>
<FONT color="green">953</FONT>            <a name="line.953"></a>
<FONT color="green">954</FONT>                    Request request = null;<a name="line.954"></a>
<FONT color="green">955</FONT>                    try {<a name="line.955"></a>
<FONT color="green">956</FONT>                            request = new XCallRequest(0,88);<a name="line.956"></a>
<FONT color="green">957</FONT>                    } catch (IOException e) {<a name="line.957"></a>
<FONT color="green">958</FONT>                            e.printStackTrace();<a name="line.958"></a>
<FONT color="green">959</FONT>                            if (errorListener != null)<a name="line.959"></a>
<FONT color="green">960</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.960"></a>
<FONT color="green">961</FONT>                    }<a name="line.961"></a>
<FONT color="green">962</FONT>                    request.addParm('S',1,identityA);<a name="line.962"></a>
<FONT color="green">963</FONT>                    request.addParm('S',2,identityB);<a name="line.963"></a>
<FONT color="green">964</FONT>                    <a name="line.964"></a>
<FONT color="green">965</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.965"></a>
<FONT color="green">966</FONT>                    <a name="line.966"></a>
<FONT color="green">967</FONT>                    if (r.isErrCall())<a name="line.967"></a>
<FONT color="green">968</FONT>                            return false;<a name="line.968"></a>
<FONT color="green">969</FONT>                            <a name="line.969"></a>
<FONT color="green">970</FONT>                    boolean result = false;<a name="line.970"></a>
<FONT color="green">971</FONT>                    result = r.GetAsBoolean(1);<a name="line.971"></a>
<FONT color="green">972</FONT>                    return result;<a name="line.972"></a>
<FONT color="green">973</FONT>            }<a name="line.973"></a>
<FONT color="green">974</FONT>            <a name="line.974"></a>
<FONT color="green">975</FONT>            /**<a name="line.975"></a>
<FONT color="green">976</FONT>             *This method is deprecated. Use ValidateProfileString method instead. &lt;br&gt;<a name="line.976"></a>
<FONT color="green">977</FONT>             * @param original<a name="line.977"></a>
<FONT color="green">978</FONT>             * @param isNewSkypeName<a name="line.978"></a>
<FONT color="green">979</FONT>             * @return NormalizeIdentityResult<a name="line.979"></a>
<FONT color="green">980</FONT>             */<a name="line.980"></a>
<FONT color="green">981</FONT>            public NormalizeIdentityResult NormalizeIdentity( String original, boolean isNewSkypeName) {<a name="line.981"></a>
<FONT color="green">982</FONT>            <a name="line.982"></a>
<FONT color="green">983</FONT>                    Request request = null;<a name="line.983"></a>
<FONT color="green">984</FONT>                    try {<a name="line.984"></a>
<FONT color="green">985</FONT>                            request = new XCallRequest(0,9);<a name="line.985"></a>
<FONT color="green">986</FONT>                    } catch (IOException e) {<a name="line.986"></a>
<FONT color="green">987</FONT>                            e.printStackTrace();<a name="line.987"></a>
<FONT color="green">988</FONT>                            if (errorListener != null)<a name="line.988"></a>
<FONT color="green">989</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.989"></a>
<FONT color="green">990</FONT>                    }<a name="line.990"></a>
<FONT color="green">991</FONT>                    request.addParm('S',1,original);<a name="line.991"></a>
<FONT color="green">992</FONT>                    request.addParm('b',2,isNewSkypeName);<a name="line.992"></a>
<FONT color="green">993</FONT>                    <a name="line.993"></a>
<FONT color="green">994</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.994"></a>
<FONT color="green">995</FONT>                    <a name="line.995"></a>
<FONT color="green">996</FONT>                    if (r.isErrCall())<a name="line.996"></a>
<FONT color="green">997</FONT>                            return null;<a name="line.997"></a>
<FONT color="green">998</FONT>                            <a name="line.998"></a>
<FONT color="green">999</FONT>                    NormalizeIdentityResult result = new NormalizeIdentityResult();<a name="line.999"></a>
<FONT color="green">1000</FONT>                    <a name="line.1000"></a>
<FONT color="green">1001</FONT>                    NORMALIZERESULT normalizeresult = null;<a name="line.1001"></a>
<FONT color="green">1002</FONT>                    normalizeresult = NORMALIZERESULT.get(r.GetAsInt(1));<a name="line.1002"></a>
<FONT color="green">1003</FONT>                    result.result = normalizeresult;<a name="line.1003"></a>
<FONT color="green">1004</FONT>                    <a name="line.1004"></a>
<FONT color="green">1005</FONT>                    String normalized = null;<a name="line.1005"></a>
<FONT color="green">1006</FONT>                    normalized = r.GetAsString(2);<a name="line.1006"></a>
<FONT color="green">1007</FONT>                    result.normalized = normalized;<a name="line.1007"></a>
<FONT color="green">1008</FONT>                    <a name="line.1008"></a>
<FONT color="green">1009</FONT>                    return result;<a name="line.1009"></a>
<FONT color="green">1010</FONT>            }<a name="line.1010"></a>
<FONT color="green">1011</FONT>            <a name="line.1011"></a>
<FONT color="green">1012</FONT>            public class NormalizeIdentityResult {<a name="line.1012"></a>
<FONT color="green">1013</FONT>                    public NORMALIZERESULT result;<a name="line.1013"></a>
<FONT color="green">1014</FONT>                    public String normalized;<a name="line.1014"></a>
<FONT color="green">1015</FONT>            }<a name="line.1015"></a>
<FONT color="green">1016</FONT>            <a name="line.1016"></a>
<FONT color="green">1017</FONT>            /**<a name="line.1017"></a>
<FONT color="green">1018</FONT>             *NormalizePSTNWithCountry checks if the phone number starts with + if it doesn't, it prefixes the output with +XXX (where XXX is the country code). It also converts letters to numbers based on the standard phone keypad, so that the phone number string 212CALLME1 with country code 372 (Estonia) would be normalized to +3722122255631. If the method cannot normalize the phone number (because it's too long, too short, etc.), it returns an error code in &amp;result. &lt;br&gt;<a name="line.1018"></a>
<FONT color="green">1019</FONT>             * @param original<a name="line.1019"></a>
<FONT color="green">1020</FONT>             * @param countryPrefix<a name="line.1020"></a>
<FONT color="green">1021</FONT>             * @return NormalizePSTNWithCountryResult<a name="line.1021"></a>
<FONT color="green">1022</FONT>             */<a name="line.1022"></a>
<FONT color="green">1023</FONT>            public NormalizePSTNWithCountryResult NormalizePSTNWithCountry( String original, int countryPrefix) {<a name="line.1023"></a>
<FONT color="green">1024</FONT>            <a name="line.1024"></a>
<FONT color="green">1025</FONT>                    Request request = null;<a name="line.1025"></a>
<FONT color="green">1026</FONT>                    try {<a name="line.1026"></a>
<FONT color="green">1027</FONT>                            request = new XCallRequest(0,205);<a name="line.1027"></a>
<FONT color="green">1028</FONT>                    } catch (IOException e) {<a name="line.1028"></a>
<FONT color="green">1029</FONT>                            e.printStackTrace();<a name="line.1029"></a>
<FONT color="green">1030</FONT>                            if (errorListener != null)<a name="line.1030"></a>
<FONT color="green">1031</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1031"></a>
<FONT color="green">1032</FONT>                    }<a name="line.1032"></a>
<FONT color="green">1033</FONT>                    request.addParm('S',1,original);<a name="line.1033"></a>
<FONT color="green">1034</FONT>                    request.addParm('u',2,countryPrefix);<a name="line.1034"></a>
<FONT color="green">1035</FONT>                    <a name="line.1035"></a>
<FONT color="green">1036</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1036"></a>
<FONT color="green">1037</FONT>                    <a name="line.1037"></a>
<FONT color="green">1038</FONT>                    if (r.isErrCall())<a name="line.1038"></a>
<FONT color="green">1039</FONT>                            return null;<a name="line.1039"></a>
<FONT color="green">1040</FONT>                            <a name="line.1040"></a>
<FONT color="green">1041</FONT>                    NormalizePSTNWithCountryResult result = new NormalizePSTNWithCountryResult();<a name="line.1041"></a>
<FONT color="green">1042</FONT>                    <a name="line.1042"></a>
<FONT color="green">1043</FONT>                    NORMALIZERESULT normalizeresult = null;<a name="line.1043"></a>
<FONT color="green">1044</FONT>                    normalizeresult = NORMALIZERESULT.get(r.GetAsInt(1));<a name="line.1044"></a>
<FONT color="green">1045</FONT>                    result.result = normalizeresult;<a name="line.1045"></a>
<FONT color="green">1046</FONT>                    <a name="line.1046"></a>
<FONT color="green">1047</FONT>                    String normalized = null;<a name="line.1047"></a>
<FONT color="green">1048</FONT>                    normalized = r.GetAsString(2);<a name="line.1048"></a>
<FONT color="green">1049</FONT>                    result.normalized = normalized;<a name="line.1049"></a>
<FONT color="green">1050</FONT>                    <a name="line.1050"></a>
<FONT color="green">1051</FONT>                    return result;<a name="line.1051"></a>
<FONT color="green">1052</FONT>            }<a name="line.1052"></a>
<FONT color="green">1053</FONT>            <a name="line.1053"></a>
<FONT color="green">1054</FONT>            public class NormalizePSTNWithCountryResult {<a name="line.1054"></a>
<FONT color="green">1055</FONT>                    public NORMALIZERESULT result;<a name="line.1055"></a>
<FONT color="green">1056</FONT>                    public String normalized;<a name="line.1056"></a>
<FONT color="green">1057</FONT>            }<a name="line.1057"></a>
<FONT color="green">1058</FONT>            <a name="line.1058"></a>
<FONT color="green">1059</FONT>            /**<a name="line.1059"></a>
<FONT color="green">1060</FONT>             *list of (min,max) pairs<a name="line.1060"></a>
<FONT color="green">1061</FONT>             * @return rangeList<a name="line.1061"></a>
<FONT color="green">1062</FONT>             */<a name="line.1062"></a>
<FONT color="green">1063</FONT>            public int [] GetOptimalAgeRanges() {<a name="line.1063"></a>
<FONT color="green">1064</FONT>            <a name="line.1064"></a>
<FONT color="green">1065</FONT>                    Request request = null;<a name="line.1065"></a>
<FONT color="green">1066</FONT>                    try {<a name="line.1066"></a>
<FONT color="green">1067</FONT>                            request = new XCallRequest(0,77);<a name="line.1067"></a>
<FONT color="green">1068</FONT>                    } catch (IOException e) {<a name="line.1068"></a>
<FONT color="green">1069</FONT>                            e.printStackTrace();<a name="line.1069"></a>
<FONT color="green">1070</FONT>                            if (errorListener != null)<a name="line.1070"></a>
<FONT color="green">1071</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1071"></a>
<FONT color="green">1072</FONT>                    }<a name="line.1072"></a>
<FONT color="green">1073</FONT>                    <a name="line.1073"></a>
<FONT color="green">1074</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1074"></a>
<FONT color="green">1075</FONT>                    <a name="line.1075"></a>
<FONT color="green">1076</FONT>                    if (r.isErrCall())<a name="line.1076"></a>
<FONT color="green">1077</FONT>                            return null;<a name="line.1077"></a>
<FONT color="green">1078</FONT>                            <a name="line.1078"></a>
<FONT color="green">1079</FONT>                    Vector&lt;Integer&gt; rangeList = new Vector&lt;Integer&gt;();<a name="line.1079"></a>
<FONT color="green">1080</FONT>                    while (r.HasMore(1))<a name="line.1080"></a>
<FONT color="green">1081</FONT>                    {<a name="line.1081"></a>
<FONT color="green">1082</FONT>                            Integer integer = null;<a name="line.1082"></a>
<FONT color="green">1083</FONT>                            integer = new Integer(r.GetAsInt(1));<a name="line.1083"></a>
<FONT color="green">1084</FONT>                            rangeList.add(integer);<a name="line.1084"></a>
<FONT color="green">1085</FONT>                    }<a name="line.1085"></a>
<FONT color="green">1086</FONT>                    <a name="line.1086"></a>
<FONT color="green">1087</FONT>                    int[] intArray = new int[rangeList.size()];<a name="line.1087"></a>
<FONT color="green">1088</FONT>                    for (int i = 0; i &lt; rangeList.size(); i++) {<a name="line.1088"></a>
<FONT color="green">1089</FONT>                            intArray[i] = rangeList.get(i);<a name="line.1089"></a>
<FONT color="green">1090</FONT>                    }<a name="line.1090"></a>
<FONT color="green">1091</FONT>                    return intArray;<a name="line.1091"></a>
<FONT color="green">1092</FONT>            }<a name="line.1092"></a>
<FONT color="green">1093</FONT>            <a name="line.1093"></a>
<FONT color="green">1094</FONT>            /**<a name="line.1094"></a>
<FONT color="green">1095</FONT>             *Creates a blank contact search object, in which you can add your custom search terms. For more information how asynchronous contact search works, see ContactSearch class details. &lt;br&gt;<a name="line.1095"></a>
<FONT color="green">1096</FONT>             * @return search Returns blank ContactSearch object. &lt;br&gt;<a name="line.1096"></a>
<FONT color="green">1097</FONT>             */<a name="line.1097"></a>
<FONT color="green">1098</FONT>            public ContactSearch CreateContactSearch() {<a name="line.1098"></a>
<FONT color="green">1099</FONT>            <a name="line.1099"></a>
<FONT color="green">1100</FONT>                    Request request = null;<a name="line.1100"></a>
<FONT color="green">1101</FONT>                    try {<a name="line.1101"></a>
<FONT color="green">1102</FONT>                            request = new XCallRequest(0,10);<a name="line.1102"></a>
<FONT color="green">1103</FONT>                    } catch (IOException e) {<a name="line.1103"></a>
<FONT color="green">1104</FONT>                            e.printStackTrace();<a name="line.1104"></a>
<FONT color="green">1105</FONT>                            if (errorListener != null)<a name="line.1105"></a>
<FONT color="green">1106</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1106"></a>
<FONT color="green">1107</FONT>                    }<a name="line.1107"></a>
<FONT color="green">1108</FONT>                    <a name="line.1108"></a>
<FONT color="green">1109</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1109"></a>
<FONT color="green">1110</FONT>                    <a name="line.1110"></a>
<FONT color="green">1111</FONT>                    if (r.isErrCall())<a name="line.1111"></a>
<FONT color="green">1112</FONT>                            return null;<a name="line.1112"></a>
<FONT color="green">1113</FONT>                            <a name="line.1113"></a>
<FONT color="green">1114</FONT>                    int oid = 0;<a name="line.1114"></a>
<FONT color="green">1115</FONT>                    ContactSearch search = null;<a name="line.1115"></a>
<FONT color="green">1116</FONT>                    oid = r.GetOid(1);<a name="line.1116"></a>
<FONT color="green">1117</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1117"></a>
<FONT color="green">1118</FONT>                            search = (ContactSearch)skype.factory(ContactSearch.moduleID(), oid, skype);<a name="line.1118"></a>
<FONT color="green">1119</FONT>                    }<a name="line.1119"></a>
<FONT color="green">1120</FONT>                    return search;<a name="line.1120"></a>
<FONT color="green">1121</FONT>            }<a name="line.1121"></a>
<FONT color="green">1122</FONT>            <a name="line.1122"></a>
<FONT color="green">1123</FONT>            /**<a name="line.1123"></a>
<FONT color="green">1124</FONT>             *searches skypenames, aliases, fullnames, emails. false if not valid<a name="line.1124"></a>
<FONT color="green">1125</FONT>             * @param text<a name="line.1125"></a>
<FONT color="green">1126</FONT>             * @return search<a name="line.1126"></a>
<FONT color="green">1127</FONT>             */<a name="line.1127"></a>
<FONT color="green">1128</FONT>            public ContactSearch CreateBasicContactSearch( String text) {<a name="line.1128"></a>
<FONT color="green">1129</FONT>            <a name="line.1129"></a>
<FONT color="green">1130</FONT>                    Request request = null;<a name="line.1130"></a>
<FONT color="green">1131</FONT>                    try {<a name="line.1131"></a>
<FONT color="green">1132</FONT>                            request = new XCallRequest(0,11);<a name="line.1132"></a>
<FONT color="green">1133</FONT>                    } catch (IOException e) {<a name="line.1133"></a>
<FONT color="green">1134</FONT>                            e.printStackTrace();<a name="line.1134"></a>
<FONT color="green">1135</FONT>                            if (errorListener != null)<a name="line.1135"></a>
<FONT color="green">1136</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1136"></a>
<FONT color="green">1137</FONT>                    }<a name="line.1137"></a>
<FONT color="green">1138</FONT>                    request.addParm('S',1,text);<a name="line.1138"></a>
<FONT color="green">1139</FONT>                    <a name="line.1139"></a>
<FONT color="green">1140</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1140"></a>
<FONT color="green">1141</FONT>                    <a name="line.1141"></a>
<FONT color="green">1142</FONT>                    if (r.isErrCall())<a name="line.1142"></a>
<FONT color="green">1143</FONT>                            return null;<a name="line.1143"></a>
<FONT color="green">1144</FONT>                            <a name="line.1144"></a>
<FONT color="green">1145</FONT>                    int oid = 0;<a name="line.1145"></a>
<FONT color="green">1146</FONT>                    ContactSearch search = null;<a name="line.1146"></a>
<FONT color="green">1147</FONT>                    oid = r.GetOid(1);<a name="line.1147"></a>
<FONT color="green">1148</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1148"></a>
<FONT color="green">1149</FONT>                            search = (ContactSearch)skype.factory(ContactSearch.moduleID(), oid, skype);<a name="line.1149"></a>
<FONT color="green">1150</FONT>                    }<a name="line.1150"></a>
<FONT color="green">1151</FONT>                    return search;<a name="line.1151"></a>
<FONT color="green">1152</FONT>            }<a name="line.1152"></a>
<FONT color="green">1153</FONT>            <a name="line.1153"></a>
<FONT color="green">1154</FONT>            /**<a name="line.1154"></a>
<FONT color="green">1155</FONT>             *searches skypenames and aliases. returns 0 or 1 results. false if not valid<a name="line.1155"></a>
<FONT color="green">1156</FONT>             * @param identity<a name="line.1156"></a>
<FONT color="green">1157</FONT>             * @return search<a name="line.1157"></a>
<FONT color="green">1158</FONT>             */<a name="line.1158"></a>
<FONT color="green">1159</FONT>            public ContactSearch CreateIdentitySearch( String identity) {<a name="line.1159"></a>
<FONT color="green">1160</FONT>            <a name="line.1160"></a>
<FONT color="green">1161</FONT>                    Request request = null;<a name="line.1161"></a>
<FONT color="green">1162</FONT>                    try {<a name="line.1162"></a>
<FONT color="green">1163</FONT>                            request = new XCallRequest(0,12);<a name="line.1163"></a>
<FONT color="green">1164</FONT>                    } catch (IOException e) {<a name="line.1164"></a>
<FONT color="green">1165</FONT>                            e.printStackTrace();<a name="line.1165"></a>
<FONT color="green">1166</FONT>                            if (errorListener != null)<a name="line.1166"></a>
<FONT color="green">1167</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1167"></a>
<FONT color="green">1168</FONT>                    }<a name="line.1168"></a>
<FONT color="green">1169</FONT>                    request.addParm('S',1,identity);<a name="line.1169"></a>
<FONT color="green">1170</FONT>                    <a name="line.1170"></a>
<FONT color="green">1171</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1171"></a>
<FONT color="green">1172</FONT>                    <a name="line.1172"></a>
<FONT color="green">1173</FONT>                    if (r.isErrCall())<a name="line.1173"></a>
<FONT color="green">1174</FONT>                            return null;<a name="line.1174"></a>
<FONT color="green">1175</FONT>                            <a name="line.1175"></a>
<FONT color="green">1176</FONT>                    int oid = 0;<a name="line.1176"></a>
<FONT color="green">1177</FONT>                    ContactSearch search = null;<a name="line.1177"></a>
<FONT color="green">1178</FONT>                    oid = r.GetOid(1);<a name="line.1178"></a>
<FONT color="green">1179</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1179"></a>
<FONT color="green">1180</FONT>                            search = (ContactSearch)skype.factory(ContactSearch.moduleID(), oid, skype);<a name="line.1180"></a>
<FONT color="green">1181</FONT>                    }<a name="line.1181"></a>
<FONT color="green">1182</FONT>                    return search;<a name="line.1182"></a>
<FONT color="green">1183</FONT>            }<a name="line.1183"></a>
<FONT color="green">1184</FONT>            <a name="line.1184"></a>
<FONT color="green">1185</FONT>            /**<a name="line.1185"></a>
<FONT color="green">1186</FONT>            sync failure reasons when starting a transfer */<a name="line.1186"></a>
<FONT color="green">1187</FONT>            public enum TRANSFER_SENDFILE_ERROR {<a name="line.1187"></a>
<FONT color="green">1188</FONT>            <a name="line.1188"></a>
<FONT color="green">1189</FONT>                    /** */<a name="line.1189"></a>
<FONT color="green">1190</FONT>                    TRANSFER_OPEN_SUCCESS(0),<a name="line.1190"></a>
<FONT color="green">1191</FONT>                    <a name="line.1191"></a>
<FONT color="green">1192</FONT>                    /** */<a name="line.1192"></a>
<FONT color="green">1193</FONT>                    TRANSFER_BAD_FILENAME(1),<a name="line.1193"></a>
<FONT color="green">1194</FONT>                    <a name="line.1194"></a>
<FONT color="green">1195</FONT>                    /** */<a name="line.1195"></a>
<FONT color="green">1196</FONT>                    TRANSFER_OPEN_FAILED(2),<a name="line.1196"></a>
<FONT color="green">1197</FONT>                    <a name="line.1197"></a>
<FONT color="green">1198</FONT>                    /** */<a name="line.1198"></a>
<FONT color="green">1199</FONT>                    TRANSFER_TOO_MANY_PARALLEL(3);<a name="line.1199"></a>
<FONT color="green">1200</FONT>                    <a name="line.1200"></a>
<FONT color="green">1201</FONT>                    private static final Map&lt;Integer,TRANSFER_SENDFILE_ERROR&gt; lookup = new HashMap&lt;Integer,TRANSFER_SENDFILE_ERROR&gt;();<a name="line.1201"></a>
<FONT color="green">1202</FONT>                    <a name="line.1202"></a>
<FONT color="green">1203</FONT>                    static {<a name="line.1203"></a>
<FONT color="green">1204</FONT>                            for(TRANSFER_SENDFILE_ERROR s : EnumSet.allOf(TRANSFER_SENDFILE_ERROR.class))<a name="line.1204"></a>
<FONT color="green">1205</FONT>                                    lookup.put(s.getId(), s);<a name="line.1205"></a>
<FONT color="green">1206</FONT>                    }<a name="line.1206"></a>
<FONT color="green">1207</FONT>                    <a name="line.1207"></a>
<FONT color="green">1208</FONT>                    private final int id;<a name="line.1208"></a>
<FONT color="green">1209</FONT>                    <a name="line.1209"></a>
<FONT color="green">1210</FONT>                    private TRANSFER_SENDFILE_ERROR(int value) {<a name="line.1210"></a>
<FONT color="green">1211</FONT>                            this.id = value;<a name="line.1211"></a>
<FONT color="green">1212</FONT>                    }<a name="line.1212"></a>
<FONT color="green">1213</FONT>                    <a name="line.1213"></a>
<FONT color="green">1214</FONT>                    public int getId() { return id; }<a name="line.1214"></a>
<FONT color="green">1215</FONT>                    <a name="line.1215"></a>
<FONT color="green">1216</FONT>                    public static TRANSFER_SENDFILE_ERROR get(int code) {<a name="line.1216"></a>
<FONT color="green">1217</FONT>                            return lookup.get(code);<a name="line.1217"></a>
<FONT color="green">1218</FONT>                    }<a name="line.1218"></a>
<FONT color="green">1219</FONT>                    <a name="line.1219"></a>
<FONT color="green">1220</FONT>                    public static TRANSFER_SENDFILE_ERROR fromString(String s) {<a name="line.1220"></a>
<FONT color="green">1221</FONT>                            for (TRANSFER_SENDFILE_ERROR p : lookup.values()) {<a name="line.1221"></a>
<FONT color="green">1222</FONT>                                    if (p.toString() == s) {<a name="line.1222"></a>
<FONT color="green">1223</FONT>                                            return p;<a name="line.1223"></a>
<FONT color="green">1224</FONT>                                    }<a name="line.1224"></a>
<FONT color="green">1225</FONT>                            }<a name="line.1225"></a>
<FONT color="green">1226</FONT>                            return null;<a name="line.1226"></a>
<FONT color="green">1227</FONT>                    }<a name="line.1227"></a>
<FONT color="green">1228</FONT>            }<a name="line.1228"></a>
<FONT color="green">1229</FONT>            <a name="line.1229"></a>
<FONT color="green">1230</FONT>            /**<a name="line.1230"></a>
<FONT color="green">1231</FONT>             *Creates a new empty conversation object and returns a reference to it. &lt;br&gt;<a name="line.1231"></a>
<FONT color="green">1232</FONT>             * @return conference<a name="line.1232"></a>
<FONT color="green">1233</FONT>             */<a name="line.1233"></a>
<FONT color="green">1234</FONT>            public Conversation CreateConference() {<a name="line.1234"></a>
<FONT color="green">1235</FONT>            <a name="line.1235"></a>
<FONT color="green">1236</FONT>                    Request request = null;<a name="line.1236"></a>
<FONT color="green">1237</FONT>                    try {<a name="line.1237"></a>
<FONT color="green">1238</FONT>                            request = new XCallRequest(0,13);<a name="line.1238"></a>
<FONT color="green">1239</FONT>                    } catch (IOException e) {<a name="line.1239"></a>
<FONT color="green">1240</FONT>                            e.printStackTrace();<a name="line.1240"></a>
<FONT color="green">1241</FONT>                            if (errorListener != null)<a name="line.1241"></a>
<FONT color="green">1242</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1242"></a>
<FONT color="green">1243</FONT>                    }<a name="line.1243"></a>
<FONT color="green">1244</FONT>                    <a name="line.1244"></a>
<FONT color="green">1245</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1245"></a>
<FONT color="green">1246</FONT>                    <a name="line.1246"></a>
<FONT color="green">1247</FONT>                    if (r.isErrCall())<a name="line.1247"></a>
<FONT color="green">1248</FONT>                            return null;<a name="line.1248"></a>
<FONT color="green">1249</FONT>                            <a name="line.1249"></a>
<FONT color="green">1250</FONT>                    int oid = 0;<a name="line.1250"></a>
<FONT color="green">1251</FONT>                    Conversation conference = null;<a name="line.1251"></a>
<FONT color="green">1252</FONT>                    oid = r.GetOid(1);<a name="line.1252"></a>
<FONT color="green">1253</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1253"></a>
<FONT color="green">1254</FONT>                            conference = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.1254"></a>
<FONT color="green">1255</FONT>                    }<a name="line.1255"></a>
<FONT color="green">1256</FONT>                    return conference;<a name="line.1256"></a>
<FONT color="green">1257</FONT>            }<a name="line.1257"></a>
<FONT color="green">1258</FONT>            <a name="line.1258"></a>
<FONT color="green">1259</FONT>            /**<a name="line.1259"></a>
<FONT color="green">1260</FONT>             *Returns reference tp conversation object by conversation ID string (equivalent of old chat ID). NB! ID here is that of conversation, rather than skypename of dialog partner. If you want to retrieve a conversation object with any particular person, then Skype class GetConversationByParticipants method is what you are looking for. &lt;br&gt;<a name="line.1260"></a>
<FONT color="green">1261</FONT>             * @param convoIdentity<a name="line.1261"></a>
<FONT color="green">1262</FONT>             * @return conversation<a name="line.1262"></a>
<FONT color="green">1263</FONT>             */<a name="line.1263"></a>
<FONT color="green">1264</FONT>            public Conversation GetConversationByIdentity( String convoIdentity) {<a name="line.1264"></a>
<FONT color="green">1265</FONT>            <a name="line.1265"></a>
<FONT color="green">1266</FONT>                    Request request = null;<a name="line.1266"></a>
<FONT color="green">1267</FONT>                    try {<a name="line.1267"></a>
<FONT color="green">1268</FONT>                            request = new XCallRequest(0,15);<a name="line.1268"></a>
<FONT color="green">1269</FONT>                    } catch (IOException e) {<a name="line.1269"></a>
<FONT color="green">1270</FONT>                            e.printStackTrace();<a name="line.1270"></a>
<FONT color="green">1271</FONT>                            if (errorListener != null)<a name="line.1271"></a>
<FONT color="green">1272</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1272"></a>
<FONT color="green">1273</FONT>                    }<a name="line.1273"></a>
<FONT color="green">1274</FONT>                    request.addParm('S',1,convoIdentity);<a name="line.1274"></a>
<FONT color="green">1275</FONT>                    <a name="line.1275"></a>
<FONT color="green">1276</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1276"></a>
<FONT color="green">1277</FONT>                    <a name="line.1277"></a>
<FONT color="green">1278</FONT>                    if (r.isErrCall())<a name="line.1278"></a>
<FONT color="green">1279</FONT>                            return null;<a name="line.1279"></a>
<FONT color="green">1280</FONT>                            <a name="line.1280"></a>
<FONT color="green">1281</FONT>                    int oid = 0;<a name="line.1281"></a>
<FONT color="green">1282</FONT>                    Conversation conversation = null;<a name="line.1282"></a>
<FONT color="green">1283</FONT>                    oid = r.GetOid(1);<a name="line.1283"></a>
<FONT color="green">1284</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1284"></a>
<FONT color="green">1285</FONT>                            conversation = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.1285"></a>
<FONT color="green">1286</FONT>                    }<a name="line.1286"></a>
<FONT color="green">1287</FONT>                    return conversation;<a name="line.1287"></a>
<FONT color="green">1288</FONT>            }<a name="line.1288"></a>
<FONT color="green">1289</FONT>            <a name="line.1289"></a>
<FONT color="green">1290</FONT>            /**<a name="line.1290"></a>
<FONT color="green">1291</FONT>             *myself not included<a name="line.1291"></a>
<FONT color="green">1292</FONT>             * @param participantIdentities<a name="line.1292"></a>
<FONT color="green">1293</FONT>             * @param createIfNonExisting<a name="line.1293"></a>
<FONT color="green">1294</FONT>             * @param ignoreBookmarkedOrNamed<a name="line.1294"></a>
<FONT color="green">1295</FONT>             * @return conversation<a name="line.1295"></a>
<FONT color="green">1296</FONT>             */<a name="line.1296"></a>
<FONT color="green">1297</FONT>            public Conversation GetConversationByParticipants( String [] participantIdentities, boolean createIfNonExisting, boolean ignoreBookmarkedOrNamed) {<a name="line.1297"></a>
<FONT color="green">1298</FONT>            <a name="line.1298"></a>
<FONT color="green">1299</FONT>                    Request request = null;<a name="line.1299"></a>
<FONT color="green">1300</FONT>                    try {<a name="line.1300"></a>
<FONT color="green">1301</FONT>                            request = new XCallRequest(0,16);<a name="line.1301"></a>
<FONT color="green">1302</FONT>                    } catch (IOException e) {<a name="line.1302"></a>
<FONT color="green">1303</FONT>                            e.printStackTrace();<a name="line.1303"></a>
<FONT color="green">1304</FONT>                            if (errorListener != null)<a name="line.1304"></a>
<FONT color="green">1305</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1305"></a>
<FONT color="green">1306</FONT>                    }<a name="line.1306"></a>
<FONT color="green">1307</FONT>                    request.addListStart(1);<a name="line.1307"></a>
<FONT color="green">1308</FONT>                    for (int i=0;i&lt;participantIdentities.length;i++) {<a name="line.1308"></a>
<FONT color="green">1309</FONT>                            request.addParm('S',participantIdentities[i]);<a name="line.1309"></a>
<FONT color="green">1310</FONT>                    }<a name="line.1310"></a>
<FONT color="green">1311</FONT>                    request.addParm('b',2,createIfNonExisting);<a name="line.1311"></a>
<FONT color="green">1312</FONT>                    request.addParm('b',3,ignoreBookmarkedOrNamed);<a name="line.1312"></a>
<FONT color="green">1313</FONT>                    <a name="line.1313"></a>
<FONT color="green">1314</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1314"></a>
<FONT color="green">1315</FONT>                    <a name="line.1315"></a>
<FONT color="green">1316</FONT>                    if (r.isErrCall())<a name="line.1316"></a>
<FONT color="green">1317</FONT>                            return null;<a name="line.1317"></a>
<FONT color="green">1318</FONT>                            <a name="line.1318"></a>
<FONT color="green">1319</FONT>                    int oid = 0;<a name="line.1319"></a>
<FONT color="green">1320</FONT>                    Conversation conversation = null;<a name="line.1320"></a>
<FONT color="green">1321</FONT>                    oid = r.GetOid(1);<a name="line.1321"></a>
<FONT color="green">1322</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1322"></a>
<FONT color="green">1323</FONT>                            conversation = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.1323"></a>
<FONT color="green">1324</FONT>                    }<a name="line.1324"></a>
<FONT color="green">1325</FONT>                    return conversation;<a name="line.1325"></a>
<FONT color="green">1326</FONT>            }<a name="line.1326"></a>
<FONT color="green">1327</FONT>            <a name="line.1327"></a>
<FONT color="green">1328</FONT>            /**<a name="line.1328"></a>
<FONT color="green">1329</FONT>             *Retrieves a Conversation object by Public Conversation BLOB. Public conversation blobs are globally unique conversation IDs that provide a method for joining conversation without explicitly being added to the conversation by someone already in it. Programmatically, a Conversation BLOB can be retrieved with Conversation.GetJoinBlob method. In Skype desktop clients, the BLOB can be retrieved by typing "/get uri" in a conversation. The conversation can then be joined by people who have somehow received that BLOB. &lt;br&gt;<a name="line.1329"></a>
<FONT color="green">1330</FONT>             * @param joinBlob The BLOB string. &lt;br&gt;<a name="line.1330"></a>
<FONT color="green">1331</FONT>             * @param alsoJoin If set to true, automatically joins current user into the Conversation. &lt;br&gt;<a name="line.1331"></a>
<FONT color="green">1332</FONT>             * @return conversation Returns Conversation object if successful. &lt;br&gt;<a name="line.1332"></a>
<FONT color="green">1333</FONT>             */<a name="line.1333"></a>
<FONT color="green">1334</FONT>            public Conversation GetConversationByBlob( String joinBlob, boolean alsoJoin) {<a name="line.1334"></a>
<FONT color="green">1335</FONT>            <a name="line.1335"></a>
<FONT color="green">1336</FONT>                    Request request = null;<a name="line.1336"></a>
<FONT color="green">1337</FONT>                    try {<a name="line.1337"></a>
<FONT color="green">1338</FONT>                            request = new XCallRequest(0,17);<a name="line.1338"></a>
<FONT color="green">1339</FONT>                    } catch (IOException e) {<a name="line.1339"></a>
<FONT color="green">1340</FONT>                            e.printStackTrace();<a name="line.1340"></a>
<FONT color="green">1341</FONT>                            if (errorListener != null)<a name="line.1341"></a>
<FONT color="green">1342</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1342"></a>
<FONT color="green">1343</FONT>                    }<a name="line.1343"></a>
<FONT color="green">1344</FONT>                    request.addParm('S',1,joinBlob);<a name="line.1344"></a>
<FONT color="green">1345</FONT>                    request.addParm('b',2,alsoJoin);<a name="line.1345"></a>
<FONT color="green">1346</FONT>                    <a name="line.1346"></a>
<FONT color="green">1347</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1347"></a>
<FONT color="green">1348</FONT>                    <a name="line.1348"></a>
<FONT color="green">1349</FONT>                    if (r.isErrCall())<a name="line.1349"></a>
<FONT color="green">1350</FONT>                            return null;<a name="line.1350"></a>
<FONT color="green">1351</FONT>                            <a name="line.1351"></a>
<FONT color="green">1352</FONT>                    int oid = 0;<a name="line.1352"></a>
<FONT color="green">1353</FONT>                    Conversation conversation = null;<a name="line.1353"></a>
<FONT color="green">1354</FONT>                    oid = r.GetOid(1);<a name="line.1354"></a>
<FONT color="green">1355</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1355"></a>
<FONT color="green">1356</FONT>                            conversation = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.1356"></a>
<FONT color="green">1357</FONT>                    }<a name="line.1357"></a>
<FONT color="green">1358</FONT>                    return conversation;<a name="line.1358"></a>
<FONT color="green">1359</FONT>            }<a name="line.1359"></a>
<FONT color="green">1360</FONT>            <a name="line.1360"></a>
<FONT color="green">1361</FONT>            /**<a name="line.1361"></a>
<FONT color="green">1362</FONT>             *Returns a list of Conversation objects by Conversation.LIST_TYPE filter. &lt;br&gt;<a name="line.1362"></a>
<FONT color="green">1363</FONT>             * @param type Filter. &lt;br&gt;<a name="line.1363"></a>
<FONT color="green">1364</FONT>             * @return conversations List of conversations matching the filter. &lt;br&gt;<a name="line.1364"></a>
<FONT color="green">1365</FONT>             */<a name="line.1365"></a>
<FONT color="green">1366</FONT>            public Conversation [] GetConversationList( Conversation.LIST_TYPE type) {<a name="line.1366"></a>
<FONT color="green">1367</FONT>            <a name="line.1367"></a>
<FONT color="green">1368</FONT>                    Request request = null;<a name="line.1368"></a>
<FONT color="green">1369</FONT>                    try {<a name="line.1369"></a>
<FONT color="green">1370</FONT>                            request = new XCallRequest(0,18);<a name="line.1370"></a>
<FONT color="green">1371</FONT>                    } catch (IOException e) {<a name="line.1371"></a>
<FONT color="green">1372</FONT>                            e.printStackTrace();<a name="line.1372"></a>
<FONT color="green">1373</FONT>                            if (errorListener != null)<a name="line.1373"></a>
<FONT color="green">1374</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1374"></a>
<FONT color="green">1375</FONT>                    }<a name="line.1375"></a>
<FONT color="green">1376</FONT>                    request.addParm('e',1,type.getId());<a name="line.1376"></a>
<FONT color="green">1377</FONT>                    <a name="line.1377"></a>
<FONT color="green">1378</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1378"></a>
<FONT color="green">1379</FONT>                    <a name="line.1379"></a>
<FONT color="green">1380</FONT>                    if (r.isErrCall())<a name="line.1380"></a>
<FONT color="green">1381</FONT>                            return null;<a name="line.1381"></a>
<FONT color="green">1382</FONT>                            <a name="line.1382"></a>
<FONT color="green">1383</FONT>                    Vector&lt;Conversation&gt; conversations = new Vector&lt;Conversation&gt;();<a name="line.1383"></a>
<FONT color="green">1384</FONT>                    while (r.HasMore(1))<a name="line.1384"></a>
<FONT color="green">1385</FONT>                    {<a name="line.1385"></a>
<FONT color="green">1386</FONT>                            int oid = 0;<a name="line.1386"></a>
<FONT color="green">1387</FONT>                            Conversation conversation = null;<a name="line.1387"></a>
<FONT color="green">1388</FONT>                            oid = r.GetOid(1);<a name="line.1388"></a>
<FONT color="green">1389</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) { <a name="line.1389"></a>
<FONT color="green">1390</FONT>                                    conversation = (Conversation)skype.factory(Conversation.moduleID(), oid, skype);<a name="line.1390"></a>
<FONT color="green">1391</FONT>                            }<a name="line.1391"></a>
<FONT color="green">1392</FONT>                            conversations.add(conversation);<a name="line.1392"></a>
<FONT color="green">1393</FONT>                    }<a name="line.1393"></a>
<FONT color="green">1394</FONT>                    return conversations.toArray(new Conversation[conversations.size()]);<a name="line.1394"></a>
<FONT color="green">1395</FONT>                    <a name="line.1395"></a>
<FONT color="green">1396</FONT>            }<a name="line.1396"></a>
<FONT color="green">1397</FONT>            <a name="line.1397"></a>
<FONT color="green">1398</FONT>            /**<a name="line.1398"></a>
<FONT color="green">1399</FONT>             *Retrieves a Message object by the P_GUID property (globally unique ID, same for all the participants of the conversation, in which this message occured). &lt;br&gt;<a name="line.1399"></a>
<FONT color="green">1400</FONT>             * @param guid Globally unique ID of the message. &lt;br&gt;<a name="line.1400"></a>
<FONT color="green">1401</FONT>             * @return message Returns a Message object if a match was found. &lt;br&gt;<a name="line.1401"></a>
<FONT color="green">1402</FONT>             */<a name="line.1402"></a>
<FONT color="green">1403</FONT>            public Message GetMessageByGuid( byte[] guid) {<a name="line.1403"></a>
<FONT color="green">1404</FONT>            <a name="line.1404"></a>
<FONT color="green">1405</FONT>                    Request request = null;<a name="line.1405"></a>
<FONT color="green">1406</FONT>                    try {<a name="line.1406"></a>
<FONT color="green">1407</FONT>                            request = new XCallRequest(0,21);<a name="line.1407"></a>
<FONT color="green">1408</FONT>                    } catch (IOException e) {<a name="line.1408"></a>
<FONT color="green">1409</FONT>                            e.printStackTrace();<a name="line.1409"></a>
<FONT color="green">1410</FONT>                            if (errorListener != null)<a name="line.1410"></a>
<FONT color="green">1411</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1411"></a>
<FONT color="green">1412</FONT>                    }<a name="line.1412"></a>
<FONT color="green">1413</FONT>                    request.addParm('B',1,guid);<a name="line.1413"></a>
<FONT color="green">1414</FONT>                    <a name="line.1414"></a>
<FONT color="green">1415</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1415"></a>
<FONT color="green">1416</FONT>                    <a name="line.1416"></a>
<FONT color="green">1417</FONT>                    if (r.isErrCall())<a name="line.1417"></a>
<FONT color="green">1418</FONT>                            return null;<a name="line.1418"></a>
<FONT color="green">1419</FONT>                            <a name="line.1419"></a>
<FONT color="green">1420</FONT>                    int oid = 0;<a name="line.1420"></a>
<FONT color="green">1421</FONT>                    Message message = null;<a name="line.1421"></a>
<FONT color="green">1422</FONT>                    oid = r.GetOid(1);<a name="line.1422"></a>
<FONT color="green">1423</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1423"></a>
<FONT color="green">1424</FONT>                            message = (Message)skype.factory(Message.moduleID(), oid, skype);<a name="line.1424"></a>
<FONT color="green">1425</FONT>                    }<a name="line.1425"></a>
<FONT color="green">1426</FONT>                    return message;<a name="line.1426"></a>
<FONT color="green">1427</FONT>            }<a name="line.1427"></a>
<FONT color="green">1428</FONT>            <a name="line.1428"></a>
<FONT color="green">1429</FONT>            /**<a name="line.1429"></a>
<FONT color="green">1430</FONT>             *Returns all messages of the given type,                   the most recent POSTED_EMOTE or POSTED_TEXT of each conversation.<a name="line.1430"></a>
<FONT color="green">1431</FONT>             * @param type Type of messages requested<a name="line.1431"></a>
<FONT color="green">1432</FONT>             * @param latestPerConvOnly Whether to return only the most recent message per conversation<a name="line.1432"></a>
<FONT color="green">1433</FONT>             * @param fromTimestampInc Starting timestamp for reqested range, inclusive<a name="line.1433"></a>
<FONT color="green">1434</FONT>             * @param toTimestampExc Ending timestamp for requested range, exclusive<a name="line.1434"></a>
<FONT color="green">1435</FONT>             * @return messages<a name="line.1435"></a>
<FONT color="green">1436</FONT>             */<a name="line.1436"></a>
<FONT color="green">1437</FONT>            public Message [] GetMessageListByType( Message.TYPE type, boolean latestPerConvOnly, int fromTimestampInc, int toTimestampExc) {<a name="line.1437"></a>
<FONT color="green">1438</FONT>            <a name="line.1438"></a>
<FONT color="green">1439</FONT>                    Request request = null;<a name="line.1439"></a>
<FONT color="green">1440</FONT>                    try {<a name="line.1440"></a>
<FONT color="green">1441</FONT>                            request = new XCallRequest(0,136);<a name="line.1441"></a>
<FONT color="green">1442</FONT>                    } catch (IOException e) {<a name="line.1442"></a>
<FONT color="green">1443</FONT>                            e.printStackTrace();<a name="line.1443"></a>
<FONT color="green">1444</FONT>                            if (errorListener != null)<a name="line.1444"></a>
<FONT color="green">1445</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1445"></a>
<FONT color="green">1446</FONT>                    }<a name="line.1446"></a>
<FONT color="green">1447</FONT>                    request.addParm('e',1,type.getId());<a name="line.1447"></a>
<FONT color="green">1448</FONT>                    request.addParm('b',2,latestPerConvOnly);<a name="line.1448"></a>
<FONT color="green">1449</FONT>                    request.addParm('u',3,fromTimestampInc);<a name="line.1449"></a>
<FONT color="green">1450</FONT>                    request.addParm('u',4,toTimestampExc);<a name="line.1450"></a>
<FONT color="green">1451</FONT>                    <a name="line.1451"></a>
<FONT color="green">1452</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1452"></a>
<FONT color="green">1453</FONT>                    <a name="line.1453"></a>
<FONT color="green">1454</FONT>                    if (r.isErrCall())<a name="line.1454"></a>
<FONT color="green">1455</FONT>                            return null;<a name="line.1455"></a>
<FONT color="green">1456</FONT>                            <a name="line.1456"></a>
<FONT color="green">1457</FONT>                    Vector&lt;Message&gt; messages = new Vector&lt;Message&gt;();<a name="line.1457"></a>
<FONT color="green">1458</FONT>                    while (r.HasMore(1))<a name="line.1458"></a>
<FONT color="green">1459</FONT>                    {<a name="line.1459"></a>
<FONT color="green">1460</FONT>                            int oid = 0;<a name="line.1460"></a>
<FONT color="green">1461</FONT>                            Message message = null;<a name="line.1461"></a>
<FONT color="green">1462</FONT>                            oid = r.GetOid(1);<a name="line.1462"></a>
<FONT color="green">1463</FONT>                            if (oid != AbstractDecoder.NULL_VALUE) { <a name="line.1463"></a>
<FONT color="green">1464</FONT>                                    message = (Message)skype.factory(Message.moduleID(), oid, skype);<a name="line.1464"></a>
<FONT color="green">1465</FONT>                            }<a name="line.1465"></a>
<FONT color="green">1466</FONT>                            messages.add(message);<a name="line.1466"></a>
<FONT color="green">1467</FONT>                    }<a name="line.1467"></a>
<FONT color="green">1468</FONT>                    return messages.toArray(new Message[messages.size()]);<a name="line.1468"></a>
<FONT color="green">1469</FONT>                    <a name="line.1469"></a>
<FONT color="green">1470</FONT>            }<a name="line.1470"></a>
<FONT color="green">1471</FONT>            <a name="line.1471"></a>
<FONT color="green">1472</FONT>            /**<a name="line.1472"></a>
<FONT color="green">1473</FONT>             *This method returns a table in form of two string lists of equal length and an uint argument that returns the count of items i both lists. The first list contains video recording device handles and the second list descriptive names of those devices. NB! This method requires videortphost to be running, otherwise it will return empty lists. &lt;br&gt;<a name="line.1473"></a>
<FONT color="green">1474</FONT>             * @return GetAvailableVideoDevicesResult<a name="line.1474"></a>
<FONT color="green">1475</FONT>             */<a name="line.1475"></a>
<FONT color="green">1476</FONT>            public GetAvailableVideoDevicesResult GetAvailableVideoDevices() {<a name="line.1476"></a>
<FONT color="green">1477</FONT>            <a name="line.1477"></a>
<FONT color="green">1478</FONT>                    Request request = null;<a name="line.1478"></a>
<FONT color="green">1479</FONT>                    try {<a name="line.1479"></a>
<FONT color="green">1480</FONT>                            request = new XCallRequest(0,80);<a name="line.1480"></a>
<FONT color="green">1481</FONT>                    } catch (IOException e) {<a name="line.1481"></a>
<FONT color="green">1482</FONT>                            e.printStackTrace();<a name="line.1482"></a>
<FONT color="green">1483</FONT>                            if (errorListener != null)<a name="line.1483"></a>
<FONT color="green">1484</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1484"></a>
<FONT color="green">1485</FONT>                    }<a name="line.1485"></a>
<FONT color="green">1486</FONT>                    <a name="line.1486"></a>
<FONT color="green">1487</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1487"></a>
<FONT color="green">1488</FONT>                    <a name="line.1488"></a>
<FONT color="green">1489</FONT>                    if (r.isErrCall())<a name="line.1489"></a>
<FONT color="green">1490</FONT>                            return null;<a name="line.1490"></a>
<FONT color="green">1491</FONT>                            <a name="line.1491"></a>
<FONT color="green">1492</FONT>                    GetAvailableVideoDevicesResult result = new GetAvailableVideoDevicesResult();<a name="line.1492"></a>
<FONT color="green">1493</FONT>                    <a name="line.1493"></a>
<FONT color="green">1494</FONT>                    Vector&lt;String&gt; deviceNames = new Vector&lt;String&gt;();<a name="line.1494"></a>
<FONT color="green">1495</FONT>                    while (r.HasMore(1))<a name="line.1495"></a>
<FONT color="green">1496</FONT>                    {<a name="line.1496"></a>
<FONT color="green">1497</FONT>                            String string = null;<a name="line.1497"></a>
<FONT color="green">1498</FONT>                            string  = r.GetAsString(1);<a name="line.1498"></a>
<FONT color="green">1499</FONT>                            deviceNames.add(string);<a name="line.1499"></a>
<FONT color="green">1500</FONT>                    }<a name="line.1500"></a>
<FONT color="green">1501</FONT>                    result.deviceNames = deviceNames.toArray(new String[deviceNames.size()]);<a name="line.1501"></a>
<FONT color="green">1502</FONT>                    <a name="line.1502"></a>
<FONT color="green">1503</FONT>                    Vector&lt;String&gt; devicePaths = new Vector&lt;String&gt;();<a name="line.1503"></a>
<FONT color="green">1504</FONT>                    while (r.HasMore(2))<a name="line.1504"></a>
<FONT color="green">1505</FONT>                    {<a name="line.1505"></a>
<FONT color="green">1506</FONT>                            String string = null;<a name="line.1506"></a>
<FONT color="green">1507</FONT>                            string  = r.GetAsString(2);<a name="line.1507"></a>
<FONT color="green">1508</FONT>                            devicePaths.add(string);<a name="line.1508"></a>
<FONT color="green">1509</FONT>                    }<a name="line.1509"></a>
<FONT color="green">1510</FONT>                    result.devicePaths = devicePaths.toArray(new String[devicePaths.size()]);<a name="line.1510"></a>
<FONT color="green">1511</FONT>                    <a name="line.1511"></a>
<FONT color="green">1512</FONT>                    int count = 0;<a name="line.1512"></a>
<FONT color="green">1513</FONT>                    count = r.GetAsInt(3);<a name="line.1513"></a>
<FONT color="green">1514</FONT>                    result.count = count;<a name="line.1514"></a>
<FONT color="green">1515</FONT>                    <a name="line.1515"></a>
<FONT color="green">1516</FONT>                    return result;<a name="line.1516"></a>
<FONT color="green">1517</FONT>            }<a name="line.1517"></a>
<FONT color="green">1518</FONT>            <a name="line.1518"></a>
<FONT color="green">1519</FONT>            public class GetAvailableVideoDevicesResult {<a name="line.1519"></a>
<FONT color="green">1520</FONT>                    public String [] deviceNames;<a name="line.1520"></a>
<FONT color="green">1521</FONT>                    public String [] devicePaths;<a name="line.1521"></a>
<FONT color="green">1522</FONT>                    public int count;<a name="line.1522"></a>
<FONT color="green">1523</FONT>            }<a name="line.1523"></a>
<FONT color="green">1524</FONT>            <a name="line.1524"></a>
<FONT color="green">1525</FONT>            /**<a name="line.1525"></a>
<FONT color="green">1526</FONT>             *Queries whether the given video device has a specific Video.VIDEO_DEVICE_CAPABILITY. Use Skype.GetAvailableVideoDevices method to retrieve sstring lists with available deviceName and devicePath values. &lt;br&gt;<a name="line.1526"></a>
<FONT color="green">1527</FONT>             * @param deviceName Human readable device name. &lt;br&gt;<a name="line.1527"></a>
<FONT color="green">1528</FONT>             * @param devicePath Device ID. &lt;br&gt;<a name="line.1528"></a>
<FONT color="green">1529</FONT>             * @param cap Any of the Video.VIDEO_DEVICE_CAPABILITY values. &lt;br&gt;<a name="line.1529"></a>
<FONT color="green">1530</FONT>             */<a name="line.1530"></a>
<FONT color="green">1531</FONT>            public void HasVideoDeviceCapability( String deviceName, String devicePath, Video.VIDEO_DEVICE_CAPABILITY cap) {<a name="line.1531"></a>
<FONT color="green">1532</FONT>            <a name="line.1532"></a>
<FONT color="green">1533</FONT>                    Request request = null;<a name="line.1533"></a>
<FONT color="green">1534</FONT>                    try {<a name="line.1534"></a>
<FONT color="green">1535</FONT>                            request = new XCallRequest(0,33);<a name="line.1535"></a>
<FONT color="green">1536</FONT>                    } catch (IOException e) {<a name="line.1536"></a>
<FONT color="green">1537</FONT>                            e.printStackTrace();<a name="line.1537"></a>
<FONT color="green">1538</FONT>                            if (errorListener != null)<a name="line.1538"></a>
<FONT color="green">1539</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1539"></a>
<FONT color="green">1540</FONT>                    }<a name="line.1540"></a>
<FONT color="green">1541</FONT>                    request.addParm('S',1,deviceName);<a name="line.1541"></a>
<FONT color="green">1542</FONT>                    request.addParm('S',2,devicePath);<a name="line.1542"></a>
<FONT color="green">1543</FONT>                    request.addParm('e',3,cap.getId());<a name="line.1543"></a>
<FONT color="green">1544</FONT>                    <a name="line.1544"></a>
<FONT color="green">1545</FONT>                    XCall((XCallRequest)request);<a name="line.1545"></a>
<FONT color="green">1546</FONT>            }<a name="line.1546"></a>
<FONT color="green">1547</FONT>            <a name="line.1547"></a>
<FONT color="green">1548</FONT>            /**<a name="line.1548"></a>
<FONT color="green">1549</FONT>             * @param deviceName<a name="line.1549"></a>
<FONT color="green">1550</FONT>             * @param devicePath<a name="line.1550"></a>
<FONT color="green">1551</FONT>             */<a name="line.1551"></a>
<FONT color="green">1552</FONT>            public void DisplayVideoDeviceTuningDialog( String deviceName, String devicePath) {<a name="line.1552"></a>
<FONT color="green">1553</FONT>            <a name="line.1553"></a>
<FONT color="green">1554</FONT>                    Request request = null;<a name="line.1554"></a>
<FONT color="green">1555</FONT>                    try {<a name="line.1555"></a>
<FONT color="green">1556</FONT>                            request = new XCallRequest(0,34);<a name="line.1556"></a>
<FONT color="green">1557</FONT>                    } catch (IOException e) {<a name="line.1557"></a>
<FONT color="green">1558</FONT>                            e.printStackTrace();<a name="line.1558"></a>
<FONT color="green">1559</FONT>                            if (errorListener != null)<a name="line.1559"></a>
<FONT color="green">1560</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1560"></a>
<FONT color="green">1561</FONT>                    }<a name="line.1561"></a>
<FONT color="green">1562</FONT>                    request.addParm('S',1,deviceName);<a name="line.1562"></a>
<FONT color="green">1563</FONT>                    request.addParm('S',2,devicePath);<a name="line.1563"></a>
<FONT color="green">1564</FONT>                    <a name="line.1564"></a>
<FONT color="green">1565</FONT>                    XCall((XCallRequest)request);<a name="line.1565"></a>
<FONT color="green">1566</FONT>            }<a name="line.1566"></a>
<FONT color="green">1567</FONT>            <a name="line.1567"></a>
<FONT color="green">1568</FONT>            /**<a name="line.1568"></a>
<FONT color="green">1569</FONT>             * @param type<a name="line.1569"></a>
<FONT color="green">1570</FONT>             * @param deviceName name and path to be used only with media type VIDEO<a name="line.1570"></a>
<FONT color="green">1571</FONT>             * @param devicePath<a name="line.1571"></a>
<FONT color="green">1572</FONT>             * @return video<a name="line.1572"></a>
<FONT color="green">1573</FONT>             */<a name="line.1573"></a>
<FONT color="green">1574</FONT>            public Video GetPreviewVideo( Video.MEDIATYPE type, String deviceName, String devicePath) {<a name="line.1574"></a>
<FONT color="green">1575</FONT>            <a name="line.1575"></a>
<FONT color="green">1576</FONT>                    Request request = null;<a name="line.1576"></a>
<FONT color="green">1577</FONT>                    try {<a name="line.1577"></a>
<FONT color="green">1578</FONT>                            request = new XCallRequest(0,35);<a name="line.1578"></a>
<FONT color="green">1579</FONT>                    } catch (IOException e) {<a name="line.1579"></a>
<FONT color="green">1580</FONT>                            e.printStackTrace();<a name="line.1580"></a>
<FONT color="green">1581</FONT>                            if (errorListener != null)<a name="line.1581"></a>
<FONT color="green">1582</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1582"></a>
<FONT color="green">1583</FONT>                    }<a name="line.1583"></a>
<FONT color="green">1584</FONT>                    request.addParm('e',1,type.getId());<a name="line.1584"></a>
<FONT color="green">1585</FONT>                    request.addParm('S',2,deviceName);<a name="line.1585"></a>
<FONT color="green">1586</FONT>                    request.addParm('S',3,devicePath);<a name="line.1586"></a>
<FONT color="green">1587</FONT>                    <a name="line.1587"></a>
<FONT color="green">1588</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1588"></a>
<FONT color="green">1589</FONT>                    <a name="line.1589"></a>
<FONT color="green">1590</FONT>                    if (r.isErrCall())<a name="line.1590"></a>
<FONT color="green">1591</FONT>                            return null;<a name="line.1591"></a>
<FONT color="green">1592</FONT>                            <a name="line.1592"></a>
<FONT color="green">1593</FONT>                    int oid = 0;<a name="line.1593"></a>
<FONT color="green">1594</FONT>                    Video video = null;<a name="line.1594"></a>
<FONT color="green">1595</FONT>                    oid = r.GetOid(1);<a name="line.1595"></a>
<FONT color="green">1596</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1596"></a>
<FONT color="green">1597</FONT>                            video = (Video)skype.factory(Video.moduleID(), oid, skype);<a name="line.1597"></a>
<FONT color="green">1598</FONT>                    }<a name="line.1598"></a>
<FONT color="green">1599</FONT>                    return video;<a name="line.1599"></a>
<FONT color="green">1600</FONT>            }<a name="line.1600"></a>
<FONT color="green">1601</FONT>            <a name="line.1601"></a>
<FONT color="green">1602</FONT>            /**<a name="line.1602"></a>
<FONT color="green">1603</FONT>             *Avaible to Video Engines using the Video RTP API<a name="line.1603"></a>
<FONT color="green">1604</FONT>             * @param command<a name="line.1604"></a>
<FONT color="green">1605</FONT>             * @return response<a name="line.1605"></a>
<FONT color="green">1606</FONT>             */<a name="line.1606"></a>
<FONT color="green">1607</FONT>            public String VideoCommand( String command) {<a name="line.1607"></a>
<FONT color="green">1608</FONT>            <a name="line.1608"></a>
<FONT color="green">1609</FONT>                    Request request = null;<a name="line.1609"></a>
<FONT color="green">1610</FONT>                    try {<a name="line.1610"></a>
<FONT color="green">1611</FONT>                            request = new XCallRequest(0,59);<a name="line.1611"></a>
<FONT color="green">1612</FONT>                    } catch (IOException e) {<a name="line.1612"></a>
<FONT color="green">1613</FONT>                            e.printStackTrace();<a name="line.1613"></a>
<FONT color="green">1614</FONT>                            if (errorListener != null)<a name="line.1614"></a>
<FONT color="green">1615</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1615"></a>
<FONT color="green">1616</FONT>                    }<a name="line.1616"></a>
<FONT color="green">1617</FONT>                    request.addParm('S',1,command);<a name="line.1617"></a>
<FONT color="green">1618</FONT>                    <a name="line.1618"></a>
<FONT color="green">1619</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1619"></a>
<FONT color="green">1620</FONT>                    <a name="line.1620"></a>
<FONT color="green">1621</FONT>                    if (r.isErrCall())<a name="line.1621"></a>
<FONT color="green">1622</FONT>                            return null;<a name="line.1622"></a>
<FONT color="green">1623</FONT>                            <a name="line.1623"></a>
<FONT color="green">1624</FONT>                    String response = null;<a name="line.1624"></a>
<FONT color="green">1625</FONT>                    response = r.GetAsString(1);<a name="line.1625"></a>
<FONT color="green">1626</FONT>                    return response;<a name="line.1626"></a>
<FONT color="green">1627</FONT>            }<a name="line.1627"></a>
<FONT color="green">1628</FONT>            <a name="line.1628"></a>
<FONT color="green">1629</FONT>            /**<a name="line.1629"></a>
<FONT color="green">1630</FONT>             * @param skypeName<a name="line.1630"></a>
<FONT color="green">1631</FONT>             * @return greeting<a name="line.1631"></a>
<FONT color="green">1632</FONT>             */<a name="line.1632"></a>
<FONT color="green">1633</FONT>            public Voicemail GetGreeting( String skypeName) {<a name="line.1633"></a>
<FONT color="green">1634</FONT>            <a name="line.1634"></a>
<FONT color="green">1635</FONT>                    Request request = null;<a name="line.1635"></a>
<FONT color="green">1636</FONT>                    try {<a name="line.1636"></a>
<FONT color="green">1637</FONT>                            request = new XCallRequest(0,45);<a name="line.1637"></a>
<FONT color="green">1638</FONT>                    } catch (IOException e) {<a name="line.1638"></a>
<FONT color="green">1639</FONT>                            e.printStackTrace();<a name="line.1639"></a>
<FONT color="green">1640</FONT>                            if (errorListener != null)<a name="line.1640"></a>
<FONT color="green">1641</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1641"></a>
<FONT color="green">1642</FONT>                    }<a name="line.1642"></a>
<FONT color="green">1643</FONT>                    request.addParm('S',1,skypeName);<a name="line.1643"></a>
<FONT color="green">1644</FONT>                    <a name="line.1644"></a>
<FONT color="green">1645</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1645"></a>
<FONT color="green">1646</FONT>                    <a name="line.1646"></a>
<FONT color="green">1647</FONT>                    if (r.isErrCall())<a name="line.1647"></a>
<FONT color="green">1648</FONT>                            return null;<a name="line.1648"></a>
<FONT color="green">1649</FONT>                            <a name="line.1649"></a>
<FONT color="green">1650</FONT>                    int oid = 0;<a name="line.1650"></a>
<FONT color="green">1651</FONT>                    Voicemail greeting = null;<a name="line.1651"></a>
<FONT color="green">1652</FONT>                    oid = r.GetOid(1);<a name="line.1652"></a>
<FONT color="green">1653</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.1653"></a>
<FONT color="green">1654</FONT>                            greeting = (Voicemail)skype.factory(Voicemail.moduleID(), oid, skype);<a name="line.1654"></a>
<FONT color="green">1655</FONT>                    }<a name="line.1655"></a>
<FONT color="green">1656</FONT>                    return greeting;<a name="line.1656"></a>
<FONT color="green">1657</FONT>            }<a name="line.1657"></a>
<FONT color="green">1658</FONT>            <a name="line.1658"></a>
<FONT color="green">1659</FONT>            /** Setupkey SETUPKEY_DISABLED_CODECS type:string  &lt;br&gt;Space-separated array of disabled codecs &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1659"></a>
<FONT color="green">1660</FONT>            public static final String DISABLED_CODECS = "*Lib/Audio/DisableCodecs";<a name="line.1660"></a>
<FONT color="green">1661</FONT>            <a name="line.1661"></a>
<FONT color="green">1662</FONT>            /** Setupkey SETUPKEY_DISABLE_AEC type:boolean  &lt;br&gt;Disables Skype echo canceller &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1662"></a>
<FONT color="green">1663</FONT>            public static final String DISABLE_AEC = "*Lib/Audio/DisableAEC";<a name="line.1663"></a>
<FONT color="green">1664</FONT>            <a name="line.1664"></a>
<FONT color="green">1665</FONT>            /** Setupkey SETUPKEY_DISABLE_NOISE_SUPPRESSOR type:boolean  &lt;br&gt;Disables Skype noise suppressor &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1665"></a>
<FONT color="green">1666</FONT>            public static final String DISABLE_NOISE_SUPPRESSOR = "*Lib/Audio/DisableNS";<a name="line.1666"></a>
<FONT color="green">1667</FONT>            <a name="line.1667"></a>
<FONT color="green">1668</FONT>            /** Setupkey SETUPKEY_DISABLE_AGC type:boolean  Disables Skype automatic gain controller &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1668"></a>
<FONT color="green">1669</FONT>            public static final String DISABLE_AGC = "*Lib/Audio/DisableAGC";<a name="line.1669"></a>
<FONT color="green">1670</FONT>            <a name="line.1670"></a>
<FONT color="green">1671</FONT>            /** Setupkey SETUPKEY_DISABLE_DIGITAL_NEAR_END_AGC type:boolean  &lt;br&gt;Disables Skype digital near-end gain controller &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1671"></a>
<FONT color="green">1672</FONT>            public static final String DISABLE_DIGITAL_NEAR_END_AGC = "*Lib/Audio/DisableDigitalNearEndAGC";<a name="line.1672"></a>
<FONT color="green">1673</FONT>            <a name="line.1673"></a>
<FONT color="green">1674</FONT>            /** Setupkey SETUPKEY_DISABLE_DIGITAL_FAR_END_AGC type:boolean  &lt;br&gt;Disables Skype digital far-end gain controller &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1674"></a>
<FONT color="green">1675</FONT>            public static final String DISABLE_DIGITAL_FAR_END_AGC = "*Lib/Audio/DisableDigitalFarEndAGC";<a name="line.1675"></a>
<FONT color="green">1676</FONT>            <a name="line.1676"></a>
<FONT color="green">1677</FONT>            /** Setupkey SETUPKEY_BEAMFORMER_MIC_SPACING type:string  &lt;br&gt;Space-separated array of 1 (in case of 2 microphones) or 2 (in case of 4 microphones) integers. SAL beamforming currently only supports 2 and 4-microphone configurations. The values represent the spacing between microphones (in millimeters). &lt;br&gt;In case of 2-microphone setup, Only the first value is used. &lt;br&gt;&lt;br&gt;In case of 4-microphone setup, The first value is the distance between inner pair of microphones. The second value is the distance between inner pair of microphones and the outer pair. Like this: &lt;br&gt;&lt;br&gt;Let the microphones be on straight line, A B C D. &lt;br&gt;Microphones B and C form the inner pair, while A and D form the outer pair. &lt;br&gt;The first value in the setup string would be distance between B and C. &lt;br&gt;The second value would be distance between A and B (which is the same as distance between C and D). &lt;br&gt;&lt;br&gt;With 4-mic setup, you will need to use two channels. The inner pair should go to one channel (left) and the outer pair should go to another (right). &lt;br&gt;&lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1677"></a>
<FONT color="green">1678</FONT>            public static final String BEAMFORMER_MIC_SPACING = "*Lib/Audio/BeamformerMicSpacing";<a name="line.1678"></a>
<FONT color="green">1679</FONT>            <a name="line.1679"></a>
<FONT color="green">1680</FONT>            /** Setupkey SETUPKEY_DISABLE_AUDIO_DEVICE_PROBING type:boolean  &lt;br&gt;Disables audio devices probing &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.1680"></a>
<FONT color="green">1681</FONT>            public static final String DISABLE_AUDIO_DEVICE_PROBING = "*Lib/QualityMonitor/DisableAudioDeviceProbing";<a name="line.1681"></a>
<FONT color="green">1682</FONT>            <a name="line.1682"></a>
<FONT color="green">1683</FONT>            /**<a name="line.1683"></a>
<FONT color="green">1684</FONT>             */<a name="line.1684"></a>
<FONT color="green">1685</FONT>            public enum PREPARESOUNDRESULT {<a name="line.1685"></a>
<FONT color="green">1686</FONT>            <a name="line.1686"></a>
<FONT color="green">1687</FONT>                    /** */<a name="line.1687"></a>
<FONT color="green">1688</FONT>                    PREPARESOUND_SUCCESS(0),<a name="line.1688"></a>
<FONT color="green">1689</FONT>                    <a name="line.1689"></a>
<FONT color="green">1690</FONT>                    /** */<a name="line.1690"></a>
<FONT color="green">1691</FONT>                    PREPARESOUND_MISC_ERROR(1),<a name="line.1691"></a>
<FONT color="green">1692</FONT>                    <a name="line.1692"></a>
<FONT color="green">1693</FONT>                    /** */<a name="line.1693"></a>
<FONT color="green">1694</FONT>                    PREPARESOUND_FILE_NOT_FOUND(2),<a name="line.1694"></a>
<FONT color="green">1695</FONT>                    <a name="line.1695"></a>
<FONT color="green">1696</FONT>                    /** */<a name="line.1696"></a>
<FONT color="green">1697</FONT>                    PREPARESOUND_FILE_TOO_BIG(3),<a name="line.1697"></a>
<FONT color="green">1698</FONT>                    <a name="line.1698"></a>
<FONT color="green">1699</FONT>                    /** */<a name="line.1699"></a>
<FONT color="green">1700</FONT>                    PREPARESOUND_FILE_READ_ERROR(4),<a name="line.1700"></a>
<FONT color="green">1701</FONT>                    <a name="line.1701"></a>
<FONT color="green">1702</FONT>                    /** */<a name="line.1702"></a>
<FONT color="green">1703</FONT>                    PREPARESOUND_UNSUPPORTED_FILE_FORMAT(5),<a name="line.1703"></a>
<FONT color="green">1704</FONT>                    <a name="line.1704"></a>
<FONT color="green">1705</FONT>                    /** */<a name="line.1705"></a>
<FONT color="green">1706</FONT>                    PREPARESOUND_PLAYBACK_NOT_SUPPORTED(6);<a name="line.1706"></a>
<FONT color="green">1707</FONT>                    <a name="line.1707"></a>
<FONT color="green">1708</FONT>                    private static final Map&lt;Integer,PREPARESOUNDRESULT&gt; lookup = new HashMap&lt;Integer,PREPARESOUNDRESULT&gt;();<a name="line.1708"></a>
<FONT color="green">1709</FONT>                    <a name="line.1709"></a>
<FONT color="green">1710</FONT>                    static {<a name="line.1710"></a>
<FONT color="green">1711</FONT>                            for(PREPARESOUNDRESULT s : EnumSet.allOf(PREPARESOUNDRESULT.class))<a name="line.1711"></a>
<FONT color="green">1712</FONT>                                    lookup.put(s.getId(), s);<a name="line.1712"></a>
<FONT color="green">1713</FONT>                    }<a name="line.1713"></a>
<FONT color="green">1714</FONT>                    <a name="line.1714"></a>
<FONT color="green">1715</FONT>                    private final int id;<a name="line.1715"></a>
<FONT color="green">1716</FONT>                    <a name="line.1716"></a>
<FONT color="green">1717</FONT>                    private PREPARESOUNDRESULT(int value) {<a name="line.1717"></a>
<FONT color="green">1718</FONT>                            this.id = value;<a name="line.1718"></a>
<FONT color="green">1719</FONT>                    }<a name="line.1719"></a>
<FONT color="green">1720</FONT>                    <a name="line.1720"></a>
<FONT color="green">1721</FONT>                    public int getId() { return id; }<a name="line.1721"></a>
<FONT color="green">1722</FONT>                    <a name="line.1722"></a>
<FONT color="green">1723</FONT>                    public static PREPARESOUNDRESULT get(int code) {<a name="line.1723"></a>
<FONT color="green">1724</FONT>                            return lookup.get(code);<a name="line.1724"></a>
<FONT color="green">1725</FONT>                    }<a name="line.1725"></a>
<FONT color="green">1726</FONT>                    <a name="line.1726"></a>
<FONT color="green">1727</FONT>                    public static PREPARESOUNDRESULT fromString(String s) {<a name="line.1727"></a>
<FONT color="green">1728</FONT>                            for (PREPARESOUNDRESULT p : lookup.values()) {<a name="line.1728"></a>
<FONT color="green">1729</FONT>                                    if (p.toString() == s) {<a name="line.1729"></a>
<FONT color="green">1730</FONT>                                            return p;<a name="line.1730"></a>
<FONT color="green">1731</FONT>                                    }<a name="line.1731"></a>
<FONT color="green">1732</FONT>                            }<a name="line.1732"></a>
<FONT color="green">1733</FONT>                            return null;<a name="line.1733"></a>
<FONT color="green">1734</FONT>                    }<a name="line.1734"></a>
<FONT color="green">1735</FONT>            }<a name="line.1735"></a>
<FONT color="green">1736</FONT>            <a name="line.1736"></a>
<FONT color="green">1737</FONT>            /**<a name="line.1737"></a>
<FONT color="green">1738</FONT>             */<a name="line.1738"></a>
<FONT color="green">1739</FONT>            public enum AUDIODEVICE_CAPABILITIES {<a name="line.1739"></a>
<FONT color="green">1740</FONT>            <a name="line.1740"></a>
<FONT color="green">1741</FONT>                    /** */<a name="line.1741"></a>
<FONT color="green">1742</FONT>                    HAS_VIDEO_CAPTURE(1),<a name="line.1742"></a>
<FONT color="green">1743</FONT>                    <a name="line.1743"></a>
<FONT color="green">1744</FONT>                    /** */<a name="line.1744"></a>
<FONT color="green">1745</FONT>                    HAS_USB_INTERFACE(2),<a name="line.1745"></a>
<FONT color="green">1746</FONT>                    <a name="line.1746"></a>
<FONT color="green">1747</FONT>                    /** */<a name="line.1747"></a>
<FONT color="green">1748</FONT>                    POSSIBLY_HEADSET(4),<a name="line.1748"></a>
<FONT color="green">1749</FONT>                    <a name="line.1749"></a>
<FONT color="green">1750</FONT>                    /** */<a name="line.1750"></a>
<FONT color="green">1751</FONT>                    HAS_AUDIO_CAPTURE(8),<a name="line.1751"></a>
<FONT color="green">1752</FONT>                    <a name="line.1752"></a>
<FONT color="green">1753</FONT>                    /** */<a name="line.1753"></a>
<FONT color="green">1754</FONT>                    HAS_AUDIO_RENDERING(16),<a name="line.1754"></a>
<FONT color="green">1755</FONT>                    <a name="line.1755"></a>
<FONT color="green">1756</FONT>                    /** */<a name="line.1756"></a>
<FONT color="green">1757</FONT>                    HAS_LOWBANDWIDTH_CAPTURE(32),<a name="line.1757"></a>
<FONT color="green">1758</FONT>                    <a name="line.1758"></a>
<FONT color="green">1759</FONT>                    /** */<a name="line.1759"></a>
<FONT color="green">1760</FONT>                    IS_WEBCAM(64),<a name="line.1760"></a>
<FONT color="green">1761</FONT>                    <a name="line.1761"></a>
<FONT color="green">1762</FONT>                    /** */<a name="line.1762"></a>
<FONT color="green">1763</FONT>                    IS_HEADSET(128),<a name="line.1763"></a>
<FONT color="green">1764</FONT>                    <a name="line.1764"></a>
<FONT color="green">1765</FONT>                    /** */<a name="line.1765"></a>
<FONT color="green">1766</FONT>                    POSSIBLY_WEBCAM(256),<a name="line.1766"></a>
<FONT color="green">1767</FONT>                    <a name="line.1767"></a>
<FONT color="green">1768</FONT>                    /** */<a name="line.1768"></a>
<FONT color="green">1769</FONT>                    HAS_VIDEO_RENDERING(2048),<a name="line.1769"></a>
<FONT color="green">1770</FONT>                    <a name="line.1770"></a>
<FONT color="green">1771</FONT>                    /** */<a name="line.1771"></a>
<FONT color="green">1772</FONT>                    HAS_BLUETOOTH_INTERFACE(4096);<a name="line.1772"></a>
<FONT color="green">1773</FONT>                    <a name="line.1773"></a>
<FONT color="green">1774</FONT>                    private static final Map&lt;Integer,AUDIODEVICE_CAPABILITIES&gt; lookup = new HashMap&lt;Integer,AUDIODEVICE_CAPABILITIES&gt;();<a name="line.1774"></a>
<FONT color="green">1775</FONT>                    <a name="line.1775"></a>
<FONT color="green">1776</FONT>                    static {<a name="line.1776"></a>
<FONT color="green">1777</FONT>                            for(AUDIODEVICE_CAPABILITIES s : EnumSet.allOf(AUDIODEVICE_CAPABILITIES.class))<a name="line.1777"></a>
<FONT color="green">1778</FONT>                                    lookup.put(s.getId(), s);<a name="line.1778"></a>
<FONT color="green">1779</FONT>                    }<a name="line.1779"></a>
<FONT color="green">1780</FONT>                    <a name="line.1780"></a>
<FONT color="green">1781</FONT>                    private final int id;<a name="line.1781"></a>
<FONT color="green">1782</FONT>                    <a name="line.1782"></a>
<FONT color="green">1783</FONT>                    private AUDIODEVICE_CAPABILITIES(int value) {<a name="line.1783"></a>
<FONT color="green">1784</FONT>                            this.id = value;<a name="line.1784"></a>
<FONT color="green">1785</FONT>                    }<a name="line.1785"></a>
<FONT color="green">1786</FONT>                    <a name="line.1786"></a>
<FONT color="green">1787</FONT>                    public int getId() { return id; }<a name="line.1787"></a>
<FONT color="green">1788</FONT>                    <a name="line.1788"></a>
<FONT color="green">1789</FONT>                    public static AUDIODEVICE_CAPABILITIES get(int code) {<a name="line.1789"></a>
<FONT color="green">1790</FONT>                            return lookup.get(code);<a name="line.1790"></a>
<FONT color="green">1791</FONT>                    }<a name="line.1791"></a>
<FONT color="green">1792</FONT>                    <a name="line.1792"></a>
<FONT color="green">1793</FONT>                    public static AUDIODEVICE_CAPABILITIES fromString(String s) {<a name="line.1793"></a>
<FONT color="green">1794</FONT>                            for (AUDIODEVICE_CAPABILITIES p : lookup.values()) {<a name="line.1794"></a>
<FONT color="green">1795</FONT>                                    if (p.toString() == s) {<a name="line.1795"></a>
<FONT color="green">1796</FONT>                                            return p;<a name="line.1796"></a>
<FONT color="green">1797</FONT>                                    }<a name="line.1797"></a>
<FONT color="green">1798</FONT>                            }<a name="line.1798"></a>
<FONT color="green">1799</FONT>                            return null;<a name="line.1799"></a>
<FONT color="green">1800</FONT>                    }<a name="line.1800"></a>
<FONT color="green">1801</FONT>            }<a name="line.1801"></a>
<FONT color="green">1802</FONT>            <a name="line.1802"></a>
<FONT color="green">1803</FONT>            /**<a name="line.1803"></a>
<FONT color="green">1804</FONT>             *Takes audio data that comes from the sound argument and mixes it into playback or notification device, depending on the value passed in the useCallOutDevice argument. The sound argument contains the audio data in in follwing format: first 4 bytes of the binary contain the sample rate, followed by 16 bit (mono) samples. The soundid argument is an arbitrary ID that you can pass in and then later use as an argument for Skype class PlayStop method. To mix the audio into playback device stream, set useCallOutDevice to true, to mic it into notification stream, set useCallOutDevice to false. &lt;br&gt;<a name="line.1804"></a>
<FONT color="green">1805</FONT>             * @param soundid<a name="line.1805"></a>
<FONT color="green">1806</FONT>             * @param sound<a name="line.1806"></a>
<FONT color="green">1807</FONT>             * @param loop<a name="line.1807"></a>
<FONT color="green">1808</FONT>             * @param useCallOutDevice<a name="line.1808"></a>
<FONT color="green">1809</FONT>             */<a name="line.1809"></a>
<FONT color="green">1810</FONT>            public void PlayStart( int soundid, byte[] sound, boolean loop, boolean useCallOutDevice) {<a name="line.1810"></a>
<FONT color="green">1811</FONT>            <a name="line.1811"></a>
<FONT color="green">1812</FONT>                    Request request = null;<a name="line.1812"></a>
<FONT color="green">1813</FONT>                    try {<a name="line.1813"></a>
<FONT color="green">1814</FONT>                            request = new XCallRequest(0,48);<a name="line.1814"></a>
<FONT color="green">1815</FONT>                    } catch (IOException e) {<a name="line.1815"></a>
<FONT color="green">1816</FONT>                            e.printStackTrace();<a name="line.1816"></a>
<FONT color="green">1817</FONT>                            if (errorListener != null)<a name="line.1817"></a>
<FONT color="green">1818</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1818"></a>
<FONT color="green">1819</FONT>                    }<a name="line.1819"></a>
<FONT color="green">1820</FONT>                    request.addParm('u',1,soundid);<a name="line.1820"></a>
<FONT color="green">1821</FONT>                    request.addParm('B',2,sound);<a name="line.1821"></a>
<FONT color="green">1822</FONT>                    request.addParm('b',3,loop);<a name="line.1822"></a>
<FONT color="green">1823</FONT>                    request.addParm('b',4,useCallOutDevice);<a name="line.1823"></a>
<FONT color="green">1824</FONT>                    <a name="line.1824"></a>
<FONT color="green">1825</FONT>                    XCall((XCallRequest)request);<a name="line.1825"></a>
<FONT color="green">1826</FONT>            }<a name="line.1826"></a>
<FONT color="green">1827</FONT>            <a name="line.1827"></a>
<FONT color="green">1828</FONT>            /**<a name="line.1828"></a>
<FONT color="green">1829</FONT>             * @param soundid<a name="line.1829"></a>
<FONT color="green">1830</FONT>             * @param datafile<a name="line.1830"></a>
<FONT color="green">1831</FONT>             * @param loop<a name="line.1831"></a>
<FONT color="green">1832</FONT>             * @param useCallOutDevice<a name="line.1832"></a>
<FONT color="green">1833</FONT>             * @return result<a name="line.1833"></a>
<FONT color="green">1834</FONT>             */<a name="line.1834"></a>
<FONT color="green">1835</FONT>            public PREPARESOUNDRESULT PlayStartFromFile( int soundid, String datafile, boolean loop, boolean useCallOutDevice) {<a name="line.1835"></a>
<FONT color="green">1836</FONT>            <a name="line.1836"></a>
<FONT color="green">1837</FONT>                    Request request = null;<a name="line.1837"></a>
<FONT color="green">1838</FONT>                    try {<a name="line.1838"></a>
<FONT color="green">1839</FONT>                            request = new XCallRequest(0,212);<a name="line.1839"></a>
<FONT color="green">1840</FONT>                    } catch (IOException e) {<a name="line.1840"></a>
<FONT color="green">1841</FONT>                            e.printStackTrace();<a name="line.1841"></a>
<FONT color="green">1842</FONT>                            if (errorListener != null)<a name="line.1842"></a>
<FONT color="green">1843</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1843"></a>
<FONT color="green">1844</FONT>                    }<a name="line.1844"></a>
<FONT color="green">1845</FONT>                    request.addParm('u',1,soundid);<a name="line.1845"></a>
<FONT color="green">1846</FONT>                    request.addParm('f',2,datafile);<a name="line.1846"></a>
<FONT color="green">1847</FONT>                    request.addParm('b',3,loop);<a name="line.1847"></a>
<FONT color="green">1848</FONT>                    request.addParm('b',4,useCallOutDevice);<a name="line.1848"></a>
<FONT color="green">1849</FONT>                    <a name="line.1849"></a>
<FONT color="green">1850</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1850"></a>
<FONT color="green">1851</FONT>                    <a name="line.1851"></a>
<FONT color="green">1852</FONT>                    if (r.isErrCall())<a name="line.1852"></a>
<FONT color="green">1853</FONT>                            return null;<a name="line.1853"></a>
<FONT color="green">1854</FONT>                            <a name="line.1854"></a>
<FONT color="green">1855</FONT>                    PREPARESOUNDRESULT preparesoundresult = null;<a name="line.1855"></a>
<FONT color="green">1856</FONT>                    preparesoundresult = PREPARESOUNDRESULT.get(r.GetAsInt(1));<a name="line.1856"></a>
<FONT color="green">1857</FONT>                    return preparesoundresult;<a name="line.1857"></a>
<FONT color="green">1858</FONT>            }<a name="line.1858"></a>
<FONT color="green">1859</FONT>            <a name="line.1859"></a>
<FONT color="green">1860</FONT>            /**<a name="line.1860"></a>
<FONT color="green">1861</FONT>             *Stops playback of the soundfile. The argument is the same ID you passed in the Skype class StartPlayback method. &lt;br&gt;<a name="line.1861"></a>
<FONT color="green">1862</FONT>             * @param soundid<a name="line.1862"></a>
<FONT color="green">1863</FONT>             */<a name="line.1863"></a>
<FONT color="green">1864</FONT>            public void PlayStop( int soundid) {<a name="line.1864"></a>
<FONT color="green">1865</FONT>            <a name="line.1865"></a>
<FONT color="green">1866</FONT>                    Request request = null;<a name="line.1866"></a>
<FONT color="green">1867</FONT>                    try {<a name="line.1867"></a>
<FONT color="green">1868</FONT>                            request = new XCallRequest(0,49);<a name="line.1868"></a>
<FONT color="green">1869</FONT>                    } catch (IOException e) {<a name="line.1869"></a>
<FONT color="green">1870</FONT>                            e.printStackTrace();<a name="line.1870"></a>
<FONT color="green">1871</FONT>                            if (errorListener != null)<a name="line.1871"></a>
<FONT color="green">1872</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1872"></a>
<FONT color="green">1873</FONT>                    }<a name="line.1873"></a>
<FONT color="green">1874</FONT>                    request.addParm('u',1,soundid);<a name="line.1874"></a>
<FONT color="green">1875</FONT>                    <a name="line.1875"></a>
<FONT color="green">1876</FONT>                    XCall((XCallRequest)request);<a name="line.1876"></a>
<FONT color="green">1877</FONT>            }<a name="line.1877"></a>
<FONT color="green">1878</FONT>            <a name="line.1878"></a>
<FONT color="green">1879</FONT>            /**<a name="line.1879"></a>
<FONT color="green">1880</FONT>             * @param recordAndPlaybackData<a name="line.1880"></a>
<FONT color="green">1881</FONT>             */<a name="line.1881"></a>
<FONT color="green">1882</FONT>            public void StartRecordingTest( boolean recordAndPlaybackData) {<a name="line.1882"></a>
<FONT color="green">1883</FONT>            <a name="line.1883"></a>
<FONT color="green">1884</FONT>                    Request request = null;<a name="line.1884"></a>
<FONT color="green">1885</FONT>                    try {<a name="line.1885"></a>
<FONT color="green">1886</FONT>                            request = new XCallRequest(0,50);<a name="line.1886"></a>
<FONT color="green">1887</FONT>                    } catch (IOException e) {<a name="line.1887"></a>
<FONT color="green">1888</FONT>                            e.printStackTrace();<a name="line.1888"></a>
<FONT color="green">1889</FONT>                            if (errorListener != null)<a name="line.1889"></a>
<FONT color="green">1890</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1890"></a>
<FONT color="green">1891</FONT>                    }<a name="line.1891"></a>
<FONT color="green">1892</FONT>                    request.addParm('b',1,recordAndPlaybackData);<a name="line.1892"></a>
<FONT color="green">1893</FONT>                    <a name="line.1893"></a>
<FONT color="green">1894</FONT>                    XCall((XCallRequest)request);<a name="line.1894"></a>
<FONT color="green">1895</FONT>            }<a name="line.1895"></a>
<FONT color="green">1896</FONT>            <a name="line.1896"></a>
<FONT color="green">1897</FONT>            /**<a name="line.1897"></a>
<FONT color="green">1898</FONT>             */<a name="line.1898"></a>
<FONT color="green">1899</FONT>            public void StopRecordingTest() {<a name="line.1899"></a>
<FONT color="green">1900</FONT>            <a name="line.1900"></a>
<FONT color="green">1901</FONT>                    Request request = null;<a name="line.1901"></a>
<FONT color="green">1902</FONT>                    try {<a name="line.1902"></a>
<FONT color="green">1903</FONT>                            request = new XCallRequest(0,51);<a name="line.1903"></a>
<FONT color="green">1904</FONT>                    } catch (IOException e) {<a name="line.1904"></a>
<FONT color="green">1905</FONT>                            e.printStackTrace();<a name="line.1905"></a>
<FONT color="green">1906</FONT>                            if (errorListener != null)<a name="line.1906"></a>
<FONT color="green">1907</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1907"></a>
<FONT color="green">1908</FONT>                    }<a name="line.1908"></a>
<FONT color="green">1909</FONT>                    <a name="line.1909"></a>
<FONT color="green">1910</FONT>                    XCall((XCallRequest)request);<a name="line.1910"></a>
<FONT color="green">1911</FONT>            }<a name="line.1911"></a>
<FONT color="green">1912</FONT>            <a name="line.1912"></a>
<FONT color="green">1913</FONT>            /**<a name="line.1913"></a>
<FONT color="green">1914</FONT>             *This method returns a table in form of three string lists of equal lengths. The first list contains audio output device handles ('hw:0,0', 'hw:0,1', etc.) The second list contains descriptive names of those devices (Ensoniq AudioPCI etc.) The third list contains device product IDs. Note that the values in these lists depend on which audio engine you are running (SAL, PCM, RTP). &lt;br&gt;<a name="line.1914"></a>
<FONT color="green">1915</FONT>             * @return GetAvailableOutputDevicesResult<a name="line.1915"></a>
<FONT color="green">1916</FONT>             */<a name="line.1916"></a>
<FONT color="green">1917</FONT>            public GetAvailableOutputDevicesResult GetAvailableOutputDevices() {<a name="line.1917"></a>
<FONT color="green">1918</FONT>            <a name="line.1918"></a>
<FONT color="green">1919</FONT>                    Request request = null;<a name="line.1919"></a>
<FONT color="green">1920</FONT>                    try {<a name="line.1920"></a>
<FONT color="green">1921</FONT>                            request = new XCallRequest(0,53);<a name="line.1921"></a>
<FONT color="green">1922</FONT>                    } catch (IOException e) {<a name="line.1922"></a>
<FONT color="green">1923</FONT>                            e.printStackTrace();<a name="line.1923"></a>
<FONT color="green">1924</FONT>                            if (errorListener != null)<a name="line.1924"></a>
<FONT color="green">1925</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1925"></a>
<FONT color="green">1926</FONT>                    }<a name="line.1926"></a>
<FONT color="green">1927</FONT>                    <a name="line.1927"></a>
<FONT color="green">1928</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1928"></a>
<FONT color="green">1929</FONT>                    <a name="line.1929"></a>
<FONT color="green">1930</FONT>                    if (r.isErrCall())<a name="line.1930"></a>
<FONT color="green">1931</FONT>                            return null;<a name="line.1931"></a>
<FONT color="green">1932</FONT>                            <a name="line.1932"></a>
<FONT color="green">1933</FONT>                    GetAvailableOutputDevicesResult result = new GetAvailableOutputDevicesResult();<a name="line.1933"></a>
<FONT color="green">1934</FONT>                    <a name="line.1934"></a>
<FONT color="green">1935</FONT>                    Vector&lt;String&gt; handleList = new Vector&lt;String&gt;();<a name="line.1935"></a>
<FONT color="green">1936</FONT>                    while (r.HasMore(1))<a name="line.1936"></a>
<FONT color="green">1937</FONT>                    {<a name="line.1937"></a>
<FONT color="green">1938</FONT>                            String string = null;<a name="line.1938"></a>
<FONT color="green">1939</FONT>                            string  = r.GetAsString(1);<a name="line.1939"></a>
<FONT color="green">1940</FONT>                            handleList.add(string);<a name="line.1940"></a>
<FONT color="green">1941</FONT>                    }<a name="line.1941"></a>
<FONT color="green">1942</FONT>                    result.handleList = handleList.toArray(new String[handleList.size()]);<a name="line.1942"></a>
<FONT color="green">1943</FONT>                    <a name="line.1943"></a>
<FONT color="green">1944</FONT>                    Vector&lt;String&gt; nameList = new Vector&lt;String&gt;();<a name="line.1944"></a>
<FONT color="green">1945</FONT>                    while (r.HasMore(2))<a name="line.1945"></a>
<FONT color="green">1946</FONT>                    {<a name="line.1946"></a>
<FONT color="green">1947</FONT>                            String string = null;<a name="line.1947"></a>
<FONT color="green">1948</FONT>                            string  = r.GetAsString(2);<a name="line.1948"></a>
<FONT color="green">1949</FONT>                            nameList.add(string);<a name="line.1949"></a>
<FONT color="green">1950</FONT>                    }<a name="line.1950"></a>
<FONT color="green">1951</FONT>                    result.nameList = nameList.toArray(new String[nameList.size()]);<a name="line.1951"></a>
<FONT color="green">1952</FONT>                    <a name="line.1952"></a>
<FONT color="green">1953</FONT>                    Vector&lt;String&gt; productIdList = new Vector&lt;String&gt;();<a name="line.1953"></a>
<FONT color="green">1954</FONT>                    while (r.HasMore(3))<a name="line.1954"></a>
<FONT color="green">1955</FONT>                    {<a name="line.1955"></a>
<FONT color="green">1956</FONT>                            String string = null;<a name="line.1956"></a>
<FONT color="green">1957</FONT>                            string  = r.GetAsString(3);<a name="line.1957"></a>
<FONT color="green">1958</FONT>                            productIdList.add(string);<a name="line.1958"></a>
<FONT color="green">1959</FONT>                    }<a name="line.1959"></a>
<FONT color="green">1960</FONT>                    result.productIdList = productIdList.toArray(new String[productIdList.size()]);<a name="line.1960"></a>
<FONT color="green">1961</FONT>                    <a name="line.1961"></a>
<FONT color="green">1962</FONT>                    return result;<a name="line.1962"></a>
<FONT color="green">1963</FONT>            }<a name="line.1963"></a>
<FONT color="green">1964</FONT>            <a name="line.1964"></a>
<FONT color="green">1965</FONT>            public class GetAvailableOutputDevicesResult {<a name="line.1965"></a>
<FONT color="green">1966</FONT>                    public String [] handleList;<a name="line.1966"></a>
<FONT color="green">1967</FONT>                    public String [] nameList;<a name="line.1967"></a>
<FONT color="green">1968</FONT>                    public String [] productIdList;<a name="line.1968"></a>
<FONT color="green">1969</FONT>            }<a name="line.1969"></a>
<FONT color="green">1970</FONT>            <a name="line.1970"></a>
<FONT color="green">1971</FONT>            /**<a name="line.1971"></a>
<FONT color="green">1972</FONT>             *This method returns a table in form of three string lists of equal length. The first list contains audio recording device handles ('hw:0,0', 'hw:0,1', etc.) The second list contains descriptive names of those devices (Ensoniq AudioPCI etc.) The third list contains device product IDs. Note that the values in these lists depend on which audio engine you are running (SAL, PCM, RTP). &lt;br&gt;<a name="line.1972"></a>
<FONT color="green">1973</FONT>             * @return GetAvailableRecordingDevicesResult<a name="line.1973"></a>
<FONT color="green">1974</FONT>             */<a name="line.1974"></a>
<FONT color="green">1975</FONT>            public GetAvailableRecordingDevicesResult GetAvailableRecordingDevices() {<a name="line.1975"></a>
<FONT color="green">1976</FONT>            <a name="line.1976"></a>
<FONT color="green">1977</FONT>                    Request request = null;<a name="line.1977"></a>
<FONT color="green">1978</FONT>                    try {<a name="line.1978"></a>
<FONT color="green">1979</FONT>                            request = new XCallRequest(0,54);<a name="line.1979"></a>
<FONT color="green">1980</FONT>                    } catch (IOException e) {<a name="line.1980"></a>
<FONT color="green">1981</FONT>                            e.printStackTrace();<a name="line.1981"></a>
<FONT color="green">1982</FONT>                            if (errorListener != null)<a name="line.1982"></a>
<FONT color="green">1983</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.1983"></a>
<FONT color="green">1984</FONT>                    }<a name="line.1984"></a>
<FONT color="green">1985</FONT>                    <a name="line.1985"></a>
<FONT color="green">1986</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.1986"></a>
<FONT color="green">1987</FONT>                    <a name="line.1987"></a>
<FONT color="green">1988</FONT>                    if (r.isErrCall())<a name="line.1988"></a>
<FONT color="green">1989</FONT>                            return null;<a name="line.1989"></a>
<FONT color="green">1990</FONT>                            <a name="line.1990"></a>
<FONT color="green">1991</FONT>                    GetAvailableRecordingDevicesResult result = new GetAvailableRecordingDevicesResult();<a name="line.1991"></a>
<FONT color="green">1992</FONT>                    <a name="line.1992"></a>
<FONT color="green">1993</FONT>                    Vector&lt;String&gt; handleList = new Vector&lt;String&gt;();<a name="line.1993"></a>
<FONT color="green">1994</FONT>                    while (r.HasMore(1))<a name="line.1994"></a>
<FONT color="green">1995</FONT>                    {<a name="line.1995"></a>
<FONT color="green">1996</FONT>                            String string = null;<a name="line.1996"></a>
<FONT color="green">1997</FONT>                            string  = r.GetAsString(1);<a name="line.1997"></a>
<FONT color="green">1998</FONT>                            handleList.add(string);<a name="line.1998"></a>
<FONT color="green">1999</FONT>                    }<a name="line.1999"></a>
<FONT color="green">2000</FONT>                    result.handleList = handleList.toArray(new String[handleList.size()]);<a name="line.2000"></a>
<FONT color="green">2001</FONT>                    <a name="line.2001"></a>
<FONT color="green">2002</FONT>                    Vector&lt;String&gt; nameList = new Vector&lt;String&gt;();<a name="line.2002"></a>
<FONT color="green">2003</FONT>                    while (r.HasMore(2))<a name="line.2003"></a>
<FONT color="green">2004</FONT>                    {<a name="line.2004"></a>
<FONT color="green">2005</FONT>                            String string = null;<a name="line.2005"></a>
<FONT color="green">2006</FONT>                            string  = r.GetAsString(2);<a name="line.2006"></a>
<FONT color="green">2007</FONT>                            nameList.add(string);<a name="line.2007"></a>
<FONT color="green">2008</FONT>                    }<a name="line.2008"></a>
<FONT color="green">2009</FONT>                    result.nameList = nameList.toArray(new String[nameList.size()]);<a name="line.2009"></a>
<FONT color="green">2010</FONT>                    <a name="line.2010"></a>
<FONT color="green">2011</FONT>                    Vector&lt;String&gt; productIdList = new Vector&lt;String&gt;();<a name="line.2011"></a>
<FONT color="green">2012</FONT>                    while (r.HasMore(3))<a name="line.2012"></a>
<FONT color="green">2013</FONT>                    {<a name="line.2013"></a>
<FONT color="green">2014</FONT>                            String string = null;<a name="line.2014"></a>
<FONT color="green">2015</FONT>                            string  = r.GetAsString(3);<a name="line.2015"></a>
<FONT color="green">2016</FONT>                            productIdList.add(string);<a name="line.2016"></a>
<FONT color="green">2017</FONT>                    }<a name="line.2017"></a>
<FONT color="green">2018</FONT>                    result.productIdList = productIdList.toArray(new String[productIdList.size()]);<a name="line.2018"></a>
<FONT color="green">2019</FONT>                    <a name="line.2019"></a>
<FONT color="green">2020</FONT>                    return result;<a name="line.2020"></a>
<FONT color="green">2021</FONT>            }<a name="line.2021"></a>
<FONT color="green">2022</FONT>            <a name="line.2022"></a>
<FONT color="green">2023</FONT>            public class GetAvailableRecordingDevicesResult {<a name="line.2023"></a>
<FONT color="green">2024</FONT>                    public String [] handleList;<a name="line.2024"></a>
<FONT color="green">2025</FONT>                    public String [] nameList;<a name="line.2025"></a>
<FONT color="green">2026</FONT>                    public String [] productIdList;<a name="line.2026"></a>
<FONT color="green">2027</FONT>            }<a name="line.2027"></a>
<FONT color="green">2028</FONT>            <a name="line.2028"></a>
<FONT color="green">2029</FONT>            /**<a name="line.2029"></a>
<FONT color="green">2030</FONT>             *Sets audio devices given in arguments as active audio devices. This command selects all three devices - microphone, playback and the notification channel. Valid input values for this method come from the first string list you get back from Skype class GetAvailableOutputDevices (handleList). &lt;br&gt;<a name="line.2030"></a>
<FONT color="green">2031</FONT>             * @param callInDevice<a name="line.2031"></a>
<FONT color="green">2032</FONT>             * @param callOutDevice<a name="line.2032"></a>
<FONT color="green">2033</FONT>             * @param waveOutDevice<a name="line.2033"></a>
<FONT color="green">2034</FONT>             */<a name="line.2034"></a>
<FONT color="green">2035</FONT>            public void SelectSoundDevices( String callInDevice, String callOutDevice, String waveOutDevice) {<a name="line.2035"></a>
<FONT color="green">2036</FONT>            <a name="line.2036"></a>
<FONT color="green">2037</FONT>                    Request request = null;<a name="line.2037"></a>
<FONT color="green">2038</FONT>                    try {<a name="line.2038"></a>
<FONT color="green">2039</FONT>                            request = new XCallRequest(0,55);<a name="line.2039"></a>
<FONT color="green">2040</FONT>                    } catch (IOException e) {<a name="line.2040"></a>
<FONT color="green">2041</FONT>                            e.printStackTrace();<a name="line.2041"></a>
<FONT color="green">2042</FONT>                            if (errorListener != null)<a name="line.2042"></a>
<FONT color="green">2043</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2043"></a>
<FONT color="green">2044</FONT>                    }<a name="line.2044"></a>
<FONT color="green">2045</FONT>                    request.addParm('S',1,callInDevice);<a name="line.2045"></a>
<FONT color="green">2046</FONT>                    request.addParm('S',2,callOutDevice);<a name="line.2046"></a>
<FONT color="green">2047</FONT>                    request.addParm('S',3,waveOutDevice);<a name="line.2047"></a>
<FONT color="green">2048</FONT>                    <a name="line.2048"></a>
<FONT color="green">2049</FONT>                    XCall((XCallRequest)request);<a name="line.2049"></a>
<FONT color="green">2050</FONT>            }<a name="line.2050"></a>
<FONT color="green">2051</FONT>            <a name="line.2051"></a>
<FONT color="green">2052</FONT>            /**<a name="line.2052"></a>
<FONT color="green">2053</FONT>             *The uint argument returns AUDIODEVICE_CAPABILITIES (declared in Skype class) &lt;br&gt;<a name="line.2053"></a>
<FONT color="green">2054</FONT>             * @param deviceHandle<a name="line.2054"></a>
<FONT color="green">2055</FONT>             * @return GetAudioDeviceCapabilitiesResult<a name="line.2055"></a>
<FONT color="green">2056</FONT>             */<a name="line.2056"></a>
<FONT color="green">2057</FONT>            public GetAudioDeviceCapabilitiesResult GetAudioDeviceCapabilities( String deviceHandle) {<a name="line.2057"></a>
<FONT color="green">2058</FONT>            <a name="line.2058"></a>
<FONT color="green">2059</FONT>                    Request request = null;<a name="line.2059"></a>
<FONT color="green">2060</FONT>                    try {<a name="line.2060"></a>
<FONT color="green">2061</FONT>                            request = new XCallRequest(0,56);<a name="line.2061"></a>
<FONT color="green">2062</FONT>                    } catch (IOException e) {<a name="line.2062"></a>
<FONT color="green">2063</FONT>                            e.printStackTrace();<a name="line.2063"></a>
<FONT color="green">2064</FONT>                            if (errorListener != null)<a name="line.2064"></a>
<FONT color="green">2065</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2065"></a>
<FONT color="green">2066</FONT>                    }<a name="line.2066"></a>
<FONT color="green">2067</FONT>                    request.addParm('S',1,deviceHandle);<a name="line.2067"></a>
<FONT color="green">2068</FONT>                    <a name="line.2068"></a>
<FONT color="green">2069</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2069"></a>
<FONT color="green">2070</FONT>                    <a name="line.2070"></a>
<FONT color="green">2071</FONT>                    if (r.isErrCall())<a name="line.2071"></a>
<FONT color="green">2072</FONT>                            return null;<a name="line.2072"></a>
<FONT color="green">2073</FONT>                            <a name="line.2073"></a>
<FONT color="green">2074</FONT>                    GetAudioDeviceCapabilitiesResult result = new GetAudioDeviceCapabilitiesResult();<a name="line.2074"></a>
<FONT color="green">2075</FONT>                    <a name="line.2075"></a>
<FONT color="green">2076</FONT>                    String interfaceString = null;<a name="line.2076"></a>
<FONT color="green">2077</FONT>                    interfaceString = r.GetAsString(1);<a name="line.2077"></a>
<FONT color="green">2078</FONT>                    result.interfaceString = interfaceString;<a name="line.2078"></a>
<FONT color="green">2079</FONT>                    <a name="line.2079"></a>
<FONT color="green">2080</FONT>                    int capabilities = 0;<a name="line.2080"></a>
<FONT color="green">2081</FONT>                    capabilities = r.GetAsInt(2);<a name="line.2081"></a>
<FONT color="green">2082</FONT>                    result.capabilities = capabilities;<a name="line.2082"></a>
<FONT color="green">2083</FONT>                    <a name="line.2083"></a>
<FONT color="green">2084</FONT>                    return result;<a name="line.2084"></a>
<FONT color="green">2085</FONT>            }<a name="line.2085"></a>
<FONT color="green">2086</FONT>            <a name="line.2086"></a>
<FONT color="green">2087</FONT>            public class GetAudioDeviceCapabilitiesResult {<a name="line.2087"></a>
<FONT color="green">2088</FONT>                    public String interfaceString;<a name="line.2088"></a>
<FONT color="green">2089</FONT>                    public int capabilities; /** bit set of AUDIODEVICE_CAPABILITIES */<a name="line.2089"></a>
<FONT color="green">2090</FONT>            }<a name="line.2090"></a>
<FONT color="green">2091</FONT>            <a name="line.2091"></a>
<FONT color="green">2092</FONT>            /**<a name="line.2092"></a>
<FONT color="green">2093</FONT>             *Returns current audio stream volume for both playback and microphone streams. Useful for displaying visual audio indicators in you UI. See also Skype class OnNrgLevelsChange callback that gets fired each time the these values are changed. &lt;br&gt;<a name="line.2093"></a>
<FONT color="green">2094</FONT>             * @return GetNrgLevelsResult<a name="line.2094"></a>
<FONT color="green">2095</FONT>             */<a name="line.2095"></a>
<FONT color="green">2096</FONT>            public GetNrgLevelsResult GetNrgLevels() {<a name="line.2096"></a>
<FONT color="green">2097</FONT>            <a name="line.2097"></a>
<FONT color="green">2098</FONT>                    Request request = null;<a name="line.2098"></a>
<FONT color="green">2099</FONT>                    try {<a name="line.2099"></a>
<FONT color="green">2100</FONT>                            request = new XCallRequest(0,57);<a name="line.2100"></a>
<FONT color="green">2101</FONT>                    } catch (IOException e) {<a name="line.2101"></a>
<FONT color="green">2102</FONT>                            e.printStackTrace();<a name="line.2102"></a>
<FONT color="green">2103</FONT>                            if (errorListener != null)<a name="line.2103"></a>
<FONT color="green">2104</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2104"></a>
<FONT color="green">2105</FONT>                    }<a name="line.2105"></a>
<FONT color="green">2106</FONT>                    <a name="line.2106"></a>
<FONT color="green">2107</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2107"></a>
<FONT color="green">2108</FONT>                    <a name="line.2108"></a>
<FONT color="green">2109</FONT>                    if (r.isErrCall())<a name="line.2109"></a>
<FONT color="green">2110</FONT>                            return null;<a name="line.2110"></a>
<FONT color="green">2111</FONT>                            <a name="line.2111"></a>
<FONT color="green">2112</FONT>                    GetNrgLevelsResult result = new GetNrgLevelsResult();<a name="line.2112"></a>
<FONT color="green">2113</FONT>                    <a name="line.2113"></a>
<FONT color="green">2114</FONT>                    int micLevel = 0;<a name="line.2114"></a>
<FONT color="green">2115</FONT>                    micLevel = r.GetAsInt(1);<a name="line.2115"></a>
<FONT color="green">2116</FONT>                    result.micLevel = micLevel;<a name="line.2116"></a>
<FONT color="green">2117</FONT>                    <a name="line.2117"></a>
<FONT color="green">2118</FONT>                    int speakerLevel = 0;<a name="line.2118"></a>
<FONT color="green">2119</FONT>                    speakerLevel = r.GetAsInt(2);<a name="line.2119"></a>
<FONT color="green">2120</FONT>                    result.speakerLevel = speakerLevel;<a name="line.2120"></a>
<FONT color="green">2121</FONT>                    <a name="line.2121"></a>
<FONT color="green">2122</FONT>                    return result;<a name="line.2122"></a>
<FONT color="green">2123</FONT>            }<a name="line.2123"></a>
<FONT color="green">2124</FONT>            <a name="line.2124"></a>
<FONT color="green">2125</FONT>            public class GetNrgLevelsResult {<a name="line.2125"></a>
<FONT color="green">2126</FONT>                    public int micLevel;<a name="line.2126"></a>
<FONT color="green">2127</FONT>                    public int speakerLevel;<a name="line.2127"></a>
<FONT color="green">2128</FONT>            }<a name="line.2128"></a>
<FONT color="green">2129</FONT>            <a name="line.2129"></a>
<FONT color="green">2130</FONT>            /**<a name="line.2130"></a>
<FONT color="green">2131</FONT>             *NB! This command only works if its implemented in external audiohost (RTP or PCM host). The command can be is used for passing custom commands from client UI to the audio implementation. &lt;br&gt;<a name="line.2131"></a>
<FONT color="green">2132</FONT>             * @param command<a name="line.2132"></a>
<FONT color="green">2133</FONT>             * @return response<a name="line.2133"></a>
<FONT color="green">2134</FONT>             */<a name="line.2134"></a>
<FONT color="green">2135</FONT>            public String VoiceCommand( String command) {<a name="line.2135"></a>
<FONT color="green">2136</FONT>            <a name="line.2136"></a>
<FONT color="green">2137</FONT>                    Request request = null;<a name="line.2137"></a>
<FONT color="green">2138</FONT>                    try {<a name="line.2138"></a>
<FONT color="green">2139</FONT>                            request = new XCallRequest(0,58);<a name="line.2139"></a>
<FONT color="green">2140</FONT>                    } catch (IOException e) {<a name="line.2140"></a>
<FONT color="green">2141</FONT>                            e.printStackTrace();<a name="line.2141"></a>
<FONT color="green">2142</FONT>                            if (errorListener != null)<a name="line.2142"></a>
<FONT color="green">2143</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2143"></a>
<FONT color="green">2144</FONT>                    }<a name="line.2144"></a>
<FONT color="green">2145</FONT>                    request.addParm('S',1,command);<a name="line.2145"></a>
<FONT color="green">2146</FONT>                    <a name="line.2146"></a>
<FONT color="green">2147</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2147"></a>
<FONT color="green">2148</FONT>                    <a name="line.2148"></a>
<FONT color="green">2149</FONT>                    if (r.isErrCall())<a name="line.2149"></a>
<FONT color="green">2150</FONT>                            return null;<a name="line.2150"></a>
<FONT color="green">2151</FONT>                            <a name="line.2151"></a>
<FONT color="green">2152</FONT>                    String response = null;<a name="line.2152"></a>
<FONT color="green">2153</FONT>                    response = r.GetAsString(1);<a name="line.2153"></a>
<FONT color="green">2154</FONT>                    return response;<a name="line.2154"></a>
<FONT color="green">2155</FONT>            }<a name="line.2155"></a>
<FONT color="green">2156</FONT>            <a name="line.2156"></a>
<FONT color="green">2157</FONT>            /**<a name="line.2157"></a>
<FONT color="green">2158</FONT>             *Returns value of audio playback volume setting (0..100). &lt;br&gt;<a name="line.2158"></a>
<FONT color="green">2159</FONT>             * @return volume<a name="line.2159"></a>
<FONT color="green">2160</FONT>             */<a name="line.2160"></a>
<FONT color="green">2161</FONT>            public int GetSpeakerVolume() {<a name="line.2161"></a>
<FONT color="green">2162</FONT>            <a name="line.2162"></a>
<FONT color="green">2163</FONT>                    Request request = null;<a name="line.2163"></a>
<FONT color="green">2164</FONT>                    try {<a name="line.2164"></a>
<FONT color="green">2165</FONT>                            request = new XCallRequest(0,60);<a name="line.2165"></a>
<FONT color="green">2166</FONT>                    } catch (IOException e) {<a name="line.2166"></a>
<FONT color="green">2167</FONT>                            e.printStackTrace();<a name="line.2167"></a>
<FONT color="green">2168</FONT>                            if (errorListener != null)<a name="line.2168"></a>
<FONT color="green">2169</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2169"></a>
<FONT color="green">2170</FONT>                    }<a name="line.2170"></a>
<FONT color="green">2171</FONT>                    <a name="line.2171"></a>
<FONT color="green">2172</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2172"></a>
<FONT color="green">2173</FONT>                    <a name="line.2173"></a>
<FONT color="green">2174</FONT>                    if (r.isErrCall())<a name="line.2174"></a>
<FONT color="green">2175</FONT>                            return 0;<a name="line.2175"></a>
<FONT color="green">2176</FONT>                            <a name="line.2176"></a>
<FONT color="green">2177</FONT>                    int volume = 0;<a name="line.2177"></a>
<FONT color="green">2178</FONT>                    volume = r.GetAsInt(1);<a name="line.2178"></a>
<FONT color="green">2179</FONT>                    return volume;<a name="line.2179"></a>
<FONT color="green">2180</FONT>            }<a name="line.2180"></a>
<FONT color="green">2181</FONT>            <a name="line.2181"></a>
<FONT color="green">2182</FONT>            /**<a name="line.2182"></a>
<FONT color="green">2183</FONT>             *This method is for setting speaker volume. It will set the level for Skype digital gain control. Skype audio library will not control gain of audio device itself. &lt;br&gt;<a name="line.2183"></a>
<FONT color="green">2184</FONT>             * @param volume<a name="line.2184"></a>
<FONT color="green">2185</FONT>             */<a name="line.2185"></a>
<FONT color="green">2186</FONT>            public void SetSpeakerVolume( int volume) {<a name="line.2186"></a>
<FONT color="green">2187</FONT>            <a name="line.2187"></a>
<FONT color="green">2188</FONT>                    Request request = null;<a name="line.2188"></a>
<FONT color="green">2189</FONT>                    try {<a name="line.2189"></a>
<FONT color="green">2190</FONT>                            request = new XCallRequest(0,61);<a name="line.2190"></a>
<FONT color="green">2191</FONT>                    } catch (IOException e) {<a name="line.2191"></a>
<FONT color="green">2192</FONT>                            e.printStackTrace();<a name="line.2192"></a>
<FONT color="green">2193</FONT>                            if (errorListener != null)<a name="line.2193"></a>
<FONT color="green">2194</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2194"></a>
<FONT color="green">2195</FONT>                    }<a name="line.2195"></a>
<FONT color="green">2196</FONT>                    request.addParm('u',1,volume);<a name="line.2196"></a>
<FONT color="green">2197</FONT>                    <a name="line.2197"></a>
<FONT color="green">2198</FONT>                    XCall((XCallRequest)request);<a name="line.2198"></a>
<FONT color="green">2199</FONT>            }<a name="line.2199"></a>
<FONT color="green">2200</FONT>            <a name="line.2200"></a>
<FONT color="green">2201</FONT>            /**<a name="line.2201"></a>
<FONT color="green">2202</FONT>             *Returns value of microphone volume setting (0..100). It will return the analog gain of audio device set by Skype AGC. For real-time microphone volume, use GetNrgLevels method or OnNrgLevelsChange callback (both are methods of Skype class). &lt;br&gt;<a name="line.2202"></a>
<FONT color="green">2203</FONT>             * @return micVolume<a name="line.2203"></a>
<FONT color="green">2204</FONT>             */<a name="line.2204"></a>
<FONT color="green">2205</FONT>            public int GetMicVolume() {<a name="line.2205"></a>
<FONT color="green">2206</FONT>            <a name="line.2206"></a>
<FONT color="green">2207</FONT>                    Request request = null;<a name="line.2207"></a>
<FONT color="green">2208</FONT>                    try {<a name="line.2208"></a>
<FONT color="green">2209</FONT>                            request = new XCallRequest(0,62);<a name="line.2209"></a>
<FONT color="green">2210</FONT>                    } catch (IOException e) {<a name="line.2210"></a>
<FONT color="green">2211</FONT>                            e.printStackTrace();<a name="line.2211"></a>
<FONT color="green">2212</FONT>                            if (errorListener != null)<a name="line.2212"></a>
<FONT color="green">2213</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2213"></a>
<FONT color="green">2214</FONT>                    }<a name="line.2214"></a>
<FONT color="green">2215</FONT>                    <a name="line.2215"></a>
<FONT color="green">2216</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2216"></a>
<FONT color="green">2217</FONT>                    <a name="line.2217"></a>
<FONT color="green">2218</FONT>                    if (r.isErrCall())<a name="line.2218"></a>
<FONT color="green">2219</FONT>                            return 0;<a name="line.2219"></a>
<FONT color="green">2220</FONT>                            <a name="line.2220"></a>
<FONT color="green">2221</FONT>                    int micVolume = 0;<a name="line.2221"></a>
<FONT color="green">2222</FONT>                    micVolume = r.GetAsInt(1);<a name="line.2222"></a>
<FONT color="green">2223</FONT>                    return micVolume;<a name="line.2223"></a>
<FONT color="green">2224</FONT>            }<a name="line.2224"></a>
<FONT color="green">2225</FONT>            <a name="line.2225"></a>
<FONT color="green">2226</FONT>            /**<a name="line.2226"></a>
<FONT color="green">2227</FONT>             *This method is for setting the microphone volume level. This does not work when Skype AGC (Automatic Gain Control) is enabled, which it is by default. It is currently impossible to disable AGC, so for now this method is here for purpose of future compatibility. &lt;br&gt;<a name="line.2227"></a>
<FONT color="green">2228</FONT>             * @param volume<a name="line.2228"></a>
<FONT color="green">2229</FONT>             */<a name="line.2229"></a>
<FONT color="green">2230</FONT>            public void SetMicVolume( int volume) {<a name="line.2230"></a>
<FONT color="green">2231</FONT>            <a name="line.2231"></a>
<FONT color="green">2232</FONT>                    Request request = null;<a name="line.2232"></a>
<FONT color="green">2233</FONT>                    try {<a name="line.2233"></a>
<FONT color="green">2234</FONT>                            request = new XCallRequest(0,63);<a name="line.2234"></a>
<FONT color="green">2235</FONT>                    } catch (IOException e) {<a name="line.2235"></a>
<FONT color="green">2236</FONT>                            e.printStackTrace();<a name="line.2236"></a>
<FONT color="green">2237</FONT>                            if (errorListener != null)<a name="line.2237"></a>
<FONT color="green">2238</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2238"></a>
<FONT color="green">2239</FONT>                    }<a name="line.2239"></a>
<FONT color="green">2240</FONT>                    request.addParm('u',1,volume);<a name="line.2240"></a>
<FONT color="green">2241</FONT>                    <a name="line.2241"></a>
<FONT color="green">2242</FONT>                    XCall((XCallRequest)request);<a name="line.2242"></a>
<FONT color="green">2243</FONT>            }<a name="line.2243"></a>
<FONT color="green">2244</FONT>            <a name="line.2244"></a>
<FONT color="green">2245</FONT>            /**<a name="line.2245"></a>
<FONT color="green">2246</FONT>             *Returns true in &amp;muted argument if the currently selected playback device is muted. &lt;br&gt;<a name="line.2246"></a>
<FONT color="green">2247</FONT>             * @return muted<a name="line.2247"></a>
<FONT color="green">2248</FONT>             */<a name="line.2248"></a>
<FONT color="green">2249</FONT>            public boolean IsSpeakerMuted() {<a name="line.2249"></a>
<FONT color="green">2250</FONT>            <a name="line.2250"></a>
<FONT color="green">2251</FONT>                    Request request = null;<a name="line.2251"></a>
<FONT color="green">2252</FONT>                    try {<a name="line.2252"></a>
<FONT color="green">2253</FONT>                            request = new XCallRequest(0,64);<a name="line.2253"></a>
<FONT color="green">2254</FONT>                    } catch (IOException e) {<a name="line.2254"></a>
<FONT color="green">2255</FONT>                            e.printStackTrace();<a name="line.2255"></a>
<FONT color="green">2256</FONT>                            if (errorListener != null)<a name="line.2256"></a>
<FONT color="green">2257</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2257"></a>
<FONT color="green">2258</FONT>                    }<a name="line.2258"></a>
<FONT color="green">2259</FONT>                    <a name="line.2259"></a>
<FONT color="green">2260</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2260"></a>
<FONT color="green">2261</FONT>                    <a name="line.2261"></a>
<FONT color="green">2262</FONT>                    if (r.isErrCall())<a name="line.2262"></a>
<FONT color="green">2263</FONT>                            return false;<a name="line.2263"></a>
<FONT color="green">2264</FONT>                            <a name="line.2264"></a>
<FONT color="green">2265</FONT>                    boolean muted = false;<a name="line.2265"></a>
<FONT color="green">2266</FONT>                    muted = r.GetAsBoolean(1);<a name="line.2266"></a>
<FONT color="green">2267</FONT>                    return muted;<a name="line.2267"></a>
<FONT color="green">2268</FONT>            }<a name="line.2268"></a>
<FONT color="green">2269</FONT>            <a name="line.2269"></a>
<FONT color="green">2270</FONT>            /**<a name="line.2270"></a>
<FONT color="green">2271</FONT>             *Returns true in &amp;muted argument if the currently selected microphone is muted. &lt;br&gt;<a name="line.2271"></a>
<FONT color="green">2272</FONT>             * @return muted<a name="line.2272"></a>
<FONT color="green">2273</FONT>             */<a name="line.2273"></a>
<FONT color="green">2274</FONT>            public boolean IsMicrophoneMuted() {<a name="line.2274"></a>
<FONT color="green">2275</FONT>            <a name="line.2275"></a>
<FONT color="green">2276</FONT>                    Request request = null;<a name="line.2276"></a>
<FONT color="green">2277</FONT>                    try {<a name="line.2277"></a>
<FONT color="green">2278</FONT>                            request = new XCallRequest(0,65);<a name="line.2278"></a>
<FONT color="green">2279</FONT>                    } catch (IOException e) {<a name="line.2279"></a>
<FONT color="green">2280</FONT>                            e.printStackTrace();<a name="line.2280"></a>
<FONT color="green">2281</FONT>                            if (errorListener != null)<a name="line.2281"></a>
<FONT color="green">2282</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2282"></a>
<FONT color="green">2283</FONT>                    }<a name="line.2283"></a>
<FONT color="green">2284</FONT>                    <a name="line.2284"></a>
<FONT color="green">2285</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2285"></a>
<FONT color="green">2286</FONT>                    <a name="line.2286"></a>
<FONT color="green">2287</FONT>                    if (r.isErrCall())<a name="line.2287"></a>
<FONT color="green">2288</FONT>                            return false;<a name="line.2288"></a>
<FONT color="green">2289</FONT>                            <a name="line.2289"></a>
<FONT color="green">2290</FONT>                    boolean muted = false;<a name="line.2290"></a>
<FONT color="green">2291</FONT>                    muted = r.GetAsBoolean(1);<a name="line.2291"></a>
<FONT color="green">2292</FONT>                    return muted;<a name="line.2292"></a>
<FONT color="green">2293</FONT>            }<a name="line.2293"></a>
<FONT color="green">2294</FONT>            <a name="line.2294"></a>
<FONT color="green">2295</FONT>            /**<a name="line.2295"></a>
<FONT color="green">2296</FONT>             *Sets currently selected playback device mute status according to argument. &lt;br&gt;<a name="line.2296"></a>
<FONT color="green">2297</FONT>             * @param mute<a name="line.2297"></a>
<FONT color="green">2298</FONT>             */<a name="line.2298"></a>
<FONT color="green">2299</FONT>            public void MuteSpeakers( boolean mute) {<a name="line.2299"></a>
<FONT color="green">2300</FONT>            <a name="line.2300"></a>
<FONT color="green">2301</FONT>                    Request request = null;<a name="line.2301"></a>
<FONT color="green">2302</FONT>                    try {<a name="line.2302"></a>
<FONT color="green">2303</FONT>                            request = new XCallRequest(0,66);<a name="line.2303"></a>
<FONT color="green">2304</FONT>                    } catch (IOException e) {<a name="line.2304"></a>
<FONT color="green">2305</FONT>                            e.printStackTrace();<a name="line.2305"></a>
<FONT color="green">2306</FONT>                            if (errorListener != null)<a name="line.2306"></a>
<FONT color="green">2307</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2307"></a>
<FONT color="green">2308</FONT>                    }<a name="line.2308"></a>
<FONT color="green">2309</FONT>                    request.addParm('b',1,mute);<a name="line.2309"></a>
<FONT color="green">2310</FONT>                    <a name="line.2310"></a>
<FONT color="green">2311</FONT>                    XCall((XCallRequest)request);<a name="line.2311"></a>
<FONT color="green">2312</FONT>            }<a name="line.2312"></a>
<FONT color="green">2313</FONT>            <a name="line.2313"></a>
<FONT color="green">2314</FONT>            /**<a name="line.2314"></a>
<FONT color="green">2315</FONT>             *Sets currently selected microphone mute status according to argument. &lt;br&gt;<a name="line.2315"></a>
<FONT color="green">2316</FONT>             * @param mute<a name="line.2316"></a>
<FONT color="green">2317</FONT>             */<a name="line.2317"></a>
<FONT color="green">2318</FONT>            public void MuteMicrophone( boolean mute) {<a name="line.2318"></a>
<FONT color="green">2319</FONT>            <a name="line.2319"></a>
<FONT color="green">2320</FONT>                    Request request = null;<a name="line.2320"></a>
<FONT color="green">2321</FONT>                    try {<a name="line.2321"></a>
<FONT color="green">2322</FONT>                            request = new XCallRequest(0,67);<a name="line.2322"></a>
<FONT color="green">2323</FONT>                    } catch (IOException e) {<a name="line.2323"></a>
<FONT color="green">2324</FONT>                            e.printStackTrace();<a name="line.2324"></a>
<FONT color="green">2325</FONT>                            if (errorListener != null)<a name="line.2325"></a>
<FONT color="green">2326</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2326"></a>
<FONT color="green">2327</FONT>                    }<a name="line.2327"></a>
<FONT color="green">2328</FONT>                    request.addParm('b',1,mute);<a name="line.2328"></a>
<FONT color="green">2329</FONT>                    <a name="line.2329"></a>
<FONT color="green">2330</FONT>                    XCall((XCallRequest)request);<a name="line.2330"></a>
<FONT color="green">2331</FONT>            }<a name="line.2331"></a>
<FONT color="green">2332</FONT>            <a name="line.2332"></a>
<FONT color="green">2333</FONT>            /**<a name="line.2333"></a>
<FONT color="green">2334</FONT>             */<a name="line.2334"></a>
<FONT color="green">2335</FONT>            public enum OPERATING_MEDIA {<a name="line.2335"></a>
<FONT color="green">2336</FONT>            <a name="line.2336"></a>
<FONT color="green">2337</FONT>                    /** */<a name="line.2337"></a>
<FONT color="green">2338</FONT>                    OM_UNKNOWN(0),<a name="line.2338"></a>
<FONT color="green">2339</FONT>                    <a name="line.2339"></a>
<FONT color="green">2340</FONT>                    /** */<a name="line.2340"></a>
<FONT color="green">2341</FONT>                    OM_FREE(1),<a name="line.2341"></a>
<FONT color="green">2342</FONT>                    <a name="line.2342"></a>
<FONT color="green">2343</FONT>                    /** */<a name="line.2343"></a>
<FONT color="green">2344</FONT>                    OM_FREE_WIRELESS(2),<a name="line.2344"></a>
<FONT color="green">2345</FONT>                    <a name="line.2345"></a>
<FONT color="green">2346</FONT>                    /** */<a name="line.2346"></a>
<FONT color="green">2347</FONT>                    OM_3G(3),<a name="line.2347"></a>
<FONT color="green">2348</FONT>                    <a name="line.2348"></a>
<FONT color="green">2349</FONT>                    /** */<a name="line.2349"></a>
<FONT color="green">2350</FONT>                    OM_4G(4);<a name="line.2350"></a>
<FONT color="green">2351</FONT>                    <a name="line.2351"></a>
<FONT color="green">2352</FONT>                    private static final Map&lt;Integer,OPERATING_MEDIA&gt; lookup = new HashMap&lt;Integer,OPERATING_MEDIA&gt;();<a name="line.2352"></a>
<FONT color="green">2353</FONT>                    <a name="line.2353"></a>
<FONT color="green">2354</FONT>                    static {<a name="line.2354"></a>
<FONT color="green">2355</FONT>                            for(OPERATING_MEDIA s : EnumSet.allOf(OPERATING_MEDIA.class))<a name="line.2355"></a>
<FONT color="green">2356</FONT>                                    lookup.put(s.getId(), s);<a name="line.2356"></a>
<FONT color="green">2357</FONT>                    }<a name="line.2357"></a>
<FONT color="green">2358</FONT>                    <a name="line.2358"></a>
<FONT color="green">2359</FONT>                    private final int id;<a name="line.2359"></a>
<FONT color="green">2360</FONT>                    <a name="line.2360"></a>
<FONT color="green">2361</FONT>                    private OPERATING_MEDIA(int value) {<a name="line.2361"></a>
<FONT color="green">2362</FONT>                            this.id = value;<a name="line.2362"></a>
<FONT color="green">2363</FONT>                    }<a name="line.2363"></a>
<FONT color="green">2364</FONT>                    <a name="line.2364"></a>
<FONT color="green">2365</FONT>                    public int getId() { return id; }<a name="line.2365"></a>
<FONT color="green">2366</FONT>                    <a name="line.2366"></a>
<FONT color="green">2367</FONT>                    public static OPERATING_MEDIA get(int code) {<a name="line.2367"></a>
<FONT color="green">2368</FONT>                            return lookup.get(code);<a name="line.2368"></a>
<FONT color="green">2369</FONT>                    }<a name="line.2369"></a>
<FONT color="green">2370</FONT>                    <a name="line.2370"></a>
<FONT color="green">2371</FONT>                    public static OPERATING_MEDIA fromString(String s) {<a name="line.2371"></a>
<FONT color="green">2372</FONT>                            for (OPERATING_MEDIA p : lookup.values()) {<a name="line.2372"></a>
<FONT color="green">2373</FONT>                                    if (p.toString() == s) {<a name="line.2373"></a>
<FONT color="green">2374</FONT>                                            return p;<a name="line.2374"></a>
<FONT color="green">2375</FONT>                                    }<a name="line.2375"></a>
<FONT color="green">2376</FONT>                            }<a name="line.2376"></a>
<FONT color="green">2377</FONT>                            return null;<a name="line.2377"></a>
<FONT color="green">2378</FONT>                    }<a name="line.2378"></a>
<FONT color="green">2379</FONT>            }<a name="line.2379"></a>
<FONT color="green">2380</FONT>            <a name="line.2380"></a>
<FONT color="green">2381</FONT>            /**<a name="line.2381"></a>
<FONT color="green">2382</FONT>             * @param media<a name="line.2382"></a>
<FONT color="green">2383</FONT>             * @param maxUplinkBps<a name="line.2383"></a>
<FONT color="green">2384</FONT>             * @param maxDownlinkBps<a name="line.2384"></a>
<FONT color="green">2385</FONT>             */<a name="line.2385"></a>
<FONT color="green">2386</FONT>            public void SetOperatingMedia( OPERATING_MEDIA media, int maxUplinkBps, int maxDownlinkBps) {<a name="line.2386"></a>
<FONT color="green">2387</FONT>            <a name="line.2387"></a>
<FONT color="green">2388</FONT>                    Request request = null;<a name="line.2388"></a>
<FONT color="green">2389</FONT>                    try {<a name="line.2389"></a>
<FONT color="green">2390</FONT>                            request = new XCallRequest(0,255);<a name="line.2390"></a>
<FONT color="green">2391</FONT>                    } catch (IOException e) {<a name="line.2391"></a>
<FONT color="green">2392</FONT>                            e.printStackTrace();<a name="line.2392"></a>
<FONT color="green">2393</FONT>                            if (errorListener != null)<a name="line.2393"></a>
<FONT color="green">2394</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2394"></a>
<FONT color="green">2395</FONT>                    }<a name="line.2395"></a>
<FONT color="green">2396</FONT>                    request.addParm('e',1,media.getId());<a name="line.2396"></a>
<FONT color="green">2397</FONT>                    request.addParm('u',2,maxUplinkBps);<a name="line.2397"></a>
<FONT color="green">2398</FONT>                    request.addParm('u',3,maxDownlinkBps);<a name="line.2398"></a>
<FONT color="green">2399</FONT>                    <a name="line.2399"></a>
<FONT color="green">2400</FONT>                    XCall((XCallRequest)request);<a name="line.2400"></a>
<FONT color="green">2401</FONT>            }<a name="line.2401"></a>
<FONT color="green">2402</FONT>            <a name="line.2402"></a>
<FONT color="green">2403</FONT>            /**<a name="line.2403"></a>
<FONT color="green">2404</FONT>             *creates an CONFIRMATION_CODE_REQUEST SMS message<a name="line.2404"></a>
<FONT color="green">2405</FONT>             * @param type<a name="line.2405"></a>
<FONT color="green">2406</FONT>             * @param number<a name="line.2406"></a>
<FONT color="green">2407</FONT>             * @return sms<a name="line.2407"></a>
<FONT color="green">2408</FONT>             */<a name="line.2408"></a>
<FONT color="green">2409</FONT>            public Sms RequestConfirmationCode( Sms.CONFIRM_TYPE type, String number) {<a name="line.2409"></a>
<FONT color="green">2410</FONT>            <a name="line.2410"></a>
<FONT color="green">2411</FONT>                    Request request = null;<a name="line.2411"></a>
<FONT color="green">2412</FONT>                    try {<a name="line.2412"></a>
<FONT color="green">2413</FONT>                            request = new XCallRequest(0,29);<a name="line.2413"></a>
<FONT color="green">2414</FONT>                    } catch (IOException e) {<a name="line.2414"></a>
<FONT color="green">2415</FONT>                            e.printStackTrace();<a name="line.2415"></a>
<FONT color="green">2416</FONT>                            if (errorListener != null)<a name="line.2416"></a>
<FONT color="green">2417</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2417"></a>
<FONT color="green">2418</FONT>                    }<a name="line.2418"></a>
<FONT color="green">2419</FONT>                    request.addParm('e',1,type.getId());<a name="line.2419"></a>
<FONT color="green">2420</FONT>                    request.addParm('S',2,number);<a name="line.2420"></a>
<FONT color="green">2421</FONT>                    <a name="line.2421"></a>
<FONT color="green">2422</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2422"></a>
<FONT color="green">2423</FONT>                    <a name="line.2423"></a>
<FONT color="green">2424</FONT>                    if (r.isErrCall())<a name="line.2424"></a>
<FONT color="green">2425</FONT>                            return null;<a name="line.2425"></a>
<FONT color="green">2426</FONT>                            <a name="line.2426"></a>
<FONT color="green">2427</FONT>                    int oid = 0;<a name="line.2427"></a>
<FONT color="green">2428</FONT>                    Sms sms = null;<a name="line.2428"></a>
<FONT color="green">2429</FONT>                    oid = r.GetOid(1);<a name="line.2429"></a>
<FONT color="green">2430</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.2430"></a>
<FONT color="green">2431</FONT>                            sms = (Sms)skype.factory(Sms.moduleID(), oid, skype);<a name="line.2431"></a>
<FONT color="green">2432</FONT>                    }<a name="line.2432"></a>
<FONT color="green">2433</FONT>                    return sms;<a name="line.2433"></a>
<FONT color="green">2434</FONT>            }<a name="line.2434"></a>
<FONT color="green">2435</FONT>            <a name="line.2435"></a>
<FONT color="green">2436</FONT>            /**<a name="line.2436"></a>
<FONT color="green">2437</FONT>             *creates an CONFIRMATION_CODE_REQUEST SMS message<a name="line.2437"></a>
<FONT color="green">2438</FONT>             * @param number<a name="line.2438"></a>
<FONT color="green">2439</FONT>             * @param code<a name="line.2439"></a>
<FONT color="green">2440</FONT>             * @return sms<a name="line.2440"></a>
<FONT color="green">2441</FONT>             */<a name="line.2441"></a>
<FONT color="green">2442</FONT>            public Sms SubmitConfirmationCode( String number, String code) {<a name="line.2442"></a>
<FONT color="green">2443</FONT>            <a name="line.2443"></a>
<FONT color="green">2444</FONT>                    Request request = null;<a name="line.2444"></a>
<FONT color="green">2445</FONT>                    try {<a name="line.2445"></a>
<FONT color="green">2446</FONT>                            request = new XCallRequest(0,30);<a name="line.2446"></a>
<FONT color="green">2447</FONT>                    } catch (IOException e) {<a name="line.2447"></a>
<FONT color="green">2448</FONT>                            e.printStackTrace();<a name="line.2448"></a>
<FONT color="green">2449</FONT>                            if (errorListener != null)<a name="line.2449"></a>
<FONT color="green">2450</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2450"></a>
<FONT color="green">2451</FONT>                    }<a name="line.2451"></a>
<FONT color="green">2452</FONT>                    request.addParm('S',1,number);<a name="line.2452"></a>
<FONT color="green">2453</FONT>                    request.addParm('S',2,code);<a name="line.2453"></a>
<FONT color="green">2454</FONT>                    <a name="line.2454"></a>
<FONT color="green">2455</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2455"></a>
<FONT color="green">2456</FONT>                    <a name="line.2456"></a>
<FONT color="green">2457</FONT>                    if (r.isErrCall())<a name="line.2457"></a>
<FONT color="green">2458</FONT>                            return null;<a name="line.2458"></a>
<FONT color="green">2459</FONT>                            <a name="line.2459"></a>
<FONT color="green">2460</FONT>                    int oid = 0;<a name="line.2460"></a>
<FONT color="green">2461</FONT>                    Sms sms = null;<a name="line.2461"></a>
<FONT color="green">2462</FONT>                    oid = r.GetOid(1);<a name="line.2462"></a>
<FONT color="green">2463</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.2463"></a>
<FONT color="green">2464</FONT>                            sms = (Sms)skype.factory(Sms.moduleID(), oid, skype);<a name="line.2464"></a>
<FONT color="green">2465</FONT>                    }<a name="line.2465"></a>
<FONT color="green">2466</FONT>                    return sms;<a name="line.2466"></a>
<FONT color="green">2467</FONT>            }<a name="line.2467"></a>
<FONT color="green">2468</FONT>            <a name="line.2468"></a>
<FONT color="green">2469</FONT>            /**<a name="line.2469"></a>
<FONT color="green">2470</FONT>             *creates an OUTGOING/COMPOSING SMS message<a name="line.2470"></a>
<FONT color="green">2471</FONT>             * @return sms<a name="line.2471"></a>
<FONT color="green">2472</FONT>             */<a name="line.2472"></a>
<FONT color="green">2473</FONT>            public Sms CreateOutgoingSms() {<a name="line.2473"></a>
<FONT color="green">2474</FONT>            <a name="line.2474"></a>
<FONT color="green">2475</FONT>                    Request request = null;<a name="line.2475"></a>
<FONT color="green">2476</FONT>                    try {<a name="line.2476"></a>
<FONT color="green">2477</FONT>                            request = new XCallRequest(0,70);<a name="line.2477"></a>
<FONT color="green">2478</FONT>                    } catch (IOException e) {<a name="line.2478"></a>
<FONT color="green">2479</FONT>                            e.printStackTrace();<a name="line.2479"></a>
<FONT color="green">2480</FONT>                            if (errorListener != null)<a name="line.2480"></a>
<FONT color="green">2481</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2481"></a>
<FONT color="green">2482</FONT>                    }<a name="line.2482"></a>
<FONT color="green">2483</FONT>                    <a name="line.2483"></a>
<FONT color="green">2484</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2484"></a>
<FONT color="green">2485</FONT>                    <a name="line.2485"></a>
<FONT color="green">2486</FONT>                    if (r.isErrCall())<a name="line.2486"></a>
<FONT color="green">2487</FONT>                            return null;<a name="line.2487"></a>
<FONT color="green">2488</FONT>                            <a name="line.2488"></a>
<FONT color="green">2489</FONT>                    int oid = 0;<a name="line.2489"></a>
<FONT color="green">2490</FONT>                    Sms sms = null;<a name="line.2490"></a>
<FONT color="green">2491</FONT>                    oid = r.GetOid(1);<a name="line.2491"></a>
<FONT color="green">2492</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.2492"></a>
<FONT color="green">2493</FONT>                            sms = (Sms)skype.factory(Sms.moduleID(), oid, skype);<a name="line.2493"></a>
<FONT color="green">2494</FONT>                    }<a name="line.2494"></a>
<FONT color="green">2495</FONT>                    return sms;<a name="line.2495"></a>
<FONT color="green">2496</FONT>            }<a name="line.2496"></a>
<FONT color="green">2497</FONT>            <a name="line.2497"></a>
<FONT color="green">2498</FONT>            /** Setupkey SETUPKEY_FT_AUTOACCEPT type:int  &lt;br&gt;Controls file transfer auto-accept.  &lt;br&gt; - 0 - off &lt;br&gt; - 1 - on &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.2498"></a>
<FONT color="green">2499</FONT>            public static final String FT_AUTOACCEPT = "Lib/FileTransfer/AutoAccept";<a name="line.2499"></a>
<FONT color="green">2500</FONT>            <a name="line.2500"></a>
<FONT color="green">2501</FONT>            /** Setupkey SETUPKEY_FT_SAVEPATH type:string  &lt;br&gt;Full local path to save incoming file transfers (used for AutoAccept feature) &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.2501"></a>
<FONT color="green">2502</FONT>            public static final String FT_SAVEPATH = "Lib/FileTransfer/SavePath";<a name="line.2502"></a>
<FONT color="green">2503</FONT>            <a name="line.2503"></a>
<FONT color="green">2504</FONT>            /** Setupkey SETUPKEY_FT_INCOMING_LIMIT type:uint  &lt;br&gt;Number of simultaneous incoming file transfers (per user). Value 0 means no limitation.  &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.2504"></a>
<FONT color="green">2505</FONT>            public static final String FT_INCOMING_LIMIT = "Lib/FileTransfer/IncomingLimit";<a name="line.2505"></a>
<FONT color="green">2506</FONT>            <a name="line.2506"></a>
<FONT color="green">2507</FONT>            /** Setupkey SETUPKEY_IDLE_TIME_FOR_AWAY type:int  &lt;br&gt;Number of seconds since the last keyboard or mouse activity, after which the online status of currently logged in account should be set to AWAY. See Account.SetAvailability method for more information. &lt;br&gt;This is account-specific setup key. It can only be used while an account is logged in. &lt;br&gt; */<a name="line.2507"></a>
<FONT color="green">2508</FONT>            public static final String IDLE_TIME_FOR_AWAY = "Lib/Account/IdleTimeForAway";<a name="line.2508"></a>
<FONT color="green">2509</FONT>            <a name="line.2509"></a>
<FONT color="green">2510</FONT>            /** Setupkey SETUPKEY_IDLE_TIME_FOR_NA type:int  &lt;br&gt;The Contact.AVAILABILITY.NOT_AVAILABLE online status has been deprecated. This setup key is no longer in use. &lt;br&gt; */<a name="line.2510"></a>
<FONT color="green">2511</FONT>            public static final String IDLE_TIME_FOR_NA = "Lib/Account/IdleTimeForNA";<a name="line.2511"></a>
<FONT color="green">2512</FONT>            <a name="line.2512"></a>
<FONT color="green">2513</FONT>            /**<a name="line.2513"></a>
<FONT color="green">2514</FONT>             *Retrieves an Account object by Skype name (identity). This should normally be one of the first method calls after Skype object initialization. Nearly all the other methods require successful account login in order to work properly. The list of accounts that have been used on the local machine/database can be retrieved with Skype.GetExistingAccounts method. If a matching identity is not found, a new Account object is created. This object can then be used to populate requred fields and then use Account.Register method for new account creation. This method returns false on error. &lt;br&gt;<a name="line.2514"></a>
<FONT color="green">2515</FONT>             * @param identity Account skypename. &lt;br&gt;<a name="line.2515"></a>
<FONT color="green">2516</FONT>             * @return account Returns account object if successful. &lt;br&gt;<a name="line.2516"></a>
<FONT color="green">2517</FONT>             */<a name="line.2517"></a>
<FONT color="green">2518</FONT>            public Account GetAccount( String identity) {<a name="line.2518"></a>
<FONT color="green">2519</FONT>            <a name="line.2519"></a>
<FONT color="green">2520</FONT>                    Request request = null;<a name="line.2520"></a>
<FONT color="green">2521</FONT>                    try {<a name="line.2521"></a>
<FONT color="green">2522</FONT>                            request = new XCallRequest(0,115);<a name="line.2522"></a>
<FONT color="green">2523</FONT>                    } catch (IOException e) {<a name="line.2523"></a>
<FONT color="green">2524</FONT>                            e.printStackTrace();<a name="line.2524"></a>
<FONT color="green">2525</FONT>                            if (errorListener != null)<a name="line.2525"></a>
<FONT color="green">2526</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2526"></a>
<FONT color="green">2527</FONT>                    }<a name="line.2527"></a>
<FONT color="green">2528</FONT>                    request.addParm('S',1,identity);<a name="line.2528"></a>
<FONT color="green">2529</FONT>                    <a name="line.2529"></a>
<FONT color="green">2530</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2530"></a>
<FONT color="green">2531</FONT>                    <a name="line.2531"></a>
<FONT color="green">2532</FONT>                    if (r.isErrCall())<a name="line.2532"></a>
<FONT color="green">2533</FONT>                            return null;<a name="line.2533"></a>
<FONT color="green">2534</FONT>                            <a name="line.2534"></a>
<FONT color="green">2535</FONT>                    int oid = 0;<a name="line.2535"></a>
<FONT color="green">2536</FONT>                    Account account = null;<a name="line.2536"></a>
<FONT color="green">2537</FONT>                    oid = r.GetOid(1);<a name="line.2537"></a>
<FONT color="green">2538</FONT>                    if (oid != AbstractDecoder.NULL_VALUE) {<a name="line.2538"></a>
<FONT color="green">2539</FONT>                            if (! object_list.containsKey(oid)) {<a name="line.2539"></a>
<FONT color="green">2540</FONT>                                    object_list.clear(); // #AABIP-7: Clear any other account's cached info from previous logins<a name="line.2540"></a>
<FONT color="green">2541</FONT>                            }<a name="line.2541"></a>
<FONT color="green">2542</FONT>                            account = (Account)skype.factory(Account.moduleID(), oid, skype);<a name="line.2542"></a>
<FONT color="green">2543</FONT>                    }<a name="line.2543"></a>
<FONT color="green">2544</FONT>                    return account;<a name="line.2544"></a>
<FONT color="green">2545</FONT>            }<a name="line.2545"></a>
<FONT color="green">2546</FONT>            <a name="line.2546"></a>
<FONT color="green">2547</FONT>            /**<a name="line.2547"></a>
<FONT color="green">2548</FONT>             *Returns a list of possible profiles used before on this machine<a name="line.2548"></a>
<FONT color="green">2549</FONT>             * @return accountNameList<a name="line.2549"></a>
<FONT color="green">2550</FONT>             */<a name="line.2550"></a>
<FONT color="green">2551</FONT>            public String [] GetExistingAccounts() {<a name="line.2551"></a>
<FONT color="green">2552</FONT>            <a name="line.2552"></a>
<FONT color="green">2553</FONT>                    Request request = null;<a name="line.2553"></a>
<FONT color="green">2554</FONT>                    try {<a name="line.2554"></a>
<FONT color="green">2555</FONT>                            request = new XCallRequest(0,113);<a name="line.2555"></a>
<FONT color="green">2556</FONT>                    } catch (IOException e) {<a name="line.2556"></a>
<FONT color="green">2557</FONT>                            e.printStackTrace();<a name="line.2557"></a>
<FONT color="green">2558</FONT>                            if (errorListener != null)<a name="line.2558"></a>
<FONT color="green">2559</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2559"></a>
<FONT color="green">2560</FONT>                    }<a name="line.2560"></a>
<FONT color="green">2561</FONT>                    <a name="line.2561"></a>
<FONT color="green">2562</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2562"></a>
<FONT color="green">2563</FONT>                    <a name="line.2563"></a>
<FONT color="green">2564</FONT>                    if (r.isErrCall())<a name="line.2564"></a>
<FONT color="green">2565</FONT>                            return null;<a name="line.2565"></a>
<FONT color="green">2566</FONT>                            <a name="line.2566"></a>
<FONT color="green">2567</FONT>                    Vector&lt;String&gt; accountNameList = new Vector&lt;String&gt;();<a name="line.2567"></a>
<FONT color="green">2568</FONT>                    while (r.HasMore(1))<a name="line.2568"></a>
<FONT color="green">2569</FONT>                    {<a name="line.2569"></a>
<FONT color="green">2570</FONT>                            String string = null;<a name="line.2570"></a>
<FONT color="green">2571</FONT>                            string  = r.GetAsString(1);<a name="line.2571"></a>
<FONT color="green">2572</FONT>                            accountNameList.add(string);<a name="line.2572"></a>
<FONT color="green">2573</FONT>                    }<a name="line.2573"></a>
<FONT color="green">2574</FONT>                    return accountNameList.toArray(new String[accountNameList.size()]);<a name="line.2574"></a>
<FONT color="green">2575</FONT>                    <a name="line.2575"></a>
<FONT color="green">2576</FONT>            }<a name="line.2576"></a>
<FONT color="green">2577</FONT>            <a name="line.2577"></a>
<FONT color="green">2578</FONT>            /**<a name="line.2578"></a>
<FONT color="green">2579</FONT>             *return most recently used account that has pwd saved. empty string if none<a name="line.2579"></a>
<FONT color="green">2580</FONT>             * @return account<a name="line.2580"></a>
<FONT color="green">2581</FONT>             */<a name="line.2581"></a>
<FONT color="green">2582</FONT>            public String GetDefaultAccountName() {<a name="line.2582"></a>
<FONT color="green">2583</FONT>            <a name="line.2583"></a>
<FONT color="green">2584</FONT>                    Request request = null;<a name="line.2584"></a>
<FONT color="green">2585</FONT>                    try {<a name="line.2585"></a>
<FONT color="green">2586</FONT>                            request = new XCallRequest(0,114);<a name="line.2586"></a>
<FONT color="green">2587</FONT>                    } catch (IOException e) {<a name="line.2587"></a>
<FONT color="green">2588</FONT>                            e.printStackTrace();<a name="line.2588"></a>
<FONT color="green">2589</FONT>                            if (errorListener != null)<a name="line.2589"></a>
<FONT color="green">2590</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2590"></a>
<FONT color="green">2591</FONT>                    }<a name="line.2591"></a>
<FONT color="green">2592</FONT>                    <a name="line.2592"></a>
<FONT color="green">2593</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2593"></a>
<FONT color="green">2594</FONT>                    <a name="line.2594"></a>
<FONT color="green">2595</FONT>                    if (r.isErrCall())<a name="line.2595"></a>
<FONT color="green">2596</FONT>                            return null;<a name="line.2596"></a>
<FONT color="green">2597</FONT>                            <a name="line.2597"></a>
<FONT color="green">2598</FONT>                    String account = null;<a name="line.2598"></a>
<FONT color="green">2599</FONT>                    account = r.GetAsString(1);<a name="line.2599"></a>
<FONT color="green">2600</FONT>                    return account;<a name="line.2600"></a>
<FONT color="green">2601</FONT>            }<a name="line.2601"></a>
<FONT color="green">2602</FONT>            <a name="line.2602"></a>
<FONT color="green">2603</FONT>            /**<a name="line.2603"></a>
<FONT color="green">2604</FONT>             *suggest a nice skypename to go with given fullname<a name="line.2604"></a>
<FONT color="green">2605</FONT>             * @param fullname<a name="line.2605"></a>
<FONT color="green">2606</FONT>             * @return suggestedName<a name="line.2606"></a>
<FONT color="green">2607</FONT>             */<a name="line.2607"></a>
<FONT color="green">2608</FONT>            public String GetSuggestedSkypename( String fullname) {<a name="line.2608"></a>
<FONT color="green">2609</FONT>            <a name="line.2609"></a>
<FONT color="green">2610</FONT>                    Request request = null;<a name="line.2610"></a>
<FONT color="green">2611</FONT>                    try {<a name="line.2611"></a>
<FONT color="green">2612</FONT>                            request = new XCallRequest(0,116);<a name="line.2612"></a>
<FONT color="green">2613</FONT>                    } catch (IOException e) {<a name="line.2613"></a>
<FONT color="green">2614</FONT>                            e.printStackTrace();<a name="line.2614"></a>
<FONT color="green">2615</FONT>                            if (errorListener != null)<a name="line.2615"></a>
<FONT color="green">2616</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2616"></a>
<FONT color="green">2617</FONT>                    }<a name="line.2617"></a>
<FONT color="green">2618</FONT>                    request.addParm('S',1,fullname);<a name="line.2618"></a>
<FONT color="green">2619</FONT>                    <a name="line.2619"></a>
<FONT color="green">2620</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2620"></a>
<FONT color="green">2621</FONT>                    <a name="line.2621"></a>
<FONT color="green">2622</FONT>                    if (r.isErrCall())<a name="line.2622"></a>
<FONT color="green">2623</FONT>                            return null;<a name="line.2623"></a>
<FONT color="green">2624</FONT>                            <a name="line.2624"></a>
<FONT color="green">2625</FONT>                    String suggestedName = null;<a name="line.2625"></a>
<FONT color="green">2626</FONT>                    suggestedName = r.GetAsString(1);<a name="line.2626"></a>
<FONT color="green">2627</FONT>                    return suggestedName;<a name="line.2627"></a>
<FONT color="green">2628</FONT>            }<a name="line.2628"></a>
<FONT color="green">2629</FONT>            <a name="line.2629"></a>
<FONT color="green">2630</FONT>            /**<a name="line.2630"></a>
<FONT color="green">2631</FONT>            A value of this type can be returned by one of the following methods (of Skype class): ValidateAvatar, ValidateProfileString, ValidatePassword.  &lt;br&gt; */<a name="line.2631"></a>
<FONT color="green">2632</FONT>            public enum VALIDATERESULT {<a name="line.2632"></a>
<FONT color="green">2633</FONT>            <a name="line.2633"></a>
<FONT color="green">2634</FONT>                    /** Given property could not be validated. The length of the field was within limits and the value is assumed to be Ok. Your client should treat this value as equivalent to VALIDATED_OK. &lt;br&gt;*/<a name="line.2634"></a>
<FONT color="green">2635</FONT>                    NOT_VALIDATED(0),<a name="line.2635"></a>
<FONT color="green">2636</FONT>                    <a name="line.2636"></a>
<FONT color="green">2637</FONT>                    /** Avatar or profile string validation succeeded. &lt;br&gt;*/<a name="line.2637"></a>
<FONT color="green">2638</FONT>                    VALIDATED_OK(1),<a name="line.2638"></a>
<FONT color="green">2639</FONT>                    <a name="line.2639"></a>
<FONT color="green">2640</FONT>                    /** Password is too short. &lt;br&gt;*/<a name="line.2640"></a>
<FONT color="green">2641</FONT>                    TOO_SHORT(2),<a name="line.2641"></a>
<FONT color="green">2642</FONT>                    <a name="line.2642"></a>
<FONT color="green">2643</FONT>                    /** The value exceeds max size limit for the given property. &lt;br&gt;*/<a name="line.2643"></a>
<FONT color="green">2644</FONT>                    TOO_LONG(3),<a name="line.2644"></a>
<FONT color="green">2645</FONT>                    <a name="line.2645"></a>
<FONT color="green">2646</FONT>                    /** Value contains illegal characters. &lt;br&gt;*/<a name="line.2646"></a>
<FONT color="green">2647</FONT>                    CONTAINS_INVALID_CHAR(4),<a name="line.2647"></a>
<FONT color="green">2648</FONT>                    <a name="line.2648"></a>
<FONT color="green">2649</FONT>                    /** Value contains whitespace. &lt;br&gt;*/<a name="line.2649"></a>
<FONT color="green">2650</FONT>                    CONTAINS_SPACE(5),<a name="line.2650"></a>
<FONT color="green">2651</FONT>                    <a name="line.2651"></a>
<FONT color="green">2652</FONT>                    /** Password cannot be the same as skypename. &lt;br&gt;*/<a name="line.2652"></a>
<FONT color="green">2653</FONT>                    SAME_AS_USERNAME(6),<a name="line.2653"></a>
<FONT color="green">2654</FONT>                    <a name="line.2654"></a>
<FONT color="green">2655</FONT>                    /** Value has invalid format. &lt;br&gt;*/<a name="line.2655"></a>
<FONT color="green">2656</FONT>                    INVALID_FORMAT(7),<a name="line.2656"></a>
<FONT color="green">2657</FONT>                    <a name="line.2657"></a>
<FONT color="green">2658</FONT>                    /** Value contains invalid word. &lt;br&gt;*/<a name="line.2658"></a>
<FONT color="green">2659</FONT>                    CONTAINS_INVALID_WORD(8),<a name="line.2659"></a>
<FONT color="green">2660</FONT>                    <a name="line.2660"></a>
<FONT color="green">2661</FONT>                    /** Password is too simple. &lt;br&gt;*/<a name="line.2661"></a>
<FONT color="green">2662</FONT>                    TOO_SIMPLE(9),<a name="line.2662"></a>
<FONT color="green">2663</FONT>                    <a name="line.2663"></a>
<FONT color="green">2664</FONT>                    /** Value starts with an invalid character. &lt;br&gt;*/<a name="line.2664"></a>
<FONT color="green">2665</FONT>                    STARTS_WITH_INVALID_CHAR(10);<a name="line.2665"></a>
<FONT color="green">2666</FONT>                    <a name="line.2666"></a>
<FONT color="green">2667</FONT>                    private static final Map&lt;Integer,VALIDATERESULT&gt; lookup = new HashMap&lt;Integer,VALIDATERESULT&gt;();<a name="line.2667"></a>
<FONT color="green">2668</FONT>                    <a name="line.2668"></a>
<FONT color="green">2669</FONT>                    static {<a name="line.2669"></a>
<FONT color="green">2670</FONT>                            for(VALIDATERESULT s : EnumSet.allOf(VALIDATERESULT.class))<a name="line.2670"></a>
<FONT color="green">2671</FONT>                                    lookup.put(s.getId(), s);<a name="line.2671"></a>
<FONT color="green">2672</FONT>                    }<a name="line.2672"></a>
<FONT color="green">2673</FONT>                    <a name="line.2673"></a>
<FONT color="green">2674</FONT>                    private final int id;<a name="line.2674"></a>
<FONT color="green">2675</FONT>                    <a name="line.2675"></a>
<FONT color="green">2676</FONT>                    private VALIDATERESULT(int value) {<a name="line.2676"></a>
<FONT color="green">2677</FONT>                            this.id = value;<a name="line.2677"></a>
<FONT color="green">2678</FONT>                    }<a name="line.2678"></a>
<FONT color="green">2679</FONT>                    <a name="line.2679"></a>
<FONT color="green">2680</FONT>                    public int getId() { return id; }<a name="line.2680"></a>
<FONT color="green">2681</FONT>                    <a name="line.2681"></a>
<FONT color="green">2682</FONT>                    public static VALIDATERESULT get(int code) {<a name="line.2682"></a>
<FONT color="green">2683</FONT>                            return lookup.get(code);<a name="line.2683"></a>
<FONT color="green">2684</FONT>                    }<a name="line.2684"></a>
<FONT color="green">2685</FONT>                    <a name="line.2685"></a>
<FONT color="green">2686</FONT>                    public static VALIDATERESULT fromString(String s) {<a name="line.2686"></a>
<FONT color="green">2687</FONT>                            for (VALIDATERESULT p : lookup.values()) {<a name="line.2687"></a>
<FONT color="green">2688</FONT>                                    if (p.toString() == s) {<a name="line.2688"></a>
<FONT color="green">2689</FONT>                                            return p;<a name="line.2689"></a>
<FONT color="green">2690</FONT>                                    }<a name="line.2690"></a>
<FONT color="green">2691</FONT>                            }<a name="line.2691"></a>
<FONT color="green">2692</FONT>                            return null;<a name="line.2692"></a>
<FONT color="green">2693</FONT>                    }<a name="line.2693"></a>
<FONT color="green">2694</FONT>            }<a name="line.2694"></a>
<FONT color="green">2695</FONT>            <a name="line.2695"></a>
<FONT color="green">2696</FONT>            /**<a name="line.2696"></a>
<FONT color="green">2697</FONT>             * @param value<a name="line.2697"></a>
<FONT color="green">2698</FONT>             * @return ValidateAvatarResult<a name="line.2698"></a>
<FONT color="green">2699</FONT>             */<a name="line.2699"></a>
<FONT color="green">2700</FONT>            public ValidateAvatarResult ValidateAvatar( byte[] value) {<a name="line.2700"></a>
<FONT color="green">2701</FONT>            <a name="line.2701"></a>
<FONT color="green">2702</FONT>                    Request request = null;<a name="line.2702"></a>
<FONT color="green">2703</FONT>                    try {<a name="line.2703"></a>
<FONT color="green">2704</FONT>                            request = new XCallRequest(0,119);<a name="line.2704"></a>
<FONT color="green">2705</FONT>                    } catch (IOException e) {<a name="line.2705"></a>
<FONT color="green">2706</FONT>                            e.printStackTrace();<a name="line.2706"></a>
<FONT color="green">2707</FONT>                            if (errorListener != null)<a name="line.2707"></a>
<FONT color="green">2708</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2708"></a>
<FONT color="green">2709</FONT>                    }<a name="line.2709"></a>
<FONT color="green">2710</FONT>                    request.addParm('B',1,value);<a name="line.2710"></a>
<FONT color="green">2711</FONT>                    <a name="line.2711"></a>
<FONT color="green">2712</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2712"></a>
<FONT color="green">2713</FONT>                    <a name="line.2713"></a>
<FONT color="green">2714</FONT>                    if (r.isErrCall())<a name="line.2714"></a>
<FONT color="green">2715</FONT>                            return null;<a name="line.2715"></a>
<FONT color="green">2716</FONT>                            <a name="line.2716"></a>
<FONT color="green">2717</FONT>                    ValidateAvatarResult result = new ValidateAvatarResult();<a name="line.2717"></a>
<FONT color="green">2718</FONT>                    <a name="line.2718"></a>
<FONT color="green">2719</FONT>                    VALIDATERESULT validateresult = null;<a name="line.2719"></a>
<FONT color="green">2720</FONT>                    validateresult = VALIDATERESULT.get(r.GetAsInt(1));<a name="line.2720"></a>
<FONT color="green">2721</FONT>                    result.result = validateresult;<a name="line.2721"></a>
<FONT color="green">2722</FONT>                    <a name="line.2722"></a>
<FONT color="green">2723</FONT>                    int freeBytesLeft = 0;<a name="line.2723"></a>
<FONT color="green">2724</FONT>                    freeBytesLeft = r.GetAsInt(2);<a name="line.2724"></a>
<FONT color="green">2725</FONT>                    result.freeBytesLeft = freeBytesLeft;<a name="line.2725"></a>
<FONT color="green">2726</FONT>                    <a name="line.2726"></a>
<FONT color="green">2727</FONT>                    return result;<a name="line.2727"></a>
<FONT color="green">2728</FONT>            }<a name="line.2728"></a>
<FONT color="green">2729</FONT>            <a name="line.2729"></a>
<FONT color="green">2730</FONT>            public class ValidateAvatarResult {<a name="line.2730"></a>
<FONT color="green">2731</FONT>                    public VALIDATERESULT result;<a name="line.2731"></a>
<FONT color="green">2732</FONT>                    public int freeBytesLeft;<a name="line.2732"></a>
<FONT color="green">2733</FONT>            }<a name="line.2733"></a>
<FONT color="green">2734</FONT>            <a name="line.2734"></a>
<FONT color="green">2735</FONT>            /**<a name="line.2735"></a>
<FONT color="green">2736</FONT>             *This method should be used for validating skypenames before registering new accounts, if the propKey is set to SKYPENAME (Contact class) and forRegistration argument is set to true. If the forRegistration argument is false, only string length check is applied. It is also useful to probe, what the size limits are, for each string property (e.g. 300 characters for moodmessage) &lt;br&gt;<a name="line.2736"></a>
<FONT color="green">2737</FONT>             * @param propKey<a name="line.2737"></a>
<FONT color="green">2738</FONT>             * @param strValue<a name="line.2738"></a>
<FONT color="green">2739</FONT>             * @param forRegistration<a name="line.2739"></a>
<FONT color="green">2740</FONT>             * @return ValidateProfileStringResult<a name="line.2740"></a>
<FONT color="green">2741</FONT>             */<a name="line.2741"></a>
<FONT color="green">2742</FONT>            public ValidateProfileStringResult ValidateProfileString( int propKey, String strValue, boolean forRegistration) {<a name="line.2742"></a>
<FONT color="green">2743</FONT>            <a name="line.2743"></a>
<FONT color="green">2744</FONT>                    Request request = null;<a name="line.2744"></a>
<FONT color="green">2745</FONT>                    try {<a name="line.2745"></a>
<FONT color="green">2746</FONT>                            request = new XCallRequest(0,102);<a name="line.2746"></a>
<FONT color="green">2747</FONT>                    } catch (IOException e) {<a name="line.2747"></a>
<FONT color="green">2748</FONT>                            e.printStackTrace();<a name="line.2748"></a>
<FONT color="green">2749</FONT>                            if (errorListener != null)<a name="line.2749"></a>
<FONT color="green">2750</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2750"></a>
<FONT color="green">2751</FONT>                    }<a name="line.2751"></a>
<FONT color="green">2752</FONT>                    request.addParm('e',1,propKey);<a name="line.2752"></a>
<FONT color="green">2753</FONT>                    request.addParm('S',2,strValue);<a name="line.2753"></a>
<FONT color="green">2754</FONT>                    request.addParm('b',3,forRegistration);<a name="line.2754"></a>
<FONT color="green">2755</FONT>                    <a name="line.2755"></a>
<FONT color="green">2756</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2756"></a>
<FONT color="green">2757</FONT>                    <a name="line.2757"></a>
<FONT color="green">2758</FONT>                    if (r.isErrCall())<a name="line.2758"></a>
<FONT color="green">2759</FONT>                            return null;<a name="line.2759"></a>
<FONT color="green">2760</FONT>                            <a name="line.2760"></a>
<FONT color="green">2761</FONT>                    ValidateProfileStringResult result = new ValidateProfileStringResult();<a name="line.2761"></a>
<FONT color="green">2762</FONT>                    <a name="line.2762"></a>
<FONT color="green">2763</FONT>                    VALIDATERESULT validateresult = null;<a name="line.2763"></a>
<FONT color="green">2764</FONT>                    validateresult = VALIDATERESULT.get(r.GetAsInt(1));<a name="line.2764"></a>
<FONT color="green">2765</FONT>                    result.result = validateresult;<a name="line.2765"></a>
<FONT color="green">2766</FONT>                    <a name="line.2766"></a>
<FONT color="green">2767</FONT>                    int freeBytesLeft = 0;<a name="line.2767"></a>
<FONT color="green">2768</FONT>                    freeBytesLeft = r.GetAsInt(2);<a name="line.2768"></a>
<FONT color="green">2769</FONT>                    result.freeBytesLeft = freeBytesLeft;<a name="line.2769"></a>
<FONT color="green">2770</FONT>                    <a name="line.2770"></a>
<FONT color="green">2771</FONT>                    return result;<a name="line.2771"></a>
<FONT color="green">2772</FONT>            }<a name="line.2772"></a>
<FONT color="green">2773</FONT>            <a name="line.2773"></a>
<FONT color="green">2774</FONT>            public class ValidateProfileStringResult {<a name="line.2774"></a>
<FONT color="green">2775</FONT>                    public VALIDATERESULT result;<a name="line.2775"></a>
<FONT color="green">2776</FONT>                    public int freeBytesLeft;<a name="line.2776"></a>
<FONT color="green">2777</FONT>            }<a name="line.2777"></a>
<FONT color="green">2778</FONT>            <a name="line.2778"></a>
<FONT color="green">2779</FONT>            /**<a name="line.2779"></a>
<FONT color="green">2780</FONT>             *This method is for pre-validating account passwords before account creation or password change. The result will return either VALIDATED_OK or one of many possible reasons the password is unacceptable (too short, too simple, etc.) &lt;br&gt;<a name="line.2780"></a>
<FONT color="green">2781</FONT>             * @param username<a name="line.2781"></a>
<FONT color="green">2782</FONT>             * @param password<a name="line.2782"></a>
<FONT color="green">2783</FONT>             * @return result<a name="line.2783"></a>
<FONT color="green">2784</FONT>             */<a name="line.2784"></a>
<FONT color="green">2785</FONT>            public VALIDATERESULT ValidatePassword( String username, String password) {<a name="line.2785"></a>
<FONT color="green">2786</FONT>            <a name="line.2786"></a>
<FONT color="green">2787</FONT>                    Request request = null;<a name="line.2787"></a>
<FONT color="green">2788</FONT>                    try {<a name="line.2788"></a>
<FONT color="green">2789</FONT>                            request = new XCallRequest(0,71);<a name="line.2789"></a>
<FONT color="green">2790</FONT>                    } catch (IOException e) {<a name="line.2790"></a>
<FONT color="green">2791</FONT>                            e.printStackTrace();<a name="line.2791"></a>
<FONT color="green">2792</FONT>                            if (errorListener != null)<a name="line.2792"></a>
<FONT color="green">2793</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2793"></a>
<FONT color="green">2794</FONT>                    }<a name="line.2794"></a>
<FONT color="green">2795</FONT>                    request.addParm('S',1,username);<a name="line.2795"></a>
<FONT color="green">2796</FONT>                    request.addParm('S',2,password);<a name="line.2796"></a>
<FONT color="green">2797</FONT>                    <a name="line.2797"></a>
<FONT color="green">2798</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2798"></a>
<FONT color="green">2799</FONT>                    <a name="line.2799"></a>
<FONT color="green">2800</FONT>                    if (r.isErrCall())<a name="line.2800"></a>
<FONT color="green">2801</FONT>                            return null;<a name="line.2801"></a>
<FONT color="green">2802</FONT>                            <a name="line.2802"></a>
<FONT color="green">2803</FONT>                    VALIDATERESULT validateresult = null;<a name="line.2803"></a>
<FONT color="green">2804</FONT>                    validateresult = VALIDATERESULT.get(r.GetAsInt(1));<a name="line.2804"></a>
<FONT color="green">2805</FONT>                    return validateresult;<a name="line.2805"></a>
<FONT color="green">2806</FONT>            }<a name="line.2806"></a>
<FONT color="green">2807</FONT>            <a name="line.2807"></a>
<FONT color="green">2808</FONT>            /** Setupkey SETUPKEY_PORT type:int  &lt;br&gt;Suggested port number (lib will *try* to use that) &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2808"></a>
<FONT color="green">2809</FONT>            public static final String PORT = "*Lib/Connection/Port";<a name="line.2809"></a>
<FONT color="green">2810</FONT>            <a name="line.2810"></a>
<FONT color="green">2811</FONT>            /** Setupkey SETUPKEY_HTTPS_PROXY_ENABLE type:int  &lt;br&gt;Set to 0 for automatic proxy detect, 1 to use proxy config below &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2811"></a>
<FONT color="green">2812</FONT>            public static final String HTTPS_PROXY_ENABLE = "*Lib/Connection/HttpsProxy/Enable";<a name="line.2812"></a>
<FONT color="green">2813</FONT>            <a name="line.2813"></a>
<FONT color="green">2814</FONT>            /** Setupkey SETUPKEY_HTTPS_PROXY_ADDR type:string  &lt;br&gt;name:port of HTTP proxy server &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2814"></a>
<FONT color="green">2815</FONT>            public static final String HTTPS_PROXY_ADDR = "*Lib/Connection/HttpsProxy/Addr";<a name="line.2815"></a>
<FONT color="green">2816</FONT>            <a name="line.2816"></a>
<FONT color="green">2817</FONT>            /** Setupkey SETUPKEY_HTTPS_PROXY_USER type:string  &lt;br&gt;HTTPS proxy server username &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2817"></a>
<FONT color="green">2818</FONT>            public static final String HTTPS_PROXY_USER = "*Lib/Connection/HttpsProxy/User";<a name="line.2818"></a>
<FONT color="green">2819</FONT>            <a name="line.2819"></a>
<FONT color="green">2820</FONT>            /** Setupkey SETUPKEY_HTTPS_PROXY_PWD type:string  &lt;br&gt;HTTPS proxy server password (base64 encoded) &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2820"></a>
<FONT color="green">2821</FONT>            public static final String HTTPS_PROXY_PWD = "*Lib/Connection/HttpsProxy/Pwd";<a name="line.2821"></a>
<FONT color="green">2822</FONT>            <a name="line.2822"></a>
<FONT color="green">2823</FONT>            /** Setupkey SETUPKEY_SOCKS_PROXY_ENABLE type:int  &lt;br&gt;Set to non-zero to enable socks proxy support &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2823"></a>
<FONT color="green">2824</FONT>            public static final String SOCKS_PROXY_ENABLE = "*Lib/Connection/SocksProxy/Enable";<a name="line.2824"></a>
<FONT color="green">2825</FONT>            <a name="line.2825"></a>
<FONT color="green">2826</FONT>            /** Setupkey SETUPKEY_SOCKS_PROXY_ADDR type:string  &lt;br&gt;name:port of SOCKS proxy server &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2826"></a>
<FONT color="green">2827</FONT>            public static final String SOCKS_PROXY_ADDR = "*Lib/Connection/SocksProxy/Addr";<a name="line.2827"></a>
<FONT color="green">2828</FONT>            <a name="line.2828"></a>
<FONT color="green">2829</FONT>            /** Setupkey SETUPKEY_SOCKS_PROXY_USER type:string  &lt;br&gt;SOCKS proxy server username &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2829"></a>
<FONT color="green">2830</FONT>            public static final String SOCKS_PROXY_USER = "*Lib/Connection/SocksProxy/User";<a name="line.2830"></a>
<FONT color="green">2831</FONT>            <a name="line.2831"></a>
<FONT color="green">2832</FONT>            /** Setupkey SETUPKEY_SOCKS_PROXY_PWD type:string  &lt;br&gt;SOCKS proxy server password (base64 encoded) &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2832"></a>
<FONT color="green">2833</FONT>            public static final String SOCKS_PROXY_PWD = "*Lib/Connection/SocksProxy/Pwd";<a name="line.2833"></a>
<FONT color="green">2834</FONT>            <a name="line.2834"></a>
<FONT color="green">2835</FONT>            /** Setupkey SETUPKEY_LOCALADDRESS type:string  &lt;br&gt;local interface to listen to &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2835"></a>
<FONT color="green">2836</FONT>            public static final String LOCALADDRESS = "*Lib/Connection/LocalAddress";<a name="line.2836"></a>
<FONT color="green">2837</FONT>            <a name="line.2837"></a>
<FONT color="green">2838</FONT>            /** Setupkey SETUPKEY_DISABLE_PORT80 type:int  &lt;br&gt;1 disables listening of alternative ports (80, 443) &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2838"></a>
<FONT color="green">2839</FONT>            public static final String DISABLE_PORT80 = "*Lib/Connection/DisablePort80";<a name="line.2839"></a>
<FONT color="green">2840</FONT>            <a name="line.2840"></a>
<FONT color="green">2841</FONT>            /** Setupkey SETUPKEY_DISABLE_UDP type:int  &lt;br&gt;1 disables UDP port binding. should be set before connect &lt;br&gt;This setup key is machine-specific and affects all local accounts. &lt;br&gt; */<a name="line.2841"></a>
<FONT color="green">2842</FONT>            public static final String DISABLE_UDP = "*Lib/Connection/DisableUDP";<a name="line.2842"></a>
<FONT color="green">2843</FONT>            <a name="line.2843"></a>
<FONT color="green">2844</FONT>            /**<a name="line.2844"></a>
<FONT color="green">2845</FONT>             */<a name="line.2845"></a>
<FONT color="green">2846</FONT>            public enum PROXYTYPE {<a name="line.2846"></a>
<FONT color="green">2847</FONT>            <a name="line.2847"></a>
<FONT color="green">2848</FONT>                    /** */<a name="line.2848"></a>
<FONT color="green">2849</FONT>                    HTTPS_PROXY(0),<a name="line.2849"></a>
<FONT color="green">2850</FONT>                    <a name="line.2850"></a>
<FONT color="green">2851</FONT>                    /** */<a name="line.2851"></a>
<FONT color="green">2852</FONT>                    SOCKS_PROXY(1);<a name="line.2852"></a>
<FONT color="green">2853</FONT>                    <a name="line.2853"></a>
<FONT color="green">2854</FONT>                    private static final Map&lt;Integer,PROXYTYPE&gt; lookup = new HashMap&lt;Integer,PROXYTYPE&gt;();<a name="line.2854"></a>
<FONT color="green">2855</FONT>                    <a name="line.2855"></a>
<FONT color="green">2856</FONT>                    static {<a name="line.2856"></a>
<FONT color="green">2857</FONT>                            for(PROXYTYPE s : EnumSet.allOf(PROXYTYPE.class))<a name="line.2857"></a>
<FONT color="green">2858</FONT>                                    lookup.put(s.getId(), s);<a name="line.2858"></a>
<FONT color="green">2859</FONT>                    }<a name="line.2859"></a>
<FONT color="green">2860</FONT>                    <a name="line.2860"></a>
<FONT color="green">2861</FONT>                    private final int id;<a name="line.2861"></a>
<FONT color="green">2862</FONT>                    <a name="line.2862"></a>
<FONT color="green">2863</FONT>                    private PROXYTYPE(int value) {<a name="line.2863"></a>
<FONT color="green">2864</FONT>                            this.id = value;<a name="line.2864"></a>
<FONT color="green">2865</FONT>                    }<a name="line.2865"></a>
<FONT color="green">2866</FONT>                    <a name="line.2866"></a>
<FONT color="green">2867</FONT>                    public int getId() { return id; }<a name="line.2867"></a>
<FONT color="green">2868</FONT>                    <a name="line.2868"></a>
<FONT color="green">2869</FONT>                    public static PROXYTYPE get(int code) {<a name="line.2869"></a>
<FONT color="green">2870</FONT>                            return lookup.get(code);<a name="line.2870"></a>
<FONT color="green">2871</FONT>                    }<a name="line.2871"></a>
<FONT color="green">2872</FONT>                    <a name="line.2872"></a>
<FONT color="green">2873</FONT>                    public static PROXYTYPE fromString(String s) {<a name="line.2873"></a>
<FONT color="green">2874</FONT>                            for (PROXYTYPE p : lookup.values()) {<a name="line.2874"></a>
<FONT color="green">2875</FONT>                                    if (p.toString() == s) {<a name="line.2875"></a>
<FONT color="green">2876</FONT>                                            return p;<a name="line.2876"></a>
<FONT color="green">2877</FONT>                                    }<a name="line.2877"></a>
<FONT color="green">2878</FONT>                            }<a name="line.2878"></a>
<FONT color="green">2879</FONT>                            return null;<a name="line.2879"></a>
<FONT color="green">2880</FONT>                    }<a name="line.2880"></a>
<FONT color="green">2881</FONT>            }<a name="line.2881"></a>
<FONT color="green">2882</FONT>            <a name="line.2882"></a>
<FONT color="green">2883</FONT>            /**<a name="line.2883"></a>
<FONT color="green">2884</FONT>             *This is used for retrieving local setup keys of type string. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.2884"></a>
<FONT color="green">2885</FONT>             * @param key<a name="line.2885"></a>
<FONT color="green">2886</FONT>             * @return value<a name="line.2886"></a>
<FONT color="green">2887</FONT>             */<a name="line.2887"></a>
<FONT color="green">2888</FONT>            public String GetStr( String key) {<a name="line.2888"></a>
<FONT color="green">2889</FONT>            <a name="line.2889"></a>
<FONT color="green">2890</FONT>                    Request request = null;<a name="line.2890"></a>
<FONT color="green">2891</FONT>                    try {<a name="line.2891"></a>
<FONT color="green">2892</FONT>                            request = new XCallRequest(0,120);<a name="line.2892"></a>
<FONT color="green">2893</FONT>                    } catch (IOException e) {<a name="line.2893"></a>
<FONT color="green">2894</FONT>                            e.printStackTrace();<a name="line.2894"></a>
<FONT color="green">2895</FONT>                            if (errorListener != null)<a name="line.2895"></a>
<FONT color="green">2896</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2896"></a>
<FONT color="green">2897</FONT>                    }<a name="line.2897"></a>
<FONT color="green">2898</FONT>                    request.addParm('S',1,key);<a name="line.2898"></a>
<FONT color="green">2899</FONT>                    <a name="line.2899"></a>
<FONT color="green">2900</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2900"></a>
<FONT color="green">2901</FONT>                    <a name="line.2901"></a>
<FONT color="green">2902</FONT>                    if (r.isErrCall())<a name="line.2902"></a>
<FONT color="green">2903</FONT>                            return null;<a name="line.2903"></a>
<FONT color="green">2904</FONT>                            <a name="line.2904"></a>
<FONT color="green">2905</FONT>                    String value = null;<a name="line.2905"></a>
<FONT color="green">2906</FONT>                    value = r.GetAsString(1);<a name="line.2906"></a>
<FONT color="green">2907</FONT>                    return value;<a name="line.2907"></a>
<FONT color="green">2908</FONT>            }<a name="line.2908"></a>
<FONT color="green">2909</FONT>            <a name="line.2909"></a>
<FONT color="green">2910</FONT>            /**<a name="line.2910"></a>
<FONT color="green">2911</FONT>             *This is used for retrieving local setup keys of type int. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.2911"></a>
<FONT color="green">2912</FONT>             * @param key<a name="line.2912"></a>
<FONT color="green">2913</FONT>             * @return value<a name="line.2913"></a>
<FONT color="green">2914</FONT>             */<a name="line.2914"></a>
<FONT color="green">2915</FONT>            public int GetInt( String key) {<a name="line.2915"></a>
<FONT color="green">2916</FONT>            <a name="line.2916"></a>
<FONT color="green">2917</FONT>                    Request request = null;<a name="line.2917"></a>
<FONT color="green">2918</FONT>                    try {<a name="line.2918"></a>
<FONT color="green">2919</FONT>                            request = new XCallRequest(0,121);<a name="line.2919"></a>
<FONT color="green">2920</FONT>                    } catch (IOException e) {<a name="line.2920"></a>
<FONT color="green">2921</FONT>                            e.printStackTrace();<a name="line.2921"></a>
<FONT color="green">2922</FONT>                            if (errorListener != null)<a name="line.2922"></a>
<FONT color="green">2923</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2923"></a>
<FONT color="green">2924</FONT>                    }<a name="line.2924"></a>
<FONT color="green">2925</FONT>                    request.addParm('S',1,key);<a name="line.2925"></a>
<FONT color="green">2926</FONT>                    <a name="line.2926"></a>
<FONT color="green">2927</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2927"></a>
<FONT color="green">2928</FONT>                    <a name="line.2928"></a>
<FONT color="green">2929</FONT>                    if (r.isErrCall())<a name="line.2929"></a>
<FONT color="green">2930</FONT>                            return 0;<a name="line.2930"></a>
<FONT color="green">2931</FONT>                            <a name="line.2931"></a>
<FONT color="green">2932</FONT>                    int value = 0;<a name="line.2932"></a>
<FONT color="green">2933</FONT>                    value = r.GetAsInt(1);<a name="line.2933"></a>
<FONT color="green">2934</FONT>                    return value;<a name="line.2934"></a>
<FONT color="green">2935</FONT>            }<a name="line.2935"></a>
<FONT color="green">2936</FONT>            <a name="line.2936"></a>
<FONT color="green">2937</FONT>            /**<a name="line.2937"></a>
<FONT color="green">2938</FONT>             *This is used for retrieving local setup keys of type binary. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.2938"></a>
<FONT color="green">2939</FONT>             * @param key<a name="line.2939"></a>
<FONT color="green">2940</FONT>             * @return value<a name="line.2940"></a>
<FONT color="green">2941</FONT>             */<a name="line.2941"></a>
<FONT color="green">2942</FONT>            public byte[] GetBin( String key) {<a name="line.2942"></a>
<FONT color="green">2943</FONT>            <a name="line.2943"></a>
<FONT color="green">2944</FONT>                    Request request = null;<a name="line.2944"></a>
<FONT color="green">2945</FONT>                    try {<a name="line.2945"></a>
<FONT color="green">2946</FONT>                            request = new XCallRequest(0,122);<a name="line.2946"></a>
<FONT color="green">2947</FONT>                    } catch (IOException e) {<a name="line.2947"></a>
<FONT color="green">2948</FONT>                            e.printStackTrace();<a name="line.2948"></a>
<FONT color="green">2949</FONT>                            if (errorListener != null)<a name="line.2949"></a>
<FONT color="green">2950</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2950"></a>
<FONT color="green">2951</FONT>                    }<a name="line.2951"></a>
<FONT color="green">2952</FONT>                    request.addParm('S',1,key);<a name="line.2952"></a>
<FONT color="green">2953</FONT>                    <a name="line.2953"></a>
<FONT color="green">2954</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.2954"></a>
<FONT color="green">2955</FONT>                    <a name="line.2955"></a>
<FONT color="green">2956</FONT>                    if (r.isErrCall())<a name="line.2956"></a>
<FONT color="green">2957</FONT>                            return null;<a name="line.2957"></a>
<FONT color="green">2958</FONT>                            <a name="line.2958"></a>
<FONT color="green">2959</FONT>                    byte[] value = null;<a name="line.2959"></a>
<FONT color="green">2960</FONT>                    value = r.GetAsBinary(1);<a name="line.2960"></a>
<FONT color="green">2961</FONT>                    return value;<a name="line.2961"></a>
<FONT color="green">2962</FONT>            }<a name="line.2962"></a>
<FONT color="green">2963</FONT>            <a name="line.2963"></a>
<FONT color="green">2964</FONT>            /**<a name="line.2964"></a>
<FONT color="green">2965</FONT>             *This is used for setting local setup keys of type string. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.2965"></a>
<FONT color="green">2966</FONT>             * @param key<a name="line.2966"></a>
<FONT color="green">2967</FONT>             * @param value<a name="line.2967"></a>
<FONT color="green">2968</FONT>             */<a name="line.2968"></a>
<FONT color="green">2969</FONT>            public void SetStr( String key, String value) {<a name="line.2969"></a>
<FONT color="green">2970</FONT>            <a name="line.2970"></a>
<FONT color="green">2971</FONT>                    Request request = null;<a name="line.2971"></a>
<FONT color="green">2972</FONT>                    try {<a name="line.2972"></a>
<FONT color="green">2973</FONT>                            request = new XCallRequest(0,123);<a name="line.2973"></a>
<FONT color="green">2974</FONT>                    } catch (IOException e) {<a name="line.2974"></a>
<FONT color="green">2975</FONT>                            e.printStackTrace();<a name="line.2975"></a>
<FONT color="green">2976</FONT>                            if (errorListener != null)<a name="line.2976"></a>
<FONT color="green">2977</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2977"></a>
<FONT color="green">2978</FONT>                    }<a name="line.2978"></a>
<FONT color="green">2979</FONT>                    request.addParm('S',1,key);<a name="line.2979"></a>
<FONT color="green">2980</FONT>                    request.addParm('S',2,value);<a name="line.2980"></a>
<FONT color="green">2981</FONT>                    <a name="line.2981"></a>
<FONT color="green">2982</FONT>                    XCall((XCallRequest)request);<a name="line.2982"></a>
<FONT color="green">2983</FONT>            }<a name="line.2983"></a>
<FONT color="green">2984</FONT>            <a name="line.2984"></a>
<FONT color="green">2985</FONT>            /**<a name="line.2985"></a>
<FONT color="green">2986</FONT>             *This is used for setting local setup keys of type int. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.2986"></a>
<FONT color="green">2987</FONT>             * @param key<a name="line.2987"></a>
<FONT color="green">2988</FONT>             * @param value<a name="line.2988"></a>
<FONT color="green">2989</FONT>             */<a name="line.2989"></a>
<FONT color="green">2990</FONT>            public void SetInt( String key, int value) {<a name="line.2990"></a>
<FONT color="green">2991</FONT>            <a name="line.2991"></a>
<FONT color="green">2992</FONT>                    Request request = null;<a name="line.2992"></a>
<FONT color="green">2993</FONT>                    try {<a name="line.2993"></a>
<FONT color="green">2994</FONT>                            request = new XCallRequest(0,124);<a name="line.2994"></a>
<FONT color="green">2995</FONT>                    } catch (IOException e) {<a name="line.2995"></a>
<FONT color="green">2996</FONT>                            e.printStackTrace();<a name="line.2996"></a>
<FONT color="green">2997</FONT>                            if (errorListener != null)<a name="line.2997"></a>
<FONT color="green">2998</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.2998"></a>
<FONT color="green">2999</FONT>                    }<a name="line.2999"></a>
<FONT color="green">3000</FONT>                    request.addParm('S',1,key);<a name="line.3000"></a>
<FONT color="green">3001</FONT>                    request.addParm('i',2,value);<a name="line.3001"></a>
<FONT color="green">3002</FONT>                    <a name="line.3002"></a>
<FONT color="green">3003</FONT>                    XCall((XCallRequest)request);<a name="line.3003"></a>
<FONT color="green">3004</FONT>            }<a name="line.3004"></a>
<FONT color="green">3005</FONT>            <a name="line.3005"></a>
<FONT color="green">3006</FONT>            /**<a name="line.3006"></a>
<FONT color="green">3007</FONT>             *This is used for setting local setup keys of type binary. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.3007"></a>
<FONT color="green">3008</FONT>             * @param key<a name="line.3008"></a>
<FONT color="green">3009</FONT>             * @param value<a name="line.3009"></a>
<FONT color="green">3010</FONT>             */<a name="line.3010"></a>
<FONT color="green">3011</FONT>            public void SetBin( String key, byte[] value) {<a name="line.3011"></a>
<FONT color="green">3012</FONT>            <a name="line.3012"></a>
<FONT color="green">3013</FONT>                    Request request = null;<a name="line.3013"></a>
<FONT color="green">3014</FONT>                    try {<a name="line.3014"></a>
<FONT color="green">3015</FONT>                            request = new XCallRequest(0,125);<a name="line.3015"></a>
<FONT color="green">3016</FONT>                    } catch (IOException e) {<a name="line.3016"></a>
<FONT color="green">3017</FONT>                            e.printStackTrace();<a name="line.3017"></a>
<FONT color="green">3018</FONT>                            if (errorListener != null)<a name="line.3018"></a>
<FONT color="green">3019</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3019"></a>
<FONT color="green">3020</FONT>                    }<a name="line.3020"></a>
<FONT color="green">3021</FONT>                    request.addParm('S',1,key);<a name="line.3021"></a>
<FONT color="green">3022</FONT>                    request.addParm('B',2,value);<a name="line.3022"></a>
<FONT color="green">3023</FONT>                    <a name="line.3023"></a>
<FONT color="green">3024</FONT>                    XCall((XCallRequest)request);<a name="line.3024"></a>
<FONT color="green">3025</FONT>            }<a name="line.3025"></a>
<FONT color="green">3026</FONT>            <a name="line.3026"></a>
<FONT color="green">3027</FONT>            /**<a name="line.3027"></a>
<FONT color="green">3028</FONT>             *Returns true if the given setup key is defined in local setup. For more information, see Defines section in the skype-embedded_2.h  &lt;br&gt;<a name="line.3028"></a>
<FONT color="green">3029</FONT>             * @param key<a name="line.3029"></a>
<FONT color="green">3030</FONT>             * @return value<a name="line.3030"></a>
<FONT color="green">3031</FONT>             */<a name="line.3031"></a>
<FONT color="green">3032</FONT>            public boolean IsDefined( String key) {<a name="line.3032"></a>
<FONT color="green">3033</FONT>            <a name="line.3033"></a>
<FONT color="green">3034</FONT>                    Request request = null;<a name="line.3034"></a>
<FONT color="green">3035</FONT>                    try {<a name="line.3035"></a>
<FONT color="green">3036</FONT>                            request = new XCallRequest(0,126);<a name="line.3036"></a>
<FONT color="green">3037</FONT>                    } catch (IOException e) {<a name="line.3037"></a>
<FONT color="green">3038</FONT>                            e.printStackTrace();<a name="line.3038"></a>
<FONT color="green">3039</FONT>                            if (errorListener != null)<a name="line.3039"></a>
<FONT color="green">3040</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3040"></a>
<FONT color="green">3041</FONT>                    }<a name="line.3041"></a>
<FONT color="green">3042</FONT>                    request.addParm('S',1,key);<a name="line.3042"></a>
<FONT color="green">3043</FONT>                    <a name="line.3043"></a>
<FONT color="green">3044</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.3044"></a>
<FONT color="green">3045</FONT>                    <a name="line.3045"></a>
<FONT color="green">3046</FONT>                    if (r.isErrCall())<a name="line.3046"></a>
<FONT color="green">3047</FONT>                            return false;<a name="line.3047"></a>
<FONT color="green">3048</FONT>                            <a name="line.3048"></a>
<FONT color="green">3049</FONT>                    boolean value = false;<a name="line.3049"></a>
<FONT color="green">3050</FONT>                    value = r.GetAsBoolean(1);<a name="line.3050"></a>
<FONT color="green">3051</FONT>                    return value;<a name="line.3051"></a>
<FONT color="green">3052</FONT>            }<a name="line.3052"></a>
<FONT color="green">3053</FONT>            <a name="line.3053"></a>
<FONT color="green">3054</FONT>            /**<a name="line.3054"></a>
<FONT color="green">3055</FONT>             * @param key<a name="line.3055"></a>
<FONT color="green">3056</FONT>             */<a name="line.3056"></a>
<FONT color="green">3057</FONT>            public void Delete( String key) {<a name="line.3057"></a>
<FONT color="green">3058</FONT>            <a name="line.3058"></a>
<FONT color="green">3059</FONT>                    Request request = null;<a name="line.3059"></a>
<FONT color="green">3060</FONT>                    try {<a name="line.3060"></a>
<FONT color="green">3061</FONT>                            request = new XCallRequest(0,127);<a name="line.3061"></a>
<FONT color="green">3062</FONT>                    } catch (IOException e) {<a name="line.3062"></a>
<FONT color="green">3063</FONT>                            e.printStackTrace();<a name="line.3063"></a>
<FONT color="green">3064</FONT>                            if (errorListener != null)<a name="line.3064"></a>
<FONT color="green">3065</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3065"></a>
<FONT color="green">3066</FONT>                    }<a name="line.3066"></a>
<FONT color="green">3067</FONT>                    request.addParm('S',1,key);<a name="line.3067"></a>
<FONT color="green">3068</FONT>                    <a name="line.3068"></a>
<FONT color="green">3069</FONT>                    XCall((XCallRequest)request);<a name="line.3069"></a>
<FONT color="green">3070</FONT>            }<a name="line.3070"></a>
<FONT color="green">3071</FONT>            <a name="line.3071"></a>
<FONT color="green">3072</FONT>            /**<a name="line.3072"></a>
<FONT color="green">3073</FONT>             * @param key<a name="line.3073"></a>
<FONT color="green">3074</FONT>             * @return value<a name="line.3074"></a>
<FONT color="green">3075</FONT>             */<a name="line.3075"></a>
<FONT color="green">3076</FONT>            public String [] GetSubKeys( String key) {<a name="line.3076"></a>
<FONT color="green">3077</FONT>            <a name="line.3077"></a>
<FONT color="green">3078</FONT>                    Request request = null;<a name="line.3078"></a>
<FONT color="green">3079</FONT>                    try {<a name="line.3079"></a>
<FONT color="green">3080</FONT>                            request = new XCallRequest(0,128);<a name="line.3080"></a>
<FONT color="green">3081</FONT>                    } catch (IOException e) {<a name="line.3081"></a>
<FONT color="green">3082</FONT>                            e.printStackTrace();<a name="line.3082"></a>
<FONT color="green">3083</FONT>                            if (errorListener != null)<a name="line.3083"></a>
<FONT color="green">3084</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3084"></a>
<FONT color="green">3085</FONT>                    }<a name="line.3085"></a>
<FONT color="green">3086</FONT>                    request.addParm('S',1,key);<a name="line.3086"></a>
<FONT color="green">3087</FONT>                    <a name="line.3087"></a>
<FONT color="green">3088</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.3088"></a>
<FONT color="green">3089</FONT>                    <a name="line.3089"></a>
<FONT color="green">3090</FONT>                    if (r.isErrCall())<a name="line.3090"></a>
<FONT color="green">3091</FONT>                            return null;<a name="line.3091"></a>
<FONT color="green">3092</FONT>                            <a name="line.3092"></a>
<FONT color="green">3093</FONT>                    Vector&lt;String&gt; value = new Vector&lt;String&gt;();<a name="line.3093"></a>
<FONT color="green">3094</FONT>                    while (r.HasMore(1))<a name="line.3094"></a>
<FONT color="green">3095</FONT>                    {<a name="line.3095"></a>
<FONT color="green">3096</FONT>                            String string = null;<a name="line.3096"></a>
<FONT color="green">3097</FONT>                            string  = r.GetAsString(1);<a name="line.3097"></a>
<FONT color="green">3098</FONT>                            value.add(string);<a name="line.3098"></a>
<FONT color="green">3099</FONT>                    }<a name="line.3099"></a>
<FONT color="green">3100</FONT>                    return value.toArray(new String[value.size()]);<a name="line.3100"></a>
<FONT color="green">3101</FONT>                    <a name="line.3101"></a>
<FONT color="green">3102</FONT>            }<a name="line.3102"></a>
<FONT color="green">3103</FONT>            <a name="line.3103"></a>
<FONT color="green">3104</FONT>            /**<a name="line.3104"></a>
<FONT color="green">3105</FONT>             *Returns two string lists. First of them will contain list of two-letter language codes (ISO 639-1) The second list contains names of corresponding languages. &lt;br&gt;<a name="line.3105"></a>
<FONT color="green">3106</FONT>             * @return GetISOLanguageInfoResult<a name="line.3106"></a>
<FONT color="green">3107</FONT>             */<a name="line.3107"></a>
<FONT color="green">3108</FONT>            public GetISOLanguageInfoResult GetISOLanguageInfo() {<a name="line.3108"></a>
<FONT color="green">3109</FONT>            <a name="line.3109"></a>
<FONT color="green">3110</FONT>                    Request request = null;<a name="line.3110"></a>
<FONT color="green">3111</FONT>                    try {<a name="line.3111"></a>
<FONT color="green">3112</FONT>                            request = new XCallRequest(0,207);<a name="line.3112"></a>
<FONT color="green">3113</FONT>                    } catch (IOException e) {<a name="line.3113"></a>
<FONT color="green">3114</FONT>                            e.printStackTrace();<a name="line.3114"></a>
<FONT color="green">3115</FONT>                            if (errorListener != null)<a name="line.3115"></a>
<FONT color="green">3116</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3116"></a>
<FONT color="green">3117</FONT>                    }<a name="line.3117"></a>
<FONT color="green">3118</FONT>                    <a name="line.3118"></a>
<FONT color="green">3119</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.3119"></a>
<FONT color="green">3120</FONT>                    <a name="line.3120"></a>
<FONT color="green">3121</FONT>                    if (r.isErrCall())<a name="line.3121"></a>
<FONT color="green">3122</FONT>                            return null;<a name="line.3122"></a>
<FONT color="green">3123</FONT>                            <a name="line.3123"></a>
<FONT color="green">3124</FONT>                    GetISOLanguageInfoResult result = new GetISOLanguageInfoResult();<a name="line.3124"></a>
<FONT color="green">3125</FONT>                    <a name="line.3125"></a>
<FONT color="green">3126</FONT>                    Vector&lt;String&gt; languageCodeList = new Vector&lt;String&gt;();<a name="line.3126"></a>
<FONT color="green">3127</FONT>                    while (r.HasMore(1))<a name="line.3127"></a>
<FONT color="green">3128</FONT>                    {<a name="line.3128"></a>
<FONT color="green">3129</FONT>                            String string = null;<a name="line.3129"></a>
<FONT color="green">3130</FONT>                            string  = r.GetAsString(1);<a name="line.3130"></a>
<FONT color="green">3131</FONT>                            languageCodeList.add(string);<a name="line.3131"></a>
<FONT color="green">3132</FONT>                    }<a name="line.3132"></a>
<FONT color="green">3133</FONT>                    result.languageCodeList = languageCodeList.toArray(new String[languageCodeList.size()]);<a name="line.3133"></a>
<FONT color="green">3134</FONT>                    <a name="line.3134"></a>
<FONT color="green">3135</FONT>                    Vector&lt;String&gt; languageNameList = new Vector&lt;String&gt;();<a name="line.3135"></a>
<FONT color="green">3136</FONT>                    while (r.HasMore(2))<a name="line.3136"></a>
<FONT color="green">3137</FONT>                    {<a name="line.3137"></a>
<FONT color="green">3138</FONT>                            String string = null;<a name="line.3138"></a>
<FONT color="green">3139</FONT>                            string  = r.GetAsString(2);<a name="line.3139"></a>
<FONT color="green">3140</FONT>                            languageNameList.add(string);<a name="line.3140"></a>
<FONT color="green">3141</FONT>                    }<a name="line.3141"></a>
<FONT color="green">3142</FONT>                    result.languageNameList = languageNameList.toArray(new String[languageNameList.size()]);<a name="line.3142"></a>
<FONT color="green">3143</FONT>                    <a name="line.3143"></a>
<FONT color="green">3144</FONT>                    return result;<a name="line.3144"></a>
<FONT color="green">3145</FONT>            }<a name="line.3145"></a>
<FONT color="green">3146</FONT>            <a name="line.3146"></a>
<FONT color="green">3147</FONT>            public class GetISOLanguageInfoResult {<a name="line.3147"></a>
<FONT color="green">3148</FONT>                    public String [] languageCodeList;<a name="line.3148"></a>
<FONT color="green">3149</FONT>                    public String [] languageNameList; /** assumes UI has set correct language */<a name="line.3149"></a>
<FONT color="green">3150</FONT>            }<a name="line.3150"></a>
<FONT color="green">3151</FONT>            <a name="line.3151"></a>
<FONT color="green">3152</FONT>            /**<a name="line.3152"></a>
<FONT color="green">3153</FONT>             *Returns three string lists and one int array, containing 2-letter country code, country name, dialing prefix and example dial string (not available for all items). This method does currently return 0 for South Georgia and the South Sandwich Islands. &lt;br&gt;<a name="line.3153"></a>
<FONT color="green">3154</FONT>             * @return GetISOCountryInfoResult<a name="line.3154"></a>
<FONT color="green">3155</FONT>             */<a name="line.3155"></a>
<FONT color="green">3156</FONT>            public GetISOCountryInfoResult GetISOCountryInfo() {<a name="line.3156"></a>
<FONT color="green">3157</FONT>            <a name="line.3157"></a>
<FONT color="green">3158</FONT>                    Request request = null;<a name="line.3158"></a>
<FONT color="green">3159</FONT>                    try {<a name="line.3159"></a>
<FONT color="green">3160</FONT>                            request = new XCallRequest(0,208);<a name="line.3160"></a>
<FONT color="green">3161</FONT>                    } catch (IOException e) {<a name="line.3161"></a>
<FONT color="green">3162</FONT>                            e.printStackTrace();<a name="line.3162"></a>
<FONT color="green">3163</FONT>                            if (errorListener != null)<a name="line.3163"></a>
<FONT color="green">3164</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3164"></a>
<FONT color="green">3165</FONT>                    }<a name="line.3165"></a>
<FONT color="green">3166</FONT>                    <a name="line.3166"></a>
<FONT color="green">3167</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.3167"></a>
<FONT color="green">3168</FONT>                    <a name="line.3168"></a>
<FONT color="green">3169</FONT>                    if (r.isErrCall())<a name="line.3169"></a>
<FONT color="green">3170</FONT>                            return null;<a name="line.3170"></a>
<FONT color="green">3171</FONT>                            <a name="line.3171"></a>
<FONT color="green">3172</FONT>                    GetISOCountryInfoResult result = new GetISOCountryInfoResult();<a name="line.3172"></a>
<FONT color="green">3173</FONT>                    <a name="line.3173"></a>
<FONT color="green">3174</FONT>                    Vector&lt;String&gt; countryCodeList = new Vector&lt;String&gt;();<a name="line.3174"></a>
<FONT color="green">3175</FONT>                    while (r.HasMore(1))<a name="line.3175"></a>
<FONT color="green">3176</FONT>                    {<a name="line.3176"></a>
<FONT color="green">3177</FONT>                            String string = null;<a name="line.3177"></a>
<FONT color="green">3178</FONT>                            string  = r.GetAsString(1);<a name="line.3178"></a>
<FONT color="green">3179</FONT>                            countryCodeList.add(string);<a name="line.3179"></a>
<FONT color="green">3180</FONT>                    }<a name="line.3180"></a>
<FONT color="green">3181</FONT>                    result.countryCodeList = countryCodeList.toArray(new String[countryCodeList.size()]);<a name="line.3181"></a>
<FONT color="green">3182</FONT>                    <a name="line.3182"></a>
<FONT color="green">3183</FONT>                    Vector&lt;String&gt; countryNameList = new Vector&lt;String&gt;();<a name="line.3183"></a>
<FONT color="green">3184</FONT>                    while (r.HasMore(2))<a name="line.3184"></a>
<FONT color="green">3185</FONT>                    {<a name="line.3185"></a>
<FONT color="green">3186</FONT>                            String string = null;<a name="line.3186"></a>
<FONT color="green">3187</FONT>                            string  = r.GetAsString(2);<a name="line.3187"></a>
<FONT color="green">3188</FONT>                            countryNameList.add(string);<a name="line.3188"></a>
<FONT color="green">3189</FONT>                    }<a name="line.3189"></a>
<FONT color="green">3190</FONT>                    result.countryNameList = countryNameList.toArray(new String[countryNameList.size()]);<a name="line.3190"></a>
<FONT color="green">3191</FONT>                    <a name="line.3191"></a>
<FONT color="green">3192</FONT>                    Vector&lt;Integer&gt; countryPrefixList = new Vector&lt;Integer&gt;();<a name="line.3192"></a>
<FONT color="green">3193</FONT>                    while (r.HasMore(3))<a name="line.3193"></a>
<FONT color="green">3194</FONT>                    {<a name="line.3194"></a>
<FONT color="green">3195</FONT>                            Integer integer = null;<a name="line.3195"></a>
<FONT color="green">3196</FONT>                            integer = new Integer(r.GetAsInt(3));<a name="line.3196"></a>
<FONT color="green">3197</FONT>                            countryPrefixList.add(integer);<a name="line.3197"></a>
<FONT color="green">3198</FONT>                    }<a name="line.3198"></a>
<FONT color="green">3199</FONT>                    <a name="line.3199"></a>
<FONT color="green">3200</FONT>                    int[] intArray = new int[countryPrefixList.size()];<a name="line.3200"></a>
<FONT color="green">3201</FONT>                    for (int i = 0; i &lt; countryPrefixList.size(); i++) {<a name="line.3201"></a>
<FONT color="green">3202</FONT>                            intArray[i] = countryPrefixList.get(i);<a name="line.3202"></a>
<FONT color="green">3203</FONT>                    }<a name="line.3203"></a>
<FONT color="green">3204</FONT>                    result.countryPrefixList = intArray;<a name="line.3204"></a>
<FONT color="green">3205</FONT>                    Vector&lt;String&gt; countryDialExampleList = new Vector&lt;String&gt;();<a name="line.3205"></a>
<FONT color="green">3206</FONT>                    while (r.HasMore(4))<a name="line.3206"></a>
<FONT color="green">3207</FONT>                    {<a name="line.3207"></a>
<FONT color="green">3208</FONT>                            String string = null;<a name="line.3208"></a>
<FONT color="green">3209</FONT>                            string  = r.GetAsString(4);<a name="line.3209"></a>
<FONT color="green">3210</FONT>                            countryDialExampleList.add(string);<a name="line.3210"></a>
<FONT color="green">3211</FONT>                    }<a name="line.3211"></a>
<FONT color="green">3212</FONT>                    result.countryDialExampleList = countryDialExampleList.toArray(new String[countryDialExampleList.size()]);<a name="line.3212"></a>
<FONT color="green">3213</FONT>                    <a name="line.3213"></a>
<FONT color="green">3214</FONT>                    return result;<a name="line.3214"></a>
<FONT color="green">3215</FONT>            }<a name="line.3215"></a>
<FONT color="green">3216</FONT>            <a name="line.3216"></a>
<FONT color="green">3217</FONT>            public class GetISOCountryInfoResult {<a name="line.3217"></a>
<FONT color="green">3218</FONT>                    public String [] countryCodeList;<a name="line.3218"></a>
<FONT color="green">3219</FONT>                    public String [] countryNameList; /** assumes UI has set correct language */<a name="line.3219"></a>
<FONT color="green">3220</FONT>                    public int [] countryPrefixList;<a name="line.3220"></a>
<FONT color="green">3221</FONT>                    public String [] countryDialExampleList;<a name="line.3221"></a>
<FONT color="green">3222</FONT>            }<a name="line.3222"></a>
<FONT color="green">3223</FONT>            <a name="line.3223"></a>
<FONT color="green">3224</FONT>            /**<a name="line.3224"></a>
<FONT color="green">3225</FONT>             *Returns 2-letter country code based on PSTN number. The input argument has to be without + in from of it - '37212345678' will return 'ee' while '+37212345678' will return an empty string. &lt;br&gt;<a name="line.3225"></a>
<FONT color="green">3226</FONT>             * @param number<a name="line.3226"></a>
<FONT color="green">3227</FONT>             * @return countryCode<a name="line.3227"></a>
<FONT color="green">3228</FONT>             */<a name="line.3228"></a>
<FONT color="green">3229</FONT>            public String GetISOCountryCodebyPhoneNo( String number) {<a name="line.3229"></a>
<FONT color="green">3230</FONT>            <a name="line.3230"></a>
<FONT color="green">3231</FONT>                    Request request = null;<a name="line.3231"></a>
<FONT color="green">3232</FONT>                    try {<a name="line.3232"></a>
<FONT color="green">3233</FONT>                            request = new XCallRequest(0,211);<a name="line.3233"></a>
<FONT color="green">3234</FONT>                    } catch (IOException e) {<a name="line.3234"></a>
<FONT color="green">3235</FONT>                            e.printStackTrace();<a name="line.3235"></a>
<FONT color="green">3236</FONT>                            if (errorListener != null)<a name="line.3236"></a>
<FONT color="green">3237</FONT>                                    errorListener.OnSkypeKitFatalError();<a name="line.3237"></a>
<FONT color="green">3238</FONT>                    }<a name="line.3238"></a>
<FONT color="green">3239</FONT>                    request.addParm('S',1,number);<a name="line.3239"></a>
<FONT color="green">3240</FONT>                    <a name="line.3240"></a>
<FONT color="green">3241</FONT>                    Response r = XCall((XCallRequest)request);<a name="line.3241"></a>
<FONT color="green">3242</FONT>                    <a name="line.3242"></a>
<FONT color="green">3243</FONT>                    if (r.isErrCall())<a name="line.3243"></a>
<FONT color="green">3244</FONT>                            return null;<a name="line.3244"></a>
<FONT color="green">3245</FONT>                            <a name="line.3245"></a>
<FONT color="green">3246</FONT>                    String countryCode = null;<a name="line.3246"></a>
<FONT color="green">3247</FONT>                    countryCode = r.GetAsString(1);<a name="line.3247"></a>
<FONT color="green">3248</FONT>                    return countryCode;<a name="line.3248"></a>
<FONT color="green">3249</FONT>            }<a name="line.3249"></a>
<FONT color="green">3250</FONT>            <a name="line.3250"></a>
<FONT color="green">3251</FONT>    <a name="line.3251"></a>
<FONT color="green">3252</FONT>    }<a name="line.3252"></a>




























































</PRE>
</BODY>
</HTML>
