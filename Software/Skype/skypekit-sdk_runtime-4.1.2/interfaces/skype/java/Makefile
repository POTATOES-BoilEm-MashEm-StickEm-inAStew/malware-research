SID_DIR=../../../

LUA ?= lua5.1

all: create-dirs generate-javafiles

# Custom Android API exclusion script
android-exclude:
	$(LUA) -e "android=true" android.lua > ../Skype.lua

generate-javafiles: create-dirs
	$(LUA) generator/generate_java_wrapper.lua

create-dirs:
	mkdir -p api/com/skype/api

api:
	ant -f api/build.xml

client: api
	ant -f client/build.xml

docs:
	ant -f documentation/doc_res/build.xml

clean:
	rm -rf api/com

